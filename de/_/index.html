<!doctype html>
<html class="no-js" lang="de" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Suche" href="search.html">

    <!-- Generated with Sphinx 9.1.0 and Furo 2025.12.19 -->
        <title>releng-tool Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="_static/theme_overrides.css?v=88acf7b1" />
    <link rel="stylesheet" type="text/css" href="_static/theme_overrides_singlebuilder.css?v=69bb1ead" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">releng-tool</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">

<div class="sidebar-logo-container">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 8.02" class="sidebar-logo" alt="releng-tool">
        <path d="M3.48 0a.2.2 0 0 0-.01 0 .2.2 0 0 0-.1.04l-1.6.93a.2.2 0 0 0-.05.03l-1.6.92a.2.2 0 0 0-.01.01.2.2 0 0 0-.02.01.2.2 0 0 0-.02.02.2.2 0 0 0-.02.01V2a.2.2 0 0 0-.03 0 .2.2 0 0 0-.02.04.2.2 0 0 0 0 .02v.01a.2.2 0 0 0 0 .03.2.2 0 0 0 0 .02.2.2 0 0 0 0 .02V5.9c0 .04 0 .07.02.1v.02a.2.2 0 0 0 .02.04l.08.05 3.25 1.88h.01V8h.02l.01.02a.2.2 0 0 0 .12.01.2.2 0 0 0 .02 0h.02A.2.2 0 0 0 3.61 8h.02l3.24-1.9a.2.2 0 0 0 .1-.07V6l.01-.02A.2.2 0 0 0 7 5.9V2.14a.2.2 0 0 0 0-.02.2.2 0 0 0 0-.02.2.2 0 0 0 0-.03.2.2 0 0 0-.01-.02.2.2 0 0 0-.07-.1H6.9l-.01-.01h-.01v-.01h-.02L3.62.05A.2.2 0 0 0 3.48 0Zm.02.43 2.9 1.68-1.26.72-2.91-1.67Zm-1.65.95 2.91 1.68-1.26.73L.6 2.1ZM.4 2.45l2.9 1.68v3.36L.4 5.8Zm6.2 0v3.36L3.7 7.49V4.13Z" style="fill:var(--color-foreground-primary)"/>
    </svg>
</div>


</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Suche" name="q" aria-label="Suche">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="#document-requirements">Anforderungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-install">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="#document-getting-started/getting-started">Erste Schritte</a><input aria-label="Toggle navigation of Erste Schritte" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-getting-started/prelude">Pr√§ludium</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="#document-getting-started/tutorials">Tutorials</a><input aria-label="Toggle navigation of Tutorials" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="#document-getting-started/tutorial-basic">Tutorial ‚ÄûBasic packages‚Äú</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-getting-started/tutorial-sdl">Tutorial ‚ÄûAn SDL example‚Äú</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-getting-started/tutorial-toolchain">Tutorial ‚ÄûA toolchain example‚Äú</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#document-getting-started/rebuilds">Understanding rebuilds</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-getting-started/fetching">Understanding fetching</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="#document-guides/guides">User guides</a><input aria-label="Toggle navigation of User guides" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-guides/arguments">Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-guides/configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-guides/environment">Environment variables</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="#document-guides/packages/packages">Packages</a><input aria-label="Toggle navigation of Packages" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/common-pkg-options">Common options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/advanced-pkg-options">Advanced options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/system-pkg-options">System-specific options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/bootstrapping">Bootstrapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/post-processing">Post-processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/site-definitions">Site definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/hash-file">Hash file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/ascii-armor">ASCII armor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-script">Script package (default)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-autotools">Autotools package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-cargo">Cargo package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-cmake">CMake package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-make">Make package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-meson">Meson package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-python">Python package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-scons">SCons package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/pkg-type-waf">Waf package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/hacking">Package hacking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/packages/deprecated-pkg-options">Deprecated options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#document-guides/post-processing">Post-processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-guides/script-helpers">Script helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-guides/licenses">Licenses</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="#document-guides/tips/tips">Tips</a><input aria-label="Toggle navigation of Tips" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/tips/offline-builds">Offline builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/tips/parallel-builds">Parallel builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/tips/privileged-builds">Privileged builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/tips/license-generation">License generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/tips/alternative-extensions">Alternative extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/tips/vcs-ignore">VCS Ignore</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="#document-guides/advanced-guides">Advanced</a><input aria-label="Toggle navigation of Advanced" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/patching">Patching</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/intern-extern-pkgs">Internal/external packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/development-mode">Development mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/local-sources-mode">Local-sources mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/profiles">Profiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/configuration-overrides">Configuration overrides</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="#document-guides/quirks/quirks">Quirks</a><input aria-label="Toggle navigation of Quirks" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-bzr-certifi">releng.bzr.certifi</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-cmake-disable_direct_includes">releng.cmake.disable_direct_includes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-cmake-disable_parallel_option">releng.cmake.disable_parallel_option</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-disable_devmode_ignore_cache">releng.disable_devmode_ignore_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-disable_local_site_warn">releng.disable_local_site_warn</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-disable_prerequisites_check">releng.disable_prerequisites_check</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-disable_remote_configs">releng.disable_remote_configs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-disable_remote_scripts">releng.disable_remote_scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-disable_spdx_check">releng.disable_spdx_check</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-disable_verbose_patch">releng.disable_verbose_patch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-git-no_depth">releng.git.no_depth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-git-no_quick_fetch">releng.git.no_quick_fetch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-git-replicate_cache">releng.git.replicate_cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-ignore_failed_extensions">releng.ignore_failed_extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-log-execute_args">releng.log.execute_args</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-log-execute_env">releng.log.execute_env</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-guides/quirks/quirk-stats-no_pdf">releng.stats.no_pdf</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="#document-guides/extensions/extensions">Extensions</a><input aria-label="Toggle navigation of Extensions" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/extensions/making-a-custom-post-build-action">Making a custom post-build action extension</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-guides/extensions/making-a-custom-package-type">Making a custom package type extension</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="#document-examples/examples">Examples</a><input aria-label="Toggle navigation of Examples" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-examples/examples-autotools">Autotools package examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-examples/examples-cargo">Cargo package examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-examples/examples-cmake">CMake package examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-examples/examples-make">Make package examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-examples/examples-meson">Meson package examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-examples/examples-python">Python package examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-examples/examples-scons">SCons package examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-examples/examples-waf">Waf package examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-help">Um Hilfe bitten</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-contributors">Leitfaden f√ºr Mitwirkende</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="#document-release-notes">Versionshinweise</a><input aria-label="Toggle navigation of Versionshinweise" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2026-03-01_02.09.00">2.9 (2026-03-01)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2026-02-22_02.08.00">2.8 (2026-02-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2026-02-08_02.07.00">2.7 (2026-02-08)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2025-08-03_02.06.00">2.6 (2025-08-03)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2025-06-22_02.05.00">2.5 (2025-06-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2025-05-31_02.04.00">2.4 (2025-05-31)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2025-05-04_02.03.00">2.3 (2025-05-04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2025-03-29_02.02.00">2.2 (2025-03-29)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2025-02-17_02.01.00">2.1 (2025-02-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2025-02-09_02.00.00">2.0 (2025-02-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2025-01-19_01.04.00">1.4 (2025-01-19)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2024-08-01_01.03.00">1.3 (2024-08-19)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2024-07-01_01.02.00">1.2 (2024-07-01)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2024-03-29_01.01.00">1.1 (2024-03-29)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2023-12-22_01.00.00">1.0 (2023-12-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2023-08-06_00.17.00">0.17 (2023-08-06)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2023-05-07_00.16.00">0.16 (2023-05-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2023-02-12_00.15.00">0.15 (2023-02-12)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2023-02-05_00.14.00">0.14 (2023-02-05)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2022-08-10_00.13.00">0.13 (2022-08-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2022-05-02_00.12.00">0.12 (2022-05-02)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2022-02-26_00.11.00">0.11 (2022-02-26)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#document-news/2021-12-31_00.10.00">0.10 (2021-12-31)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-annex-a">ANHANG A ‚Äî Kurzreferenz</a></li>
</ul>

</div>

<div class="sidebar-scroll">
  <div class="sidebar-tree">
    <hr class="injected-sidebar-tree-spacer" />
    <ul>
      <li><a class="reference external" href="https://releng.io/">releng.io</a></li>
      <li><a class="reference external" href="https://github.com/releng-tool/releng-tool">releng-tool GitHub</a></li>
    </ul>
    <hr class="injected-sidebar-tree-spacer" />
    <div class="injected-sidebar-extras">
        <a class="reference" href="releng-tool.pdf">üóé PDF</a>
        <a class="reference" href="_/">üóè Full Page</a>
    </div>

    <hr class="injected-sidebar-tree-spacer" />
    <div class="injected-sidebar-i8n">
      üïÆ

      ¬∑ <a class="notranslate" href="https://docs-develop.releng.io/en/">English</a>

      ¬∑ <a class="notranslate" href="https://docs-develop.releng.io/de/">Deutsch</a>

      ¬∑ <a class="notranslate" href="https://docs-develop.releng.io/es/">espa√±ol</a>

      ¬∑ <a class="notranslate" href="https://docs-develop.releng.io/ja/">Êó•Êú¨Ë™û</a>

      ¬∑ <a class="notranslate" href="https://docs-develop.releng.io/pl/">polski</a>

      ¬∑ <a class="notranslate" href="https://docs-develop.releng.io/zh_Hans/">‰∏≠Êñá (ÁÆÄ‰Ωì)</a>

      ¬∑ <a class="notranslate" href="https://docs-develop.releng.io/zh_Hant/">‰∏≠Êñá (ÁπÅÈ´î)</a>

    </div>

  </div>
</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="releng-tool">
<h1>releng-tool<a class="headerlink" href="#releng-tool" title="Link to this heading">¬∂</a></h1>
<p>releng-tool aims to provide a way for developers to tailor the building of
multiple software components to help prepare packages for desired runtime
environments (e.g. cross-platform portable packages, embedded targets, etc.).
When building a package, assets may be located in multiple locations and may
require various methods to extract, build and more. releng-tool allows
developers to define a set of packages, specifying where resources should be
fetched from, how packages should be extracted and the processes for
patching, configuring, building and installing each package for a target
sysroot.</p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 158.75 66.15">
  <path style="stroke:var(--color-foreground-primary)" fill-opacity=".55" stroke-dasharray=".3 .3" stroke-dashoffset=".18" stroke-width=".3" d="m88.03 45.77.03-4.2"/>
  <path style="stroke:var(--color-foreground-primary)" fill-opacity=".55" stroke-dasharray=".3 .3" stroke-width=".3" d="M88.06 24.88V14.42"/>
  <path style="fill:var(--color-foreground-primary)" d="M16.66 25.13c-1.96 0-3.73.2-5.04.53-.66.16-1.2.36-1.6.6-.39.23-.68.54-.7.93v12.06c.03.38.32.68.7.91.4.24.94.43 1.6.6 1.3.33 3.08.53 5.04.53s3.74-.2 5.04-.53a6.2 6.2 0 0 0 1.6-.6c.38-.23.67-.53.7-.91V27.2c-.01-.4-.3-.7-.7-.94-.4-.24-.94-.44-1.6-.6-1.3-.33-3.08-.53-5.04-.53zm0 .64c1.91 0 3.64.2 4.87.5a6 6 0 0 1 1.4.53c.32.2.41.34.41.42 0 .08-.1.24-.4.42-.3.2-.8.37-1.4.53-1.24.31-2.97.5-4.88.5-1.91 0-3.64-.19-4.87-.5a5.53 5.53 0 0 1-1.4-.53c-.32-.18-.4-.34-.4-.42 0-.08.08-.23.4-.42.3-.18.79-.37 1.4-.52a20.9 20.9 0 0 1 4.87-.51zm-6.71 2.37.07.05c.4.24.94.43 1.6.6 1.3.33 3.08.53 5.04.53s3.74-.2 5.04-.53a11.7 11.7 0 0 0 1.67-.65l-.01 3.06s-.11.25-.42.43c-.3.2-.8.37-1.4.53-1.24.3-2.97.5-4.88.5-1.91 0-3.64-.2-4.87-.5a5.54 5.54 0 0 1-1.4-.53 1.12 1.12 0 0 1-.44-.42zm0 4 .07.04c.4.24.95.43 1.6.6 1.3.33 3.08.53 5.04.53s3.74-.2 5.04-.53a6.2 6.2 0 0 0 1.6-.6l.07-.05-.01 3.06s-.11.25-.42.43c-.3.18-.8.37-1.4.53-1.24.3-2.97.5-4.88.5-1.91 0-3.64-.2-4.87-.5-.49-.11-.96-.3-1.4-.53a1.13 1.13 0 0 1-.44-.42zm0 3.98.07.04c.4.24.95.44 1.6.6 1.3.34 3.08.54 5.04.54s3.74-.2 5.04-.53c.66-.17 1.2-.37 1.6-.6l.07-.05-.01 3.02s-.11.29-.42.47c-.3.19-.8.37-1.4.53-1.24.3-2.97.5-4.88.5-1.91 0-3.64-.2-4.87-.5-.49-.11-.96-.3-1.4-.53-.32-.18-.44-.47-.44-.47z"/>
  <path style="fill:var(--color-foreground-primary)" d="M138.73 25.35a.4.4 0 0 0-.03 0 .4.4 0 0 0-.18.08l-3.24 1.88h-.01a.4.4 0 0 0-.1.05l-3.24 1.87a.4.4 0 0 0-.03.02.4.4 0 0 0-.03.02h-.01l-.01.01a.4.4 0 0 0-.03.02.42.42 0 0 0-.03.03l-.02.03a.42.42 0 0 0-.03.03.4.4 0 0 0-.04.08.4.4 0 0 0 0 .04l-.02.03a.4.4 0 0 0 0 .05.4.4 0 0 0 0 .05.4.4 0 0 0 0 .04v7.59c0 .07 0 .14.03.21l.02.03a.42.42 0 0 0 .04.07c.04.05.1.1.16.12l6.58 3.8.02.01.01.01.02.01.03.02a.4.4 0 0 0 .24.03.4.4 0 0 0 .04 0l.02-.01.02-.01a.4.4 0 0 0 .07-.04h.01l.01-.01.02-.01 6.57-3.8a.4.4 0 0 0 .2-.16l.01-.03v-.01l.02-.03a.4.4 0 0 0 .03-.21v-7.59a.4.4 0 0 0 0-.04.4.4 0 0 0 0-.04.4.4 0 0 0 0-.05.42.42 0 0 0-.02-.04.4.4 0 0 0-.13-.2l-.01-.02h-.02l-.02-.02h-.02l-.01-.02h-.02l-6.59-3.8a.4.4 0 0 0-.28-.1zm.03.86 5.9 3.4-2.55 1.47-5.9-3.4zm-3.34 1.93 5.9 3.4-2.56 1.47-5.88-3.4zm-2.94 2.16 5.89 3.4v6.8l-5.9-3.4zm12.57 0v6.8l-5.89 3.4v-6.8z"/>
  <path style="fill:var(--color-foreground-primary)" fill-opacity=".55" d="M77.74 9.68a.27.27 0 0 0-.26.26v47.1c0 .14.12.25.26.26h20.64c.14 0 .25-.12.26-.26V9.94a.27.27 0 0 0-.26-.26Zm.27.53h20.1v46.56h-20.1zm43.34-.54c.15 0 .26.12.26.27v47.1c0 .14-.12.25-.26.26H100.7a.27.27 0 0 1-.26-.27V9.94c0-.14.12-.25.26-.26zm-.27.53h-20.1v46.56h20.1z"/>
  <path style="fill:var(--color-foreground-primary)" d="M79.67 54.5v-.63a1.4 1.4 0 0 0 .73.23c.13 0 .24-.02.32-.06a.17.17 0 0 0 .11-.17.16.16 0 0 0-.05-.12l-.14-.08-.18-.07a.9.9 0 0 1-.19-.06l-.26-.12a.99.99 0 0 1-.19-.15.71.71 0 0 1-.15-.46c0-.13.03-.25.09-.35.06-.1.14-.18.24-.25.1-.07.21-.11.34-.14.13-.03.27-.04.41-.04l.33.02.34.08v.58a1.32 1.32 0 0 0-.64-.16l-.14.01a.32.32 0 0 0-.12.04.16.16 0 0 0-.11.16c0 .04.02.07.05.1.03.04.06.07.11.1l.16.06.17.05a1.43 1.43 0 0 1 .48.26.5.5 0 0 1 .14.2.8.8 0 0 1 .04.27.7.7 0 0 1-.1.38.78.78 0 0 1-.24.25 1.77 1.77 0 0 1-.8.19c-.27 0-.52-.04-.75-.13zm3.83.03a1.1 1.1 0 0 1-.51.09c-.53 0-.8-.28-.8-.84v-1.13h-.4v-.56h.4v-.54l.75-.21v.75h.56v.56h-.56v1c0 .25.1.38.3.38a.5.5 0 0 0 .26-.07zm2.48.03h-.72v-.36h-.01a.8.8 0 0 1-.74.42.76.76 0 0 1-.56-.2.76.76 0 0 1-.2-.55c0-.48.28-.76.84-.83l.67-.09c0-.27-.14-.4-.43-.4-.3 0-.58.09-.84.26v-.58a2.41 2.41 0 0 1 .93-.2c.7 0 1.06.35 1.06 1.05zm-.72-1v-.17l-.44.05c-.25.03-.38.15-.38.34 0 .09.03.16.1.21.06.06.14.09.24.09.14 0 .26-.05.35-.15.09-.1.13-.23.13-.38zm3.74.71c0 .47-.13.82-.4 1.07-.27.25-.65.38-1.15.38-.33 0-.6-.05-.79-.15v-.64c.25.15.51.22.77.22s.46-.07.6-.2a.72.72 0 0 0 .21-.55v-.2a.87.87 0 0 1-.78.42.92.92 0 0 1-.75-.34 1.36 1.36 0 0 1-.27-.89c0-.42.1-.75.3-1 .2-.24.48-.36.82-.36.3 0 .52.11.67.34h.01v-.28H89Zm-.75-.9v-.2a.61.61 0 0 0-.14-.4.46.46 0 0 0-.36-.16c-.17 0-.3.07-.4.2a.97.97 0 0 0-.14.56c0 .2.05.36.14.48.1.12.22.18.37.18.16 0 .29-.06.39-.18.1-.12.14-.28.14-.48zm1.78-1.67a.43.43 0 0 1-.32-.12.36.36 0 0 1-.12-.28c0-.11.04-.2.12-.28.08-.07.19-.1.32-.1s.24.03.31.1c.09.07.13.17.13.28 0 .11-.04.21-.13.29a.47.47 0 0 1-.31.1zm.37 2.86h-.76v-2.47h.76zm3.03 0h-.76v-1.38c0-.38-.14-.57-.41-.57a.42.42 0 0 0-.33.15.6.6 0 0 0-.12.39v1.4h-.77V52.1h.77v.39c.19-.3.45-.45.8-.45.55 0 .82.34.82 1.01zm3.02-.29c0 .47-.13.82-.4 1.07-.27.25-.65.38-1.15.38-.33 0-.6-.05-.79-.15v-.64c.25.15.51.22.77.22s.46-.07.6-.2a.72.72 0 0 0 .21-.55v-.2a.87.87 0 0 1-.78.42.92.92 0 0 1-.75-.34 1.36 1.36 0 0 1-.27-.89c0-.42.1-.75.3-1 .2-.24.48-.36.82-.36.3 0 .52.11.67.34h.01v-.28h.76zm-.75-.9v-.2a.61.61 0 0 0-.14-.4.46.46 0 0 0-.36-.16c-.17 0-.3.07-.4.2a.97.97 0 0 0-.14.56c0 .2.05.36.14.48.09.12.21.18.37.18s.29-.06.38-.18c.1-.12.15-.28.15-.48z"/>
  <path style="fill:var(--color-foreground-primary)" d="M23.53 7.89a.33.33 0 0 0-.33.32v4.29c0 .17.15.31.33.32h14.74c.19 0 .34-.14.34-.32V8.2a.33.33 0 0 0-.34-.31Zm.34.64h14.07v3.65H23.87Z"/>
  <path style="fill:var(--color-foreground-primary)" d="m24.88 9.44-.14.14v1.54l.14.14h1.64l.14-.14V9.58l-.14-.14Zm.15.28h1.35V11h-1.35Zm2.02-.28-.15.14v1.54l.15.14h1.64l.14-.14V9.58l-.14-.14Zm.14.28h1.35V11H27.2Zm-.33 5.29-.14.14v1.54l.14.14h1.64l.15-.14v-1.54l-.15-.14Zm.15.28h1.35v1.27H27Z"/>
  <path style="fill:var(--color-foreground-primary)" d="M23.53 13.46a.33.33 0 0 0-.33.32v4.3c0 .17.15.32.33.32h7.04v2.44h-4.8v.96h10.25v-.96h-4.78V18.4h7.03c.19 0 .34-.14.34-.32v-4.3c0-.18-.15-.32-.34-.32zm.34.65h14.07v3.65H23.87Zm3.59 29.71-5.58.02c-.15 0-.28.1-.32.24l-.72 1.53c-.03.06-.03.1-.03.13l-.06 9.28c0 .18.15.33.34.33h16.43c.01 0 .16-.04.24-.12.08-.07.09-.2.09-.2l.07-9.28s0-.17-.07-.25c-.08-.08-.26-.08-.27-.08h-8.45c-.44-.53-.9-1.04-1.4-1.52l-.12-.06c-.07-.02-.15-.02-.15-.02zm-5.36.67h5.33c.16.16.52.55 1.27 1.45.07.08.17.12.27.12h8.28l-.07 8.64H21.42l.07-8.92z"/>
  <path style="fill:var(--color-foreground-secondary)" d="m47.77 13.06-.11.01c-.47.08-1.3.02-2.08.57-.8.56-1.36 1.62-1.67 3.61l-.01.12c.04 1.37-.23 2.16-.58 2.6-.34.42-.8.6-1.44.6l-3.84.06.01 1.32 3.85-.05h.01c.9-.02 1.82-.33 2.44-1.1.62-.78.91-1.91.87-3.46v.12c.28-1.82.74-2.47 1.12-2.73.36-.26.83-.23 1.5-.34h5.18v-1.33zM36.65 34.97l-10.62.16v1.33l10.59-.16a6 6 0 0 1 1.98.36c.42.21.74.55 1.13 1.45l.02.04a3.5 3.5 0 0 0 1.74 1.78c.7.3 1.47.32 2.48.4h11.92V39H44.07c-.7-.01-1.4-.11-2.08-.3-.4-.16-.66-.4-1.05-1.15l.02.04c-.46-1.06-1.02-1.74-1.75-2.11-.74-.37-1.53-.42-2.48-.5h-.07zm59.6-21.87-28.6.16.02 1.33 28.55-.16c.67 0 1.34-.03 1.98.2.42.21.74.4 1.13 1.3 0 .02 0 .04.02.05.34.79.96 1.23 1.74 1.6.7.3 1.47.31 2.48.4h3.47v-1.34h-3.37c-.7 0-1.4-.1-2.08-.3-.4-.16-.66-.21-1.05-.96l.02.04a3.6 3.6 0 0 0-1.75-1.97c-.74-.37-1.53-.26-2.48-.34h-.07zm-53.4 36.74-2.93.06-.01 1.32 2.93-.06a1 1 0 0 1 .58.17c.11.09.2.18.23.44v-.03c.04.49.3.95.67 1.2a2.16 2.16 0 0 0 1.27.35h4.62v-1.32h-4.6a.95.95 0 0 1-.54-.12c-.07-.04-.1-.05-.1-.25v-.03a2 2 0 0 0-.76-1.3 2.3 2.3 0 0 0-1.36-.43zM37.7 26.03h-.04c-.6.03-1.28.13-1.84.57-.57.44-.95 1.15-1.17 2.17-.16.58-.14 1.09-.3 1.41-.16.33-.36.6-1.43.66l-6.89.1v1.33l6.93-.11H33c1.37-.08 2.21-.69 2.56-1.41.34-.72.32-1.43.38-1.65l.02-.05c.18-.84.43-1.21.68-1.4.24-.2.58-.27 1.1-.3h9.64v-1.32zM70.49 39v1.33h13.68V39H70.49zm5.05 6.75h-.03c-.6.03-1.28.13-1.84.57-.57.44-.95 1.15-1.17 2.17-.16.58-.14 2.4-.3 2.72-.16.33-.36.6-1.43.66l-5.95.1v1.32l6-.1h.02c1.37-.08 2.21-.69 2.56-1.41.34-.72.32-2.74.38-2.96l.02-.05c.18-.84.43-1.21.68-1.4.24-.2.58-.27 1.1-.3h31.48v-1.32z"/>
  <g stroke-width="1.06">
    <path style="fill:var(--color-foreground-primary)" d="M121.61 30.98v.64h2.54v-.64zm0 4.33v.65h2.54v-.65z"/>
    <path style="fill:var(--color-foreground-primary)" d="M126.32 33.14a.32.32 0 0 0-.22.1l-3.8 3.8a.32.32 0 0 0 0 .45.32.32 0 0 0 .46 0l3.8-3.8a.32.32 0 0 0 0-.45.32.32 0 0 0-.24-.1z"/>
    <path style="fill:var(--color-foreground-primary)" d="M122.53 29.35a.32.32 0 0 0-.23.1.32.32 0 0 0 0 .45l3.8 3.8a.32.32 0 0 0 .45 0 .32.32 0 0 0 0-.46l-3.8-3.8a.32.32 0 0 0-.22-.09z"/>
  </g>
  <path style="fill:var(--color-foreground-primary)" d="M49.66 21.4a.28.28 0 0 0-.27.28v10.03a.28.28 0 0 0 .27.28H59.7a.28.28 0 0 0 .28-.28V21.68a.28.28 0 0 0-.28-.28Zm.28.56h9.47v9.47h-9.47z"/>
  <path style="fill:var(--color-foreground-primary)" d="M51.72 28.24h-.66V25.1h.66zm.88-2.46q-.17 0-.27-.1-.11-.1-.11-.23 0-.15.1-.24.11-.1.28-.1.16 0 .27.1.1.09.1.24 0 .14-.1.24-.1.1-.27.1zm.32 2.46h-.65v-2.12h.65zm1.21-.25v.25h-.66V25.1h.65v1.34h.01q.24-.37.69-.37.4 0 .63.28.22.28.22.77 0 .53-.26.85-.26.32-.69.32-.39 0-.59-.3zm-.02-.9v.22q0 .2.12.34t.3.14q.22 0 .35-.17.12-.18.12-.5 0-.26-.11-.4-.12-.15-.32-.15t-.33.14q-.13.15-.13.39zm2.65.9h-.01v.25h-.66V25.1h.66v1.34q.25-.37.7-.37.4 0 .62.28.23.28.23.77 0 .53-.26.85-.26.32-.7.32-.38 0-.58-.3zm-.02-.9v.22q0 .2.11.34.12.14.3.14.23 0 .35-.17.13-.18.13-.5 0-.26-.12-.4-.11-.15-.32-.15-.2 0-.33.14-.12.15-.12.39z"/>
  <path style="fill:var(--color-foreground-primary)" d="M55.3 8.43a.28.28 0 0 0-.25.28v10.03a.28.28 0 0 0 .28.28h10.03a.28.28 0 0 0 .28-.28V8.7a.28.28 0 0 0-.28-.28H55.33a.28.28 0 0 0-.02 0zm.31.56h9.47v9.47H55.6ZM86.2 37.7a.1.1 0 0 0-.1.11v3.71c0 .06.05.1.1.1h3.71a.1.1 0 0 0 .1-.1v-3.71a.1.1 0 0 0-.1-.1H86.2zm0-12.92a.1.1 0 0 0-.1.1v3.72c0 .05.05.1.1.1h3.71a.1.1 0 0 0 .1-.1v-3.72a.1.1 0 0 0-.1-.1H86.2z"/>
  <path style="fill:var(--color-foreground-primary)" d="M57.25 14.54h-.01v1.22h-.66v-3.09h.66V13q.25-.37.69-.37.4 0 .63.29.22.28.22.76 0 .53-.26.85-.26.32-.7.32-.37 0-.57-.3zm-.02-.86v.17q0 .21.11.35.12.14.3.14.23 0 .35-.17.13-.17.13-.49 0-.56-.44-.56-.2 0-.33.16-.12.15-.12.4zm3.36-.42q-.12-.06-.28-.06-.2 0-.33.16-.12.15-.12.42v1.01h-.65v-2.12h.65v.4h.01q.16-.43.56-.43.1 0 .16.02zm.63-.92q-.16 0-.27-.1-.1-.1-.1-.24 0-.15.1-.24.1-.1.27-.1t.27.1q.11.1.11.24 0 .15-.1.24-.1.1-.28.1zm.33 2.41q0 .47-.23.75t-.66.28q-.15 0-.32-.06v-.51q.14.08.25.08.3 0 .3-.49v-2.13h.66zm2.56-2.08-.86 2.29q-.3.82-.93.82-.24 0-.4-.05v-.52q.14.08.29.08.25 0 .35-.24l.11-.26-.86-2.12h.73l.4 1.3.05.27.08-.27.4-1.3z"/>
  <path style="fill:var(--color-foreground-primary)" d="M58.17 34.37a.28.28 0 0 0-.28.28v10.03a.28.28 0 0 0 .28.28h10.02a.28.28 0 0 0 .28-.28V34.65a.28.28 0 0 0-.28-.28zm.28.56h9.46v9.47h-9.46z"/>
  <path style="fill:var(--color-foreground-primary)" d="M60.46 41.2h-.65v-3.13h.65zm.88-2.45q-.16 0-.27-.1-.1-.1-.1-.24 0-.14.1-.23.1-.1.27-.1t.27.1q.1.09.1.23 0 .15-.1.25t-.27.1zm.32 2.46h-.65v-2.12h.65zm1.22-.25h-.01v.25h-.66v-3.14h.66v1.34q.25-.37.7-.37.4 0 .62.28.23.28.23.77 0 .53-.26.85-.26.32-.7.32-.38 0-.58-.3zm-.02-.9v.22q0 .2.11.34.12.14.3.14.23 0 .35-.17.13-.18.13-.5 0-.26-.12-.4-.1-.15-.32-.15-.2 0-.32.14-.13.15-.13.39zm3.7 1.15h-.62v-.3q-.22.35-.64.35-.3 0-.48-.18-.18-.17-.18-.46 0-.62.73-.71l.58-.08q0-.35-.38-.35t-.72.23v-.5q.14-.07.37-.12.24-.05.43-.05.9 0 .9.9zm-.61-.86v-.15l-.39.05q-.32.04-.32.29 0 .11.08.18.08.07.21.07.18 0 .3-.12.12-.13.12-.32z"/>
  <path style="fill:var(--color-foreground-primary)" d="M52.5 47.34a.28.28 0 0 0-.28.28v10.03c0 .15.13.28.28.28h10.02c.15 0 .28-.13.28-.28V47.62a.28.28 0 0 0-.28-.28zm.28.56h9.46v9.46h-9.46z"/>
  <path style="fill:var(--color-foreground-primary)" d="M54.4 53.45h-.01v1.22h-.66v-3.09h.66v.32q.25-.37.69-.37.4 0 .63.28.23.28.23.77 0 .53-.27.85-.26.32-.7.32-.37 0-.57-.3zm-.02-.87v.17q0 .22.11.36.12.14.3.14.23 0 .35-.17.13-.18.13-.5 0-.55-.44-.55-.2 0-.33.15-.12.15-.12.4zm3.36-.41q-.12-.06-.27-.06-.22 0-.34.15-.12.16-.12.43v1h-.65v-2.1H57v.38h.01q.16-.43.56-.43.1 0 .16.03zm.63-.92q-.16 0-.27-.1-.1-.1-.1-.24 0-.15.1-.24.1-.1.27-.1t.28.1q.1.09.1.24t-.1.24q-.1.1-.28.1zm.33 2.41q0 .47-.23.75t-.66.28q-.15 0-.32-.06v-.51q.14.07.25.07.3 0 .3-.48v-2.13h.66zm2.6-2.08-.7 1.03.69 1.09h-.76l-.3-.57-.09-.2-.1.2-.3.57h-.75l.71-1.06-.67-1.06h.76l.3.6q.06.11.08.2h.01l.1-.21.3-.59zm44.46 2.74c-.12.06-.29.09-.51.09-.54 0-.8-.28-.8-.84v-1.13h-.4v-.56h.4v-.53l.75-.22v.75h.56v.56h-.56v1c0 .26.1.39.3.39.08 0 .17-.02.26-.07zm2.48.03h-.72V54a.83.83 0 0 1-.74.41.8.8 0 0 1-.57-.2.74.74 0 0 1-.2-.55c0-.48.28-.76.84-.83l.68-.09c0-.27-.15-.4-.44-.4-.3 0-.58.09-.84.26v-.57a2.25 2.25 0 0 1 .93-.21c.7 0 1.06.35 1.06 1.05zm-.71-1v-.17l-.45.06c-.25.03-.37.14-.37.33 0 .09.02.16.08.22a.4.4 0 0 0 .25.08c.14 0 .26-.05.35-.15.09-.1.14-.22.14-.37zm2.93-.78a.65.65 0 0 0-.33-.08.45.45 0 0 0-.38.19.78.78 0 0 0-.14.49v1.18h-.77v-2.47h.77v.46c.12-.33.34-.5.66-.5a.5.5 0 0 1 .19.03zm2.75 1.5c0 .45-.14.8-.4 1.06-.27.25-.65.38-1.15.38-.34 0-.6-.05-.8-.14v-.64c.26.15.52.22.78.22s.46-.07.6-.2a.76.76 0 0 0 .2-.56v-.2a.85.85 0 0 1-.78.42.93.93 0 0 1-.75-.33 1.37 1.37 0 0 1-.28-.9c0-.41.1-.75.31-1 .21-.24.48-.36.81-.36.31 0 .54.12.68.35h.01v-.29h.77zm-.75-.9v-.2c0-.16-.05-.3-.14-.4a.45.45 0 0 0-.36-.17c-.17 0-.3.07-.4.2a.97.97 0 0 0-.14.56c0 .2.04.36.14.49.08.12.2.18.37.18.16 0 .28-.06.38-.18.1-.13.15-.29.15-.49zm3.6.16h-1.6c.02.36.24.54.67.54.27 0 .5-.07.72-.2v.56a1.9 1.9 0 0 1-.9.18c-.4 0-.7-.11-.92-.33a1.26 1.26 0 0 1-.33-.93c0-.4.12-.73.36-.97s.53-.36.88-.36c.36 0 .63.1.83.32.2.21.3.5.3.87zm-.7-.47c0-.35-.15-.53-.43-.53a.42.42 0 0 0-.32.16.7.7 0 0 0-.16.37zm2.65 1.46a1.1 1.1 0 0 1-.5.09c-.54 0-.81-.28-.81-.84v-1.13h-.4v-.56h.4v-.53l.76-.22v.75h.55v.56h-.55v1c0 .26.1.39.3.39.08 0 .17-.02.25-.07z"/>
  <path style="fill:var(--color-foreground-primary)" d="m24.69 15.01-.14.14v1.54l.14.14h1.64l.15-.14v-1.54l-.15-.14zm.15.28h1.35v1.27h-1.36z"/>
  <path style="fill:var(--color-foreground-secondary)" d="M92.65 25.98h-.6v1.34l.57-.01a6 6 0 0 1 1.98.36c.42.2.74.56 1.13 1.46l.02.04c.34.78.96 1.1 1.74 1.46.7.3 1.47.32 2.48.4h7.07V29.7h-6.97c-.7-.01-1.4-.11-2.08-.3-.4-.16-.66-.08-1.04-.82a4.07 4.07 0 0 0-1.74-2.1c-.74-.36-1.53-.41-2.48-.5h-.07zm-8.57.03-22.07.13v1.33l22.07-.13z"/>
  <path style="fill:var(--color-foreground-primary)" d="M109.16 44.42a.1.1 0 0 0-.1.1v3.71c0 .06.05.1.11.1h3.71a.1.1 0 0 0 .1-.1v-3.71a.1.1 0 0 0-.1-.1h-3.71zm0-16.08a.1.1 0 0 0-.1.1v3.72c0 .05.05.1.11.1h3.71a.1.1 0 0 0 .1-.1v-3.72a.1.1 0 0 0-.1-.1h-3.71zm0-13a.1.1 0 0 0-.1.1v3.72c0 .05.05.1.11.1h3.71a.1.1 0 0 0 .1-.1v-3.72a.1.1 0 0 0-.1-.1h-3.71z"/>
</svg>
<p>The structure of a package depends on the specific project. The simplest
type is a script-based package, where users can define custom scripts for
various stages. A package does not need to handle every stage. Helper
package types are available (e.g. Autotools, Cargo, CMake, Make, Meson,
various Python types, SCons and Waf) for projects using common build systems.</p>
<p>While releng-tool assists in configuring and building projects, it does not
aim to provide a perfect sandbox for the process. Users are responsible
for defining the compilers/toolchains used and managing the interaction
between the staging/target area with the host system.</p>
<div class="toctree-wrapper compound">
<span id="document-requirements"></span><section id="requirements">
<h2>Anforderungen<a class="headerlink" href="#requirements" title="Link to this heading">¬∂</a></h2>
<p>releng-tool is developed in <a class="reference external" href="https://www.python.org/">Python</a> and requires either
<a class="reference external" href="https://www.python.org/">Python</a> 3.9+ to run on a host system. A series of optional
tools are required if certain stages or features are used. For example,
projects fetching sources from <a class="reference external" href="https://git-scm.com/">Git</a> will require the <code class="docutils literal notranslate"><span class="pre">git</span></code> tool
installed; projects with patches will required the <code class="docutils literal notranslate"><span class="pre">patch</span></code> tool. While
some features may be operating system-specific (e.g. Autotools features are
designed for Linux-based hosts), releng-tool can work on various operating
system variants.</p>
</section>
<span id="document-install"></span><section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¬∂</a></h2>
<p>The recommended method of installing/upgrading releng-tool is using
<a class="reference external" href="https://pipx.pypa.io/">pipx</a>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pipx<span class="w"> </span>install<span class="w"> </span>releng-tool
<span class="w"> </span><span class="o">(</span>or<span class="o">)</span>
python<span class="w"> </span>-m<span class="w"> </span>pipx<span class="w"> </span>install<span class="w"> </span>releng-tool
</pre></div>
</div>
<p>If pipx is not available, users may use <a class="reference external" href="https://pip.pypa.io/">pip</a> instead:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>releng-tool
<span class="w"> </span><span class="o">(</span>or<span class="o">)</span>
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>releng-tool
</pre></div>
</div>
<p>To verify the package has been installed, the following command can be used:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>--version
<span class="w"> </span><span class="o">(</span>or<span class="o">)</span>
python<span class="w"> </span>-m<span class="w"> </span>releng-tool<span class="w"> </span>--version
</pre></div>
</div>
<section id="quick-start">
<h3>Schnellstart<a class="headerlink" href="#quick-start" title="Link to this heading">¬∂</a></h3>
<p>The following provides a series of steps to assist in preparing a new
environment to use this package.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio" /><label class="tab-label" for="tab-set--1-input--1">Linux</label><div class="tab-content docutils">
<p>While the use of <a class="reference external" href="https://www.python.org/">Python</a>/<a class="reference external" href="https://pip.pypa.io/">pip</a> is almost consistent between
Linux distributions, below is a series of helpful steps to install
this package under specific distributions of Linux. From a terminal,
invoke the following commands:</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio" /><label class="tab-label" for="tab-set--0-input--1">Arch</label><div class="tab-content docutils">
<p>Using <code class="docutils literal notranslate"><span class="pre">pipx</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-Syu
<span class="gp">$ </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>python-pipx
<span class="gp">$ </span>pipx<span class="w"> </span>ensurepath
<span class="gp">$ </span>pipx<span class="w"> </span>install<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-Sy
<span class="gp">$ </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>python-pip
<span class="gp">$ </span>sudo<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
<p>This package is also <a class="reference external" href="https://aur.archlinux.org/packages/releng-tool/">available on AUR</a>.</p>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio" /><label class="tab-label" for="tab-set--0-input--2">Fedora</label><div class="tab-content docutils">
<p>Using <code class="docutils literal notranslate"><span class="pre">pipx</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>pipx
<span class="gp">$ </span>pipx<span class="w"> </span>ensurepath
<span class="gp">$ </span>pipx<span class="w"> </span>install<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>python-pip
<span class="gp">$ </span>sudo<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--3" name="tab-set--0" type="radio" /><label class="tab-label" for="tab-set--0-input--3">openSUSE</label><div class="tab-content docutils">
<p>Using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--4" name="tab-set--0" type="radio" /><label class="tab-label" for="tab-set--0-input--4">Ubuntu</label><div class="tab-content docutils">
<p>Using <code class="docutils literal notranslate"><span class="pre">pipx</span></code> (Ubuntu 23.04 or above):</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>apt<span class="w"> </span>update
<span class="gp">$ </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>pipx
<span class="gp">$ </span>pipx<span class="w"> </span>ensurepath
<span class="gp">$ </span>pipx<span class="w"> </span>install<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>apt<span class="w"> </span>update
<span class="gp">$ </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python-pip
<span class="gp">$ </span>sudo<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio" /><label class="tab-label" for="tab-set--1-input--2">OS X</label><div class="tab-content docutils">
<p>From a terminal, invoke the following commands if using <code class="docutils literal notranslate"><span class="pre">pipx</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>brew<span class="w"> </span>install<span class="w"> </span>pipx
<span class="gp">$ </span>pipx<span class="w"> </span>ensurepath
<span class="gp">$ </span>pipx<span class="w"> </span>install<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
<p>Or, if using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>easy_install<span class="w"> </span>pip
<span class="gp">$ </span>sudo<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>releng-tool
<span class="gp">$ </span>releng-tool<span class="w"> </span>--version
<span class="go">releng-tool &lt;version&gt;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--3" name="tab-set--1" type="radio" /><label class="tab-label" for="tab-set--1-input--3">Windows</label><div class="tab-content docutils">
<p>If not already installed, download the most recent version of <a class="reference external" href="https://www.python.org/">Python</a>:</p>
<blockquote>
<div><p>Python ‚Äî Downloads <br />
<a class="reference external" href="https://www.python.org/downloads/">https://www.python.org/downloads/</a></p>
</div></blockquote>
<p>When invoking the installer, it is recommended to select the option to
‚ÄûAdd Python to PATH‚Äú. However, users can explicitly invoked Python from
an absolute path (the remainder of these steps will assume Python is
available in the path).</p>
<p>Open a Windows command prompt and invoke the following:</p>
<div class="highlight-doscon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;</span> python -m pip install -U releng-tool
<span class="gp">&gt;</span> python -m releng-tool --version
<span class="go">releng-tool ~version~</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="development">
<h3>Development<a class="headerlink" href="#development" title="Link to this heading">¬∂</a></h3>
<p>To install the most recent development sources, the following <a class="reference external" href="https://pip.pypa.io/">pip</a>
command can be used:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pipx<span class="w"> </span>install<span class="w"> </span>git+https://github.com/releng-tool/releng-tool.git
<span class="w"> </span><span class="o">(</span>or<span class="o">)</span>
pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/releng-tool/releng-tool.git
</pre></div>
</div>
</section>
</section>
<span id="document-getting-started/getting-started"></span><section id="getting-started">
<h2>Erste Schritte<a class="headerlink" href="#getting-started" title="Link to this heading">¬∂</a></h2>
<p>This documentation will outline what releng-tool is, how it can be used
to create projects with various package definitions, with the end goal
of creating release artifacts for a project.</p>
<p>releng-tool is made on Python. Package configurations, scripts, etc. are
Python-compatible scripts, which releng-tool accepts for processing
configuration files and invoking other tools on a host system. While
releng-tool supports running on various host systems (e.g. Linux, OS X,
Windows, etc.), this guide will primarily show examples following a
Unix-styled file system.</p>
<section id="running-releng-tool">
<h3>Running releng-tool<a class="headerlink" href="#running-releng-tool" title="Link to this heading">¬∂</a></h3>
<p>Depending on the host and how releng-tool has been <a class="reference internal" href="#document-install"><span class="doc std std-doc">installed</span></a>,
this tool can be either executed using the call <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code> (if supported) or
explicitly through a Python invoke <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">releng-tool</span></code>. This guide will
assume the former option is available for use. If the alias command is not
available on the host system, the latter call can be used instead. For example,
the two commands shown below can be considered equivalent:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>releng-tool --version
 (or)
python -m releng-tool --version
</pre></div>
</div>
</section>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Link to this heading">¬∂</a></h3>
<p>A project will typically be defined by a <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> configuration
file along with one or more packages found inside a <code class="docutils literal notranslate"><span class="pre">package/</span></code> folder.
This location can be referred to as the ‚Äûroot directory‚Äú.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>releng-tool supports using a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension. For more information, please
see <a class="reference internal" href="#document-guides/tips/alternative-extensions"><span class="doc std std-doc">alternative extensions</span></a>.</p>
</div>
<p>When invoking <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code>, the tool will look in the current working
directory for project information to process. For example, if a folder
<code class="docutils literal notranslate"><span class="pre">my-project</span></code> had a skeleton such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ package-a/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p>The following output may be observed when running releng-tool:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>my-project
<span class="gp">$ </span>releng-tool
<span class="go">extracting package-a...</span>
<span class="go">patching package-a...</span>
<span class="go">configuring package-a...</span>
<span class="go">building package-a...</span>
<span class="go">installing package-a...</span>
<span class="go">generating license information...</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">completed (0:01:30)</span>
</pre></div>
</div>
<p>On a successful execution, it is most likely that the releng-tool process
will have an asset (or multiple) generated into a <code class="docutils literal notranslate"><span class="pre">images/</span></code> location. It is
up to the developer of a releng-tool project to decide where generated
files will be stored.</p>
<p>If a user wishes to pass the directory of a project location via command line,
the argument <code class="docutils literal notranslate"><span class="pre">--root-dir</span></code> can be used:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>--root-dir<span class="w"> </span>my-project/
</pre></div>
</div>
<p>For a complete list of actions and other argument options provided by the tool,
the <code class="docutils literal notranslate"><span class="pre">--help</span></code> option can be used to show this information:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>--help
</pre></div>
</div>
</section>
<section id="topics">
<h3>Topics<a class="headerlink" href="#topics" title="Link to this heading">¬∂</a></h3>
<div class="toctree-wrapper compound">
<span id="document-getting-started/prelude"></span><section id="prelude">
<h4>Pr√§ludium<a class="headerlink" href="#prelude" title="Link to this heading">¬∂</a></h4>
<p>A releng-tool project can define multiple packages, each can be based off of
different languages, configured to use custom toolchains and more. Every
package has multiple stages (such as fetching, configuring, building, etc.)
which can help contribute to a target sysroot. Once all packages are
processed, the target sysroot can be packaged for distribution.</p>
<p>The following outlines the common directory/file locations for a releng-tool
project:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cache/</span></code> - Cached content from select package sources (e.g. DVCS, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dl/</span></code> - Archives for select package sources (e.g. <code class="docutils literal notranslate"><span class="pre">.tgz</span></code>, <code class="docutils literal notranslate"><span class="pre">.zip</span></code>, etc.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package/</span></code> - Container for packages</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package/&lt;package&gt;/</span></code> - A package-specific folder</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package/&lt;package&gt;/&lt;package&gt;.rt</span></code> - A package definition</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output/</span></code> - Container for all output content</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output/build/</span></code> - Container for package building</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output/host/</span></code> - Area to hold host-specific content</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output/images/</span></code> - Container for final images/archives</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output/staging/</span></code> - Area to hold staged sysroot content</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output/target/</span></code> - Area to hold target sysroot content</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> - Project configuration</p></li>
</ul>
<p>How these directories and files are used can vary on how a developer defines a
releng-tool project. Consider the following process:</p>
<ol class="arabic simple">
<li><p>releng-tool will load the project‚Äôs configuration and respective package
definitions to determine what steps need to be performed.</p></li>
<li><p>Package sources can be downloaded into either the <code class="docutils literal notranslate"><span class="pre">cache/</span></code> or <code class="docutils literal notranslate"><span class="pre">dl/</span></code>
folder, depending on what type of sources will be fetched. For example, Git
sources will be stored inside of the <code class="docutils literal notranslate"><span class="pre">cache/</span></code> to take advantage of its
distributable nature, and archive files (such as <code class="docutils literal notranslate"><span class="pre">.tgz</span></code>, <code class="docutils literal notranslate"><span class="pre">.zip</span></code>, etc.)
will be stored inside the <code class="docutils literal notranslate"><span class="pre">dl/</span></code> directory.</p></li>
<li><p>Each package will be extracted into its own output directory inside
<code class="docutils literal notranslate"><span class="pre">output/build/</span></code>. The working areas for packages allow a package to be
patched, configured and built based on how the developer configures the
respective packages.</p></li>
<li><p>Once packages are built, their final executables, libraries, etc. can be
installed into either the host area (<code class="docutils literal notranslate"><span class="pre">output/host/</span></code>), staging area
(<code class="docutils literal notranslate"><span class="pre">output/staging/</span></code>) or the target area (<code class="docutils literal notranslate"><span class="pre">output/target/</span></code>) depending on
what has been built. The target area is designed for the final set of assets
produced from a build; the intent is that the files contained inside this
folder are planned to be used on a target system (stripped, cross-compiled,
etc.). A staging area is like a target area but may contain more content such
as headers not intended for a final target, interim development assets and
more. Host content is designed for content built for the host system which
other packages may depend on.</p></li>
<li><p>At the end of the releng-tool process, a post-stage script can be invoked to
help archive/package content from the target area (<code class="docutils literal notranslate"><span class="pre">output/target/</span></code>) into
the images folder (<code class="docutils literal notranslate"><span class="pre">output/images/</span></code>). For example, generating an archive
<code class="docutils literal notranslate"><span class="pre">output/images/my-awesome-project-v1.0.0.tgz</span></code>.</p></li>
</ol>
<p>Not all projects may use each of these folders or take advantage of each stage.
While various capabilities exist, it does not mean releng-tool will handle all
the nitty-gritty details to make a proper build of a project. For example:</p>
<ul class="simple">
<li><p>If a developer wishes to cross-compile a package to a target, they must ensure
the package is configured in the proper manner to use a desired toolchain.</p></li>
<li><p>If a developer wants to process a Python package, they must ensure the proper
interpreter is used if they cannot rely on the host‚Äôs default interpreter.</p></li>
<li><p>If a developer creates script-based packages, they must ensure that these
scripts properly handle multiple re-invokes (e.g. if a user performs a
rebuild on a package).</p></li>
</ul>
<p>releng-tool will attempt to provide an easy way to deal with fetching sources,
ensuring projects are invoked in order, and more; however, the more advanced
features/actions a developer may want in their project (such as the examples
mentioned above), the more a developer will need to manage their project.</p>
</section>
<span id="document-getting-started/tutorials"></span><section id="tutorials">
<h4>Tutorials<a class="headerlink" href="#tutorials" title="Link to this heading">¬∂</a></h4>
<p>The following is a series of tutorials which helps covers the basic
concepts of releng-tool, as well more advanced use cases.</p>
<div class="toctree-wrapper compound">
<span id="document-getting-started/tutorial-basic"></span><section id="tutorial-basic-packages">
<h5>Tutorial ‚ÄûBasic packages‚Äú<a class="headerlink" href="#tutorial-basic-packages" title="Link to this heading">¬∂</a></h5>
<p>This tutorial shows an example using very simple script-based packages.
This example will make a project with two packages, setup a dependency
between them and setup scripts to help show a developer how packages are
processed.</p>
<p>To start, make a new folder for the project, folders for each package and
move into the root folder:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mkdir<span class="w"> </span>-p<span class="w"> </span>my-project/package/liba
<span class="gp">$ </span>mkdir<span class="w"> </span>-p<span class="w"> </span>my-project/package/program-b
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>my-project/
</pre></div>
</div>
<p>Inside the <code class="docutils literal notranslate"><span class="pre">liba</span></code> package, a package definition and script-based files will
be created. First, build the package definition <code class="docutils literal notranslate"><span class="pre">my-project/liba/liba.rt</span></code> with
the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBA_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.0.0&#39;</span>
</pre></div>
</div>
<p>Next, create a build script for the <code class="docutils literal notranslate"><span class="pre">liba</span></code> project
<code class="docutils literal notranslate"><span class="pre">my-project/liba/liba-build.rt</span></code> with the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;invoked liba package build stage&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Repeat the same steps for the <code class="docutils literal notranslate"><span class="pre">program-b</span></code> package with the file
<code class="docutils literal notranslate"><span class="pre">my-project/program-b/program-b.rt</span></code> containing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">PROGRAM_B_NEEDS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;liba&#39;</span><span class="p">]</span>
<span class="n">PROGRAM_B_VERSION</span> <span class="o">=</span> <span class="s1">&#39;2.1.0&#39;</span>
</pre></div>
</div>
<p>And <code class="docutils literal notranslate"><span class="pre">my-project/program-b/program-b-build.rt</span></code> containing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;invoked program-b package build stage&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The second package is a bit different since it indicates that package
<code class="docutils literal notranslate"><span class="pre">program-b</span></code> has a dependency on <code class="docutils literal notranslate"><span class="pre">liba</span></code>. Configuring a dependency ensures
releng-tool will process the <code class="docutils literal notranslate"><span class="pre">liba</span></code> package before <code class="docutils literal notranslate"><span class="pre">program-b</span></code>.</p>
<p>With this minimal set of packages, the project‚Äôs releng-tool configuration
can now be created. At the root of the project, create a <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code>
configuration file with the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;program-b&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">packages</span></code> key indicates a list of required packages to be processed.
In this example, we only need to list <code class="docutils literal notranslate"><span class="pre">program-b</span></code> since <code class="docutils literal notranslate"><span class="pre">liba</span></code> will be
implicitly loaded through the dependency configuration set in program B‚Äôs
package definition.</p>
<p>The file structure should now be as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îú‚îÄ‚îÄ liba/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ liba.rt
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ liba-build.rt
    ‚îÇ   ‚îî‚îÄ‚îÄ program-b/
    ‚îÇ       ‚îú‚îÄ‚îÄ program-b.rt
    ‚îÇ       ‚îî‚îÄ‚îÄ program-b-build.rt
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p>This sample project should be ready for a spin. While in the <code class="docutils literal notranslate"><span class="pre">my-project</span></code>
folder, invoke <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">configuring liba...</span>
<span class="go">building liba...</span>
<span class="go">invoked liba package build stage</span>
<span class="go">installing liba...</span>
<span class="go">configuring program-b...</span>
<span class="go">building program-b...</span>
<span class="go">invoked program-b package build stage</span>
<span class="go">installing program-b...</span>
<span class="go">generating sbom information...</span>
<span class="go">generating license information...</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">completed (0:00:01)</span>
</pre></div>
</div>
<p>This above output shows that the <code class="docutils literal notranslate"><span class="pre">liba</span></code> stages are invoke followed by
<code class="docutils literal notranslate"><span class="pre">program-b</span></code> stages. For the build stage in each package, each respective
package script has been invoked. While this example only prints a message,
more elaborate scripts can be made to handle a package‚Äôs source to build.</p>
<p>To clean the project, a <code class="docutils literal notranslate"><span class="pre">releng-tool</span> <span class="pre">clean</span></code> request can be invoked:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>clean
</pre></div>
</div>
<p>After a <code class="docutils literal notranslate"><span class="pre">clean</span></code> request, the project should be ready to perform a fresh
build.</p>
<p>This concludes this tutorial.</p>
</section>
<span id="document-getting-started/tutorial-sdl"></span><section id="tutorial-an-sdl-example">
<h5>Tutorial ‚ÄûAn SDL example‚Äú<a class="headerlink" href="#tutorial-an-sdl-example" title="Link to this heading">¬∂</a></h5>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>The goal of this tutorial is to show an example of C-based project, which
is built using a host‚Äôs pre-installed tools (compilers, etc.). The sample
application created will be run on the host system to show the results of
a build. Typically, a project would configure/use toolchains to build
projects to ensure the resulting files can run on a desired target.</p>
</div>
<p>This tutorial shows an example creating a <a class="reference external" href="https://www.libsdl.org/">Simple DirectMedia Layer</a>
(SDL) sample project, utilizing CMake, which can be built on various
platforms (Linux, OS X or Windows). Users of this tutorial can use any
platform they desire (commands may vary).</p>
<section id="preparing">
<h6>Preparing<a class="headerlink" href="#preparing" title="Link to this heading">¬∂</a></h6>
<p>To start, make a new folder for the project, folders for each package and
move into the root folder:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mkdir<span class="w"> </span>-p<span class="w"> </span>my-sdl-project/package/libsdl
<span class="gp">$ </span>mkdir<span class="w"> </span>-p<span class="w"> </span>my-sdl-project/package/sample
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>my-sdl-project/
</pre></div>
</div>
<p>The ‚Äûlibsdl‚Äú package will be used to manage the use of <a class="reference external" href="https://www.libsdl.org/">SDL</a>, and the
‚Äûsample‚Äú package will be a representation of our sample application that
uses the SDL library.</p>
</section>
<section id="the-libsdl-package">
<h6>The libsdl package<a class="headerlink" href="#the-libsdl-package" title="Link to this heading">¬∂</a></h6>
<p>Inside the <code class="docutils literal notranslate"><span class="pre">libsdl</span></code> package, create a package definition
<code class="docutils literal notranslate"><span class="pre">my-project/package/libsdl/libsdl.rt</span></code> with the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBSDL_LICENSE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Zlib&#39;</span><span class="p">]</span>
<span class="n">LIBSDL_LICENSE_FILES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;LICENSE.txt&#39;</span><span class="p">]</span>
<span class="n">LIBSDL_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://www.libsdl.org/release/SDL2-$</span><span class="si">{LIBSDL_VERSION}</span><span class="s1">.tar.gz&#39;</span>
<span class="n">LIBSDL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;cmake&#39;</span>
<span class="n">LIBSDL_VERSION</span> <span class="o">=</span> <span class="s1">&#39;2.28.0&#39;</span>

<span class="n">LIBSDL_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;SDL_SHARED&#39;</span><span class="p">:</span> <span class="s1">&#39;ON&#39;</span><span class="p">,</span>
    <span class="s1">&#39;SDL_STATIC&#39;</span><span class="p">:</span> <span class="s1">&#39;OFF&#39;</span><span class="p">,</span>
    <span class="s1">&#39;SDL_TEST&#39;</span><span class="p">:</span> <span class="s1">&#39;OFF&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The SDL library uses a zlib license. We configure <code class="docutils literal notranslate"><span class="pre">LIBSDL_LICENSE</span></code> to the
equivalent <a class="reference external" href="https://spdx.org/licenses/">SPDX</a> license identifier, as well as define
<code class="docutils literal notranslate"><span class="pre">LIBSDL_LICENSE_FILES</span></code> to point to a copy of the license text. Specifying
license information is not required, but can be helpful when generating
license data or software bill of materials (SBOM) for a project.</p></li>
<li><p>This example uses SDL v2.28, which we set in the <code class="docutils literal notranslate"><span class="pre">LIBSDL_VERSION</span></code> option.
The version value is useful for managing output folders and logging versions
of packages.</p></li>
<li><p>We specify the location to download sources in <code class="docutils literal notranslate"><span class="pre">LIBSDL_SITE</span></code>. We take
advantage of the <code class="docutils literal notranslate"><span class="pre">LIBSDL_VERSION</span></code> configuration to point to the specific
version we desire.</p></li>
<li><p>The SDL library uses CMake. This means we can use <code class="docutils literal notranslate"><span class="pre">LIBSDL_TYPE</span></code> to configure
the helper type and avoid the need to create configure/build scripts to
run CMake for us (since releng-tool will handle this for us).</p></li>
<li><p>This package has a series of custom options available in its library. We
use <code class="docutils literal notranslate"><span class="pre">LIBSDL_CONF_DEFS</span></code> to configure various CMake options, for example,
disabling unit tests. Configuration options will vary per package.</p></li>
</ul>
<p>The above <code class="docutils literal notranslate"><span class="pre">libsdl</span></code> package specifies a remote URL to download library
sources. These sources should be validated to ensure data is not corrupted
or manipulated. To do this, create a hash file alongside the package
definition called <code class="docutils literal notranslate"><span class="pre">libsdl.hash</span></code> with the contents:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># gpg verified SDL2-2.28.0.tar.gz.sig | 1528635D8053A57F77D1E08630A59377A7763BE6
sha256 d215ae4541e69d628953711496cd7b0e8b8d5c8d811d5b0f98fdc7fd1422998a libsdl-2.28.0.tar.gz
# locally computed
sha256 9928507f684c1965d07f2b6ef4b4723d5efc2f6b4ab731f743a413c51c319927 LICENSE.txt
</pre></div>
</div>
<p>In this hash file, expected hashes for resources can be configured and checked
when releng-tool attempts to fetch resources from remote sources. Ideally,
hashes provided from a third-party package release can be directly added into
these files (<code class="docutils literal notranslate"><span class="pre">&lt;hash-type&gt;</span> <span class="pre">&lt;hash&gt;</span> <span class="pre">&lt;file&gt;</span></code>). In this example, SDL provides
GPG signatures of their archives. We manually download the archive and
signature file to verify its contents. Once verified, we generated our own
SHA-256 sum and place it into this hash file (with a helpful comment).</p>
<p>In addition, we also provide a hash of the license document. While not
required, this can be useful in detecting if the license of a package
changes between versions.</p>
<p>Finally, the following shows an example of a patch scenario. For v2.28 SDL‚Äôs
CMake projects, the library‚Äôs implementation has trouble when the
installation prefix is empty (which releng-tool may set in Windows
environments). To help fix the CMake definition, we want to patch it before
running a configuration script. Along side the package definition, create
a patch
<a class="reference download internal" download="" href="_downloads/31f2ac3a135a26d2d3dae5e8647ed7c9/001-empty-prefix-support.patch"><span class="xref download myst"><code class="docutils literal notranslate"><span class="pre">001-empty-prefix-support.patch</span></code></span></a>
with the following contents:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gh">diff -u a/CMakeLists.txt b/CMakeLists.txt</span>

CMAKE_INSTALL_PREFIX may be empty, causing the set of bin_prefix_relpath
to fail. To avoid a failure, avoid using CMAKE_INSTALL_PREFIX when empty.

<span class="gd">--- a/CMakeLists.txt    2023-06-20 14:27:57.000000000 -0400</span>
<span class="gi">+++ b/CMakeLists.txt    2023-06-25 17:41:30.823627100 -0400</span>
<span class="gu">@@ -3067,7 +3067,11 @@</span>
<span class="w"> </span>endif()

<span class="w"> </span>set(prefix ${CMAKE_INSTALL_PREFIX})
<span class="gd">-file(RELATIVE_PATH bin_prefix_relpath &quot;${CMAKE_INSTALL_FULL_BINDIR}&quot; &quot;${CMAKE_INSTALL_PREFIX}&quot;)</span>
<span class="gi">+if(CMAKE_INSTALL_PREFIX STREQUAL &quot;&quot;)</span>
<span class="gi">+  set(bin_prefix_relpath ${CMAKE_INSTALL_FULL_BINDIR})</span>
<span class="gi">+else()</span>
<span class="gi">+  file(RELATIVE_PATH bin_prefix_relpath &quot;${CMAKE_INSTALL_FULL_BINDIR}&quot; &quot;${CMAKE_INSTALL_PREFIX}&quot;)</span>
<span class="gi">+endif()</span>

<span class="w"> </span>set(exec_prefix &quot;\${prefix}&quot;)
<span class="w"> </span>set(libdir &quot;\${exec_prefix}/${CMAKE_INSTALL_LIBDIR}&quot;)
</pre></div>
</div>
<p>Without getting into the specifics of the patch, the existence of this
patch file will ensure the extracted <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> is updated before
<code class="docutils literal notranslate"><span class="pre">libsdl</span></code> package performs its configuration stage. This should ensure this
third-party library can be built on all the platforms we wish to support.</p>
<p>The following shows the expected file structure at this stage of this
tutorial:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-sdl-project/
    ‚îî‚îÄ‚îÄ package/
        ‚îú‚îÄ‚îÄ libsdl/
        ‚îÇ   ‚îú‚îÄ‚îÄ 001-empty-prefix-support.patch
        ‚îÇ   ‚îú‚îÄ‚îÄ libsdl.rt
        ‚îÇ   ‚îî‚îÄ‚îÄ libsdl.hash
        ‚îî‚îÄ‚îÄ sample/
</pre></div>
</div>
</section>
<section id="the-sample-package">
<h6>The sample package<a class="headerlink" href="#the-sample-package" title="Link to this heading">¬∂</a></h6>
<p>Next, we will create a ‚Äûsample‚Äú project. The sources for this sample
project would typically be stored in a version control system such as a
Git repository. To simplify this tutorial, we will utilize a <code class="docutils literal notranslate"><span class="pre">local</span></code> VCS
type (typically used for interim development) to help demonstrate the
sample project.</p>
<p>Create a package definition <code class="docutils literal notranslate"><span class="pre">my-sdl-project/sample/sample.rt</span></code> with the
following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SAMPLE_NEEDS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;libsdl&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">SAMPLE_INTERNAL</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">SAMPLE_TYPE</span> <span class="o">=</span> <span class="s1">&#39;cmake&#39;</span>
<span class="n">SAMPLE_VCS_TYPE</span> <span class="o">=</span> <span class="s1">&#39;local&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>We specify a dependency on the <code class="docutils literal notranslate"><span class="pre">libsdl</span></code> package by adding this package in
a <code class="docutils literal notranslate"><span class="pre">SAMPLE_NEEDS</span></code> list. One or more packages can be specified here
if needed, and will ensure that <code class="docutils literal notranslate"><span class="pre">libsdl</span></code> is built before any attempts to
configure/build the sample package.</p></li>
<li><p>This package is then flagged as internal (<code class="docutils literal notranslate"><span class="pre">SAMPLE_INTERNAL</span></code>). We do this
since this is our own custom package and flagging an internal package
avoids warnings generated for missing license files or hash files
(although developers can add hash checks for internal sources if desired).</p></li>
<li><p>The sample program will also be a CMake-based project, so <code class="docutils literal notranslate"><span class="pre">SAMPLE_TYPE</span></code>
will be configured.</p></li>
<li><p>Lastly, we will configure the custom <code class="docutils literal notranslate"><span class="pre">local</span></code> type in <code class="docutils literal notranslate"><span class="pre">SAMPLE_VCS_TYPE</span></code> to
indicate our implementation will be found inside the package folder (until
we can later add it to Git/etc. repository in the future).</p></li>
</ul>
<p>Next, we want to create the sample implementation for this demonstration.
Inside the <code class="docutils literal notranslate"><span class="pre">sample</span></code> package folder, create the following file structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ local/
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îî‚îÄ‚îÄ sample/
    ‚îÇ       ‚îî‚îÄ‚îÄ main.c
    ‚îî‚îÄ‚îÄ CMakeLists.txt
</pre></div>
</div>
<p>With the following contents:</p>
<p><a class="reference download internal" download="" href="_downloads/13ccd861ae7be5084efebf12527f22ac/CMakeLists.txt"><span class="xref download myst">(<em>CMakeLists.txt</em>)</span></a></p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">cmake_minimum_required</span><span class="p">(</span><span class="s">VERSION</span><span class="w"> </span><span class="s">3.11</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">BASE_DIR</span><span class="w"> </span><span class="o">${</span><span class="nv">CMAKE_CURRENT_SOURCE_DIR</span><span class="o">}</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">INC_DIR</span><span class="w"> </span><span class="o">${</span><span class="nv">BASE_DIR</span><span class="o">}</span><span class="s">/src</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">SRC_DIR</span><span class="w"> </span><span class="o">${</span><span class="nv">BASE_DIR</span><span class="o">}</span><span class="s">/src/sample</span><span class="p">)</span>

<span class="c">########################################################################</span>
<span class="c">## support</span>
<span class="c">########################################################################</span>

<span class="c"># targeting c11</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_STANDARD</span><span class="w"> </span><span class="s">11</span><span class="p">)</span>
<span class="nb">enable_language</span><span class="p">(</span><span class="s">C</span><span class="p">)</span><span class="w"> </span><span class="c"># msvc hint</span>

<span class="c"># includes</span>
<span class="nb">include_directories</span><span class="p">(</span><span class="o">${</span><span class="nv">INC_DIR</span><span class="o">}</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_MACOSX_RPATH</span><span class="w"> </span><span class="s">1</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_INSTALL_RPATH</span><span class="w"> </span><span class="s2">&quot;${CMAKE_INSTALL_PREFIX}/lib&quot;</span><span class="p">)</span>

<span class="c">########################################################################</span>
<span class="c">## dependencies</span>
<span class="c">########################################################################</span>

<span class="nb">find_package</span><span class="p">(</span><span class="s">SDL2</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">Threads</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>

<span class="c">########################################################################</span>
<span class="c">## project</span>
<span class="c">########################################################################</span>

<span class="nb">project</span><span class="p">(</span><span class="s">sample</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">SAMPLE_SRCS</span>
<span class="w">    </span><span class="o">${</span><span class="nv">SRC_DIR</span><span class="o">}</span><span class="s">/main.c</span>
<span class="p">)</span>

<span class="nb">add_executable</span><span class="p">(</span><span class="s">sample</span><span class="w"> </span><span class="o">${</span><span class="nv">SAMPLE_SRCS</span><span class="o">}</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">sample</span><span class="w"> </span><span class="s">SDL2::SDL2</span><span class="w"> </span><span class="s">SDL2::SDL2main</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">sample</span><span class="w"> </span><span class="s">Threads::Threads</span><span class="p">)</span>
<span class="nb">install</span><span class="w"> </span><span class="p">(</span><span class="s">TARGETS</span><span class="w"> </span><span class="s">sample</span><span class="w"> </span><span class="s">RUNTIME</span><span class="w"> </span><span class="s">DESTINATION</span><span class="w"> </span><span class="s">bin</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference download internal" download="" href="_downloads/13ccd861ae7be5084efebf12527f22ac/CMakeLists.txt"><span class="xref download myst">(<em>main.c</em>)</span></a></p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;SDL2/SDL.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">err</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">format</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;(error) &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kt">va_list</span><span class="w"> </span><span class="n">args</span><span class="p">;</span>
<span class="w">    </span><span class="n">va_start</span><span class="p">(</span><span class="n">args</span><span class="p">,</span><span class="w"> </span><span class="n">format</span><span class="p">);</span>
<span class="w">    </span><span class="n">vfprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="n">format</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="w">    </span><span class="n">va_end</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">fflush</span><span class="p">(</span><span class="n">stderr</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">SDL_Renderer</span><span class="o">*</span><span class="w"> </span><span class="n">renderer</span><span class="p">;</span>
<span class="w">    </span><span class="n">SDL_Surface</span><span class="o">*</span><span class="w"> </span><span class="n">imgSurface</span><span class="p">;</span>
<span class="w">    </span><span class="n">SDL_Texture</span><span class="o">*</span><span class="w"> </span><span class="n">imgTexture</span><span class="p">;</span>
<span class="w">    </span><span class="n">SDL_Window</span><span class="o">*</span><span class="w"> </span><span class="n">window</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SDL_Init</span><span class="p">(</span><span class="n">SDL_INIT_VIDEO</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">SDL_INIT_EVENTS</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">err</span><span class="p">(</span><span class="s">&quot;sdl2 init: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">SDL_GetError</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SDL_CreateWindow</span><span class="p">(</span><span class="s">&quot;releng-tool&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">SDL_WINDOWPOS_CENTERED</span><span class="p">,</span><span class="w"> </span><span class="n">SDL_WINDOWPOS_CENTERED</span><span class="p">,</span>
<span class="w">        </span><span class="mi">1280</span><span class="p">,</span><span class="w"> </span><span class="mi">640</span><span class="p">,</span><span class="w"> </span><span class="n">SDL_WINDOW_OPENGL</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">window</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">err</span><span class="p">(</span><span class="s">&quot;failed to create window&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">renderer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SDL_CreateRenderer</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="n">SDL_RENDERER_ACCELERATED</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">renderer</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">err</span><span class="p">(</span><span class="s">&quot;failed to create renderer&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// read the image into a texture</span>
<span class="w">    </span><span class="n">imgSurface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SDL_LoadBMP</span><span class="p">(</span><span class="s">&quot;releng-tool.bmp&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">imgSurface</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">err</span><span class="p">(</span><span class="s">&quot;failed to load image: %s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">SDL_GetError</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">imgTexture</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SDL_CreateTextureFromSurface</span><span class="p">(</span><span class="n">renderer</span><span class="p">,</span><span class="w"> </span><span class="n">imgSurface</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">imgTexture</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">err</span><span class="p">(</span><span class="s">&quot;failed to create texture&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">SDL_FreeSurface</span><span class="p">(</span><span class="n">imgSurface</span><span class="p">);</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// wait until a quit is issued</span>
<span class="w">        </span><span class="n">SDL_Event</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SDL_PollEvent</span><span class="p">(</span><span class="o">&amp;</span><span class="n">e</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">SDL_QUIT</span><span class="p">)</span><span class="w"> </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// render the image</span>
<span class="w">        </span><span class="n">SDL_RenderClear</span><span class="p">(</span><span class="n">renderer</span><span class="p">);</span>
<span class="w">        </span><span class="n">SDL_RenderCopy</span><span class="p">(</span><span class="n">renderer</span><span class="p">,</span><span class="w"> </span><span class="n">imgTexture</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="w">        </span><span class="n">SDL_RenderPresent</span><span class="p">(</span><span class="n">renderer</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// cleanup</span>
<span class="w">    </span><span class="n">SDL_DestroyTexture</span><span class="p">(</span><span class="n">imgTexture</span><span class="p">);</span>
<span class="w">    </span><span class="n">SDL_DestroyRenderer</span><span class="p">(</span><span class="n">renderer</span><span class="p">);</span>
<span class="w">    </span><span class="n">SDL_DestroyWindow</span><span class="p">(</span><span class="n">window</span><span class="p">);</span>
<span class="w">    </span><span class="n">SDL_Quit</span><span class="p">();</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Without getting into specifics of this sample program, the overall goal
is to have an SDL program create a window and show an image.</p>
<p>The following shows the expected file structure at this stage of this
tutorial:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-sdl-project/
    ‚îî‚îÄ‚îÄ package/
        ‚îú‚îÄ‚îÄ libsdl/
        ‚îÇ   ‚îú‚îÄ‚îÄ 001-empty-prefix-support.patch
        ‚îÇ   ‚îú‚îÄ‚îÄ libsdl.rt
        ‚îÇ   ‚îî‚îÄ‚îÄ libsdl.hash
        ‚îî‚îÄ‚îÄ sample/
            ‚îú‚îÄ‚îÄ local/
            ‚îÇ   ‚îú‚îÄ‚îÄ src/
            ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sample/
            ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ main.c
            ‚îÇ   ‚îî‚îÄ‚îÄ CMakeLists.txt
            ‚îî‚îÄ‚îÄ sample.rt
</pre></div>
</div>
</section>
<section id="project-configuration-and-post-build-script">
<h6>Project configuration and post-build script<a class="headerlink" href="#project-configuration-and-post-build-script" title="Link to this heading">¬∂</a></h6>
<p>The project has both <code class="docutils literal notranslate"><span class="pre">libsdl</span></code> and <code class="docutils literal notranslate"><span class="pre">sample</span></code> packages ready to build. For
the <code class="docutils literal notranslate"><span class="pre">sample</span></code> project, the implementation references a <code class="docutils literal notranslate"><span class="pre">releng-tool.bmp</span></code>
image to render for a window, which has not yet been setup. This file should
be added into the build system and installed into the target in the
post-build stages.</p>
<p>Create a new <code class="docutils literal notranslate"><span class="pre">assets</span></code> folder at the root of the project folder. Inside,
place a copy of the <a class="reference download internal" download="" href="_downloads/76c9d3887ce802f79198650cea36484b/releng-tool.bmp"><span class="xref download myst">releng-tool.bmp</span></a> image.
At the root of the project folder, create a post-build script named
<code class="docutils literal notranslate"><span class="pre">releng-tool-post-build.rt</span></code> with the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sample_img</span> <span class="o">=</span> <span class="n">ROOT_DIR</span> <span class="o">/</span> <span class="s1">&#39;assets&#39;</span> <span class="o">/</span> <span class="s1">&#39;releng-tool.bmp&#39;</span>
<span class="n">releng_copy_into</span><span class="p">(</span><span class="n">sample_img</span><span class="p">,</span> <span class="n">TARGET_BIN_DIR</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>In this example script, we find the project‚Äôs root path using a <code class="docutils literal notranslate"><span class="pre">ROOT_DIR</span></code>
helper to find where we locally store the <code class="docutils literal notranslate"><span class="pre">releng-tool.bmp</span></code> image file.</p></li>
<li><p>We then copy the image into the target directory‚Äôs bin folder to be
placed alongside the executable we plan to build.</p></li>
</ul>
<p>Lastly, we need to create our releng-tool configuration file for the project.
In the root folder, create a <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> file with the following
contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;sample&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">vsdevcmd</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<ul class="simple">
<li><p>We explicitly configure releng-tool to load the <code class="docutils literal notranslate"><span class="pre">sample</span></code> package to build.</p></li>
<li><p>Note that we do not need to specify the <code class="docutils literal notranslate"><span class="pre">libsdl</span></code> package since the <code class="docutils literal notranslate"><span class="pre">sample</span></code>
package will load it implicitly through its dependency configuration.</p></li>
<li><p>Adding <code class="docutils literal notranslate"><span class="pre">vsdevcmd</span></code> will auto-load Visual Studio developer environment
variables to support Windows-based builds.</p></li>
</ul>
<p>The following shows the expected file structure at this stage of this
tutorial:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-sdl-project/
    ‚îú‚îÄ‚îÄ assets/
    ‚îÇ   ‚îî‚îÄ‚îÄ releng-tool.bmp
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îú‚îÄ‚îÄ libsdl/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 001-empty-prefix-support.patch
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ libsdl.rt
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libsdl.hash
    ‚îÇ   ‚îî‚îÄ‚îÄ sample/
    ‚îÇ       ‚îú‚îÄ‚îÄ local/
    ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ src/
    ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sample/
    ‚îÇ       ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ main.c
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ CMakeLists.txt
    ‚îÇ       ‚îî‚îÄ‚îÄ sample.rt
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ‚îî‚îÄ‚îÄ releng-tool-post-build.rt
</pre></div>
</div>
</section>
<section id="performing-a-build">
<h6>Performing a build<a class="headerlink" href="#performing-a-build" title="Link to this heading">¬∂</a></h6>
<p>With packages, assets and configurations prepared, the project should be
ready to be built. While in the <code class="docutils literal notranslate"><span class="pre">my-sdl-project</span></code> folder, invoke
<code class="docutils literal notranslate"><span class="pre">releng-tool</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">fetching libsdl...</span>
<span class="go">requesting: https://www.libsdl.org/release/SDL2-2.28.0.tar.gz</span>
<span class="go">[100%] libsdl-2.28.0.tar.gz: 7.7 MiB of 7.7 MiB</span>
<span class="go">completed download (7.7 MiB)</span>
<span class="go">extracting libsdl...</span>
<span class="go">WhatsNew.txt</span>
<span class="go">Xcode</span>
<span class="go">android-project</span>
<span class="go">VisualC-WinRT</span>
<span class="go">...</span>
<span class="go">patching libsdl...</span>
<span class="gp gp-VirtualEnv">(001-empty-prefix-support.patch)</span>
<span class="go">patching file CMakeLists.txt</span>
<span class="go">configuring libsdl...</span>
<span class="go">building libsdl...</span>
<span class="go">installing libsdl...</span>
<span class="go">configuring sample...</span>
<span class="go">building sample...</span>
<span class="go">installing sample...</span>
<span class="go">generating sbom information...</span>
<span class="go">generating license information...</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">completed (0:01:15)</span>
</pre></div>
</div>
</section>
<section id="testing">
<h6>Testing<a class="headerlink" href="#testing" title="Link to this heading">¬∂</a></h6>
<p>With the project built, we will run the recently created SDL application
to verify our initial releng-tool project definitions. With Linux or
OS X, navigate to the target directory‚Äôs bin path and invoke the created
sample application:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>output/target/usr/bin
<span class="gp">$ </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>../lib<span class="w"> </span>./sample
</pre></div>
</div>
<p>With Windows, users can navigate to <code class="docutils literal notranslate"><span class="pre">output/target/bin</span></code> using the file
explorer and click-open the <code class="docutils literal notranslate"><span class="pre">sample.exe</span></code> executable.</p>
<p>In all cases, a window should be presented with the releng-tool logo:</p>
<p><img alt="Sample Linux" src="_images/sdl-sample-linux.png" />
<img alt="Sample OS X" src="_images/sdl-sample-osx.png" />
<img alt="Sample Windows" src="_images/sdl-sample-win32.png" /></p>
<p>This concludes this tutorial.</p>
</section>
</section>
<span id="document-getting-started/tutorial-toolchain"></span><section id="tutorial-a-toolchain-example">
<h5>Tutorial ‚ÄûA toolchain example‚Äú<a class="headerlink" href="#tutorial-a-toolchain-example" title="Link to this heading">¬∂</a></h5>
<p>This tutorial shows an example creating an application using a
pre-built toolchain. In this example, we will use a pre-built toolchain
which (in theory) has been used to prepare a Linux image for an embedded
device. With the same toolchain, we can define a releng-tool project that
prepares an application that can run on this embedded device.</p>
<p>This example will attempt to prepare a static build of <a class="reference external" href="https://htop.dev/">htop</a> that
can run on an aarch64 system.</p>
<section id="preparing-the-host-environment">
<h6>Preparing the host environment<a class="headerlink" href="#preparing-the-host-environment" title="Link to this heading">¬∂</a></h6>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>A releng-tool project may create a package to download/setup a toolchain
package to use for a build. However, for this example, we will keep the
installation/availability of the toolchain outside of the releng-tool
project (for simplicity of this tutorial).</p>
</div>
<p>First, we will prepare a toolchain on a host system to be used by our
releng-tool project. For this tutorial, we will use a
<a class="reference external" href="https://toolchains.bootlin.com/">toolchain provided by Bootlin</a>. Download the following
toolchain package:</p>
<ul class="simple">
<li><p>Architecture: aarch64</p></li>
<li><p>libc: glibc</p></li>
<li><p><a class="reference external" href="https://toolchains.bootlin.com/downloads/releases/toolchains/aarch64/tarballs/aarch64--glibc--stable-2022.08-1.tar.bz2">https://toolchains.bootlin.com/‚Ä¶/aarch64‚Äìglibc‚Äìstable-2022.08-1.tar.bz2</a></p></li>
<li><p><a class="reference external" href="https://toolchains.bootlin.com/downloads/releases/toolchains/aarch64/tarballs/aarch64--glibc--stable-2022.08-1.sha256">https://toolchains.bootlin.com/‚Ä¶/aarch64‚Äìglibc‚Äìstable-2022.08-1.sha256</a></p></li>
<li><p>(sha256: <code class="docutils literal notranslate"><span class="pre">844df3c99508030ee9cb1152cb182500bb9816ff01968f2e18591d51d766c9e7</span></code>)</p></li>
</ul>
<p>Extract and place the toolchain into a desired location. In this example,
we will place the toolchain under <code class="docutils literal notranslate"><span class="pre">/opt</span></code>. However, users can install the
toolchain to whatever path they desire:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tar<span class="w"> </span>-vxf<span class="w"> </span>&lt;toolchain-archive&gt;
<span class="gp">$ </span>mv<span class="w"> </span>aarch64--glibc--stable-2022.08-1<span class="w"> </span>/opt
<span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>/opt/aarch64--glibc--stable-2022.08-1
<span class="gp">$ </span>relocate-sdk.sh
</pre></div>
</div>
<p>Verify the ability to invoke GCC from the toolchain installation:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>/opt/aarch64--glibc--stable-2022.08-1/bin/aarch64-linux-gcc<span class="w"> </span>--version
<span class="go">aarch64-linux-gcc.br_real (Buildroot 2021.11-4428-g6b6741b) 11.3.0</span>
<span class="go">Copyright (C) 2021 Free Software Foundation, Inc.</span>
<span class="go">This is free software; see the source for copying conditions.  There is NO</span>
<span class="go">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
</pre></div>
</div>
</section>
<section id="preparing-a-new-releng-tool-project">
<h6>Preparing a new releng-tool project<a class="headerlink" href="#preparing-a-new-releng-tool-project" title="Link to this heading">¬∂</a></h6>
<p>To build <a class="reference external" href="https://htop.dev/">htop</a>, this requires two dependencies:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://invisible-island.net/ncurses/">Ncurses</a></p></li>
<li><p><a class="reference external" href="https://www.infradead.org/~tgr/libnl/">Netlink Protocol Library Suite (libnl)</a></p></li>
</ul>
<p>Build a new project with the following structure to support our <code class="docutils literal notranslate"><span class="pre">htop</span></code>
package, dependencies and project configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-tc-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îú‚îÄ‚îÄ htop/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ htop.rt
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ htop.hash
    ‚îÇ   ‚îú‚îÄ‚îÄ libnl/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ libnl.rt
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libnl.hash
    ‚îÇ   ‚îî‚îÄ‚îÄ ncurses/
    ‚îÇ       ‚îú‚îÄ‚îÄ ncurses.rt
    ‚îÇ       ‚îî‚îÄ‚îÄ ncurses.hash
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
</section>
<section id="the-configuration">
<h6>The configuration<a class="headerlink" href="#the-configuration" title="Link to this heading">¬∂</a></h6>
<p>The first changes we will make to our releng-tool project is to define the
specifics of the project configuration in <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code>. Apply the
following contents to the configuration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;htop&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># location of the toolchain to use</span>
<span class="n">MY_TOOLCHAIN_ROOT</span> <span class="o">=</span> <span class="s1">&#39;/opt/aarch64--glibc--stable-2022.08-1&#39;</span>
<span class="n">MY_TOOLCHAIN_SYSROOT</span> <span class="o">=</span> <span class="n">releng_join</span><span class="p">(</span>
    <span class="n">MY_TOOLCHAIN_ROOT</span><span class="p">,</span> <span class="s1">&#39;aarch64-buildroot-linux-gnu/sysroot&#39;</span><span class="p">)</span>

<span class="c1"># flag buildroot toolchain to be strict with includes</span>
<span class="n">releng_env</span><span class="p">(</span><span class="s1">&#39;BR_COMPILER_PARANOID_UNSAFE_PATH&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">)</span>

<span class="n">MY_TOOLCHAIN_CONF_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># configure compiler/linker options</span>
    <span class="s1">&#39;CC&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">MY_TOOLCHAIN_ROOT</span><span class="si">}</span><span class="s1">/bin/aarch64-linux-gcc&#39;</span><span class="p">,</span>
    <span class="s1">&#39;CXX&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">MY_TOOLCHAIN_ROOT</span><span class="si">}</span><span class="s1">/bin/aarch64-linux-g++&#39;</span><span class="p">,</span>
    <span class="s1">&#39;CFLAGS&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;--sysroot=</span><span class="si">{</span><span class="n">MY_TOOLCHAIN_SYSROOT</span><span class="si">}</span><span class="s1"> -I$</span><span class="se">{{</span><span class="s1">STAGING_INCLUDE_DIR</span><span class="se">}}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;CXXLAGS&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;--sysroot=</span><span class="si">{</span><span class="n">MY_TOOLCHAIN_SYSROOT</span><span class="si">}</span><span class="s1"> -I$</span><span class="se">{{</span><span class="s1">STAGING_INCLUDE_DIR</span><span class="se">}}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;LDFLAGS&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;--sysroot=</span><span class="si">{</span><span class="n">MY_TOOLCHAIN_SYSROOT</span><span class="si">}</span><span class="s1"> -L$</span><span class="se">{{</span><span class="s1">STAGING_LIB_DIR</span><span class="se">}}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="c1"># configure pkg-config to use staging directory</span>
    <span class="s1">&#39;PKG_CONFIG_DIR&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PKG_CONFIG_LIBDIR&#39;</span><span class="p">:</span> <span class="s1">&#39;$</span><span class="si">{STAGING_LIB_DIR}</span><span class="s1">/pkgconfig&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PKG_CONFIG_SYSROOT_DIR&#39;</span><span class="p">:</span> <span class="s1">&#39;$</span><span class="si">{STAGING_DIR}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">MY_TOOLCHAIN_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># configure for cross compiling</span>
    <span class="s1">&#39;--host&#39;</span><span class="p">:</span> <span class="s1">&#39;aarch64-buildroot-linux&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Create a package list which defines <code class="docutils literal notranslate"><span class="pre">htop</span></code> as a required package to build.
Since we plan to make <code class="docutils literal notranslate"><span class="pre">libnl</span></code> and <code class="docutils literal notranslate"><span class="pre">ncurses</span></code> dependencies to <code class="docutils literal notranslate"><span class="pre">htop</span></code>, they do
not need to be included.</p></li>
<li><p>This project will rely on the host system having the toolchain installed.
We create some variables to help point to the toolchain‚Äôs path and sysroot.
Developers can make this flexible by allowing these options to be
configured by environment variables or using command line arguments, but
this will not be done here to simplify this tutorial.</p></li>
<li><p>We configure <code class="docutils literal notranslate"><span class="pre">BR_COMPILER_PARANOID_UNSAFE_PATH</span></code>, an option supported by
the generated Bootlin (Buildroot) toolchain to error when using an unsafe
path when performing a build (i.e. throw an error when using the system‚Äôs
<code class="docutils literal notranslate"><span class="pre">/usr/include</span></code> path over a releng-tool sysroot path).</p></li>
<li><p>Prepares two variables <code class="docutils literal notranslate"><span class="pre">MY_TOOLCHAIN_CONF_ENV</span></code> and <code class="docutils literal notranslate"><span class="pre">MY_TOOLCHAIN_CONF_DEFS</span></code>
which we can later use for the Autotools packages we have. These values
help configure toolchain and desired releng-tool paths. Variables set
in the root configuration can later be used inside package scripts and
post-build scripts. The options specified here are applicable to Autotools
packages. Options can vary for other types (e.g. CMake projects typically
are configured with a CMake toolchain file).</p></li>
</ul>
<p>The releng-tool project‚Äôs configuration is ready. Now to define the package
definitions/hashes for each package.</p>
</section>
<section id="the-libnl-package">
<h6>The libnl package<a class="headerlink" href="#the-libnl-package" title="Link to this heading">¬∂</a></h6>
<p>Update the <code class="docutils literal notranslate"><span class="pre">libnl</span></code> package definition (<code class="docutils literal notranslate"><span class="pre">my-tc-project/libnl/libnl.rt</span></code>) with
the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBNL_INSTALL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;staging&#39;</span>
<span class="n">LIBNL_LICENSE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;LGPL-2.1-or-later&#39;</span><span class="p">]</span>
<span class="n">LIBNL_LICENSE_FILES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;COPYING&#39;</span><span class="p">]</span>
<span class="n">LIBNL_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/thom311/libnl/releases/download/libnl3_7_0/libnl-3.7.0.tar.gz&#39;</span>
<span class="n">LIBNL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;autotools&#39;</span>
<span class="n">LIBNL_VERSION</span> <span class="o">=</span> <span class="s1">&#39;3.7.0&#39;</span>

<span class="n">LIBNL_CONF_ENV</span> <span class="o">=</span> <span class="n">MY_TOOLCHAIN_CONF_ENV</span>
<span class="n">LIBNL_CONF_DEFS</span> <span class="o">=</span> <span class="n">MY_TOOLCHAIN_CONF_DEFS</span>

<span class="n">LIBNL_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># static lib</span>
    <span class="s1">&#39;--enable-static&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-shared&#39;</span><span class="p">,</span>
    <span class="c1"># disable features that are not required</span>
    <span class="s1">&#39;--disable-cli&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-debug&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-pthreads&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<ul>
<li><p>The libnl library uses a LGPL-2.1+ license. We configure <code class="docutils literal notranslate"><span class="pre">LIBNL_LICENSE</span></code>
to the equivalent <a class="reference external" href="https://spdx.org/licenses/">SPDX</a> license identifier, as well as define
<code class="docutils literal notranslate"><span class="pre">LIBNL_LICENSE_FILES</span></code> to point to a copy of the license text. Specifying
license information is not required, but can be helpful when generating
license data or software bill of materials (SBOM) for a project.</p></li>
<li><p>This example uses libnl v3.7.0, which we set in the <code class="docutils literal notranslate"><span class="pre">LIBNL_VERSION</span></code> option.
The version value is useful for managing output folders and logging versions
of packages.</p></li>
<li><p>We specify the location to download sources in <code class="docutils literal notranslate"><span class="pre">LIBNL_SITE</span></code>.</p></li>
<li><p>The libnl library uses Autotools. This means we can use <code class="docutils literal notranslate"><span class="pre">LIBNL_TYPE</span></code> to
configure the helper type and avoid the need to create custom
configure/build scripts to run <code class="docutils literal notranslate"><span class="pre">./configure</span></code>, etc. (since releng-tool
will handle this for us).</p></li>
<li><p>We configure <code class="docutils literal notranslate"><span class="pre">LIBNL_CONF_ENV</span></code> and <code class="docutils literal notranslate"><span class="pre">LIBNL_CONF_DEFS</span></code> to use the configuration
options we prepared in the root configuration. This allows this Autotools
package to use the desired toolchain.</p></li>
<li><p>This package is configured to install (<code class="docutils literal notranslate"><span class="pre">LIBNL_INSTALL_TYPE</span></code>) into the
staging area (instead of, by default, into the target directory). Since
we are creating a static library for <code class="docutils literal notranslate"><span class="pre">htop</span></code> to link against, there is no
need to place any generated content from the <code class="docutils literal notranslate"><span class="pre">libnl</span></code> package into the
target area.</p></li>
<li><p>Finally, we configure <code class="docutils literal notranslate"><span class="pre">LIBNL_CONF_OPTS</span></code> to tweak other options supported
by this package. We only need a static library, so we explicitly indicate
to enable static builds and disable shared builds. We also disable a series
of other features not needed for this example.</p>
<p>Using configuration options can be useful for disabling certain project
options such as disabling unit tests (which may not be desired for these
types of builds). It is always good to explicitly define configuration
entries when possible, just in case default values change for an option.</p>
</li>
</ul>
<p>The above <code class="docutils literal notranslate"><span class="pre">libnl</span></code> package specifies a remote URL to download library
sources. These sources should be validated to ensure data is not corrupted
or manipulated. To do this, create a hash file alongside the package
definition called <code class="docutils literal notranslate"><span class="pre">libnl.hash</span></code> with the contents:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># https://github.com/thom311/libnl/releases/download/libnl3_7_0/libnl-3.7.0.tar.gz.sha256sum
sha256 9fe43ccbeeea72c653bdcf8c93332583135cda46a79507bfd0a483bb57f65939 libnl-3.7.0.tar.gz
# locally computed
sha256 dc626520dcd53a22f727af3ee42c770e56c97a64fe3adb063799d8ab032fe551 COPYING
</pre></div>
</div>
<p>In this hash file, expected hashes for resources can be configured and checked
when releng-tool attempts to fetch resources from remote sources. Ideally,
hashes provided from a third-party package release can be directly added into
these files (<code class="docutils literal notranslate"><span class="pre">&lt;hash-type&gt;</span> <span class="pre">&lt;hash&gt;</span> <span class="pre">&lt;file&gt;</span></code>). In this example, libnl provides
expected hashes for archives when they make a release. We copy the hash
contents into our local hash file (with a helpful comment to indicate where
it came from).</p>
<p>In addition, we also provide a hash of the license document. While not
required, this can be useful in detecting if the license of a package
changes between versions.</p>
</section>
<section id="the-ncurses-package">
<h6>The ncurses package<a class="headerlink" href="#the-ncurses-package" title="Link to this heading">¬∂</a></h6>
<p>Update the <code class="docutils literal notranslate"><span class="pre">ncurses</span></code> package definition (<code class="docutils literal notranslate"><span class="pre">my-tc-project/ncurses/ncurses.rt</span></code>)
with the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">NCURSES_INSTALL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;staging&#39;</span>
<span class="n">NCURSES_LICENSE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;X11&#39;</span><span class="p">]</span>
<span class="n">NCURSES_LICENSE_FILES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;COPYING&#39;</span><span class="p">]</span>
<span class="n">NCURSES_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://invisible-mirror.net/archives/ncurses/ncurses-$</span><span class="si">{NCURSES_VERSION}</span><span class="s1">.tar.gz&#39;</span>
<span class="n">NCURSES_TYPE</span> <span class="o">=</span> <span class="s1">&#39;autotools&#39;</span>
<span class="n">NCURSES_VERSION</span> <span class="o">=</span> <span class="s1">&#39;6.4&#39;</span>

<span class="n">NCURSES_CONF_ENV</span> <span class="o">=</span> <span class="n">MY_TOOLCHAIN_CONF_ENV</span>
<span class="n">NCURSES_CONF_DEFS</span> <span class="o">=</span> <span class="n">MY_TOOLCHAIN_CONF_DEFS</span>

<span class="n">NCURSES_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># static lib</span>
    <span class="s1">&#39;--with-normal&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-shared&#39;</span><span class="p">,</span>
    <span class="c1"># disable features that are not required</span>
    <span class="s1">&#39;--disable-db-install&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-ada&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-curses-h&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-cxx&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-cxx-binding&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-debug&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-gpm&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-manpages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-progs&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-sysmouse&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-tack&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-tclib&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-termlib&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-tests&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The above almost mimics the previous <code class="docutils literal notranslate"><span class="pre">libnl</span></code> package with the exception of
this package having a different license and different configuration options
available.</p>
<p>Since <code class="docutils literal notranslate"><span class="pre">ncurses</span></code> package specifies a remote URL to download library
sources, we also want to update <code class="docutils literal notranslate"><span class="pre">ncurses.hash</span></code> with the contents:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># locally computed after verification with:
#  https://invisible-island.net/archives/ncurses/ncurses-6.4.tar.gz.asc
#  19882D92DDA4C400C22C0D56CC2AF4472167BE03
sha256 6931283d9ac87c5073f30b6290c4c75f21632bb4fc3603ac8100812bed248159 ncurses-6.4.tar.gz
# locally computed
sha256 63de87399e9fc8860236082b6b0520e068e9eb1fad0ebd30202aa30bb6f690ac COPYING
</pre></div>
</div>
<p>In the previous <code class="docutils literal notranslate"><span class="pre">libnl</span></code> package, maintainers provided an official SHA-256
hash to use for our local hash file. For <code class="docutils literal notranslate"><span class="pre">ncurses</span></code>, maintainers provide a
GPG signature of their archives instead. To handle this, we manually
download the archive and signature file to verify its contents. Once
verified, we generated our own SHA-256 sum and place it into this hash file
(with a helpful comment). And as done in the previous package, we also
provide a hash of the license document.</p>
</section>
<section id="the-htop-package">
<h6>The htop package<a class="headerlink" href="#the-htop-package" title="Link to this heading">¬∂</a></h6>
<p>Update the <code class="docutils literal notranslate"><span class="pre">htop</span></code> package definition (<code class="docutils literal notranslate"><span class="pre">my-tc-project/htop/htop.rt</span></code>) with the
following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">HTOP_NEEDS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;libnl&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ncurses&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">HTOP_LICENSE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GPL-2.0-or-later&#39;</span><span class="p">]</span>
<span class="n">HTOP_LICENSE_FILES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;COPYING&#39;</span><span class="p">]</span>
<span class="n">HTOP_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/htop-dev/htop/releases/download/$</span><span class="si">{HTOP_VERSION}</span><span class="s1">/htop-$</span><span class="si">{HTOP_VERSION}</span><span class="s1">.tar.xz&#39;</span>
<span class="n">HTOP_TYPE</span> <span class="o">=</span> <span class="s1">&#39;autotools&#39;</span>
<span class="n">HTOP_VERSION</span> <span class="o">=</span> <span class="s1">&#39;3.2.2&#39;</span>

<span class="n">HTOP_CONF_ENV</span> <span class="o">=</span> <span class="n">MY_TOOLCHAIN_CONF_ENV</span>
<span class="n">HTOP_CONF_DEFS</span> <span class="o">=</span> <span class="n">MY_TOOLCHAIN_CONF_DEFS</span>

<span class="n">HTOP_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># disable features that are not required</span>
    <span class="s1">&#39;--disable-capabilities&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-dependency-tracking&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-hwloc&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-openvz&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-pcp&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-sensors&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-unicode&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--disable-vserver&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>This package defines a list of package dependencies for <code class="docutils literal notranslate"><span class="pre">htop</span></code>.
Specifically, we list <code class="docutils literal notranslate"><span class="pre">libnl</span></code> and <code class="docutils literal notranslate"><span class="pre">ncurses</span></code>, which will force releng-tool
to configure/build these packages before processing the <code class="docutils literal notranslate"><span class="pre">htop</span></code> package.</p></li>
</ul>
<p>Since <code class="docutils literal notranslate"><span class="pre">htop</span></code> package specifies a remote URL to download library sources,
we also want to update <code class="docutils literal notranslate"><span class="pre">htop.hash</span></code> with the contents:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># https://github.com/htop-dev/htop/releases/download/3.2.2/htop-3.2.2.tar.xz.sha256
sha256 bac9e9ab7198256b8802d2e3b327a54804dc2a19b77a5f103645b11c12473dc8 htop-3.2.2.tar.xz
# locally computed
sha256 8177f97513213526df2cf6184d8ff986c675afb514d4e68a404010521b880643 COPYING
</pre></div>
</div>
</section>
<section id="performing-a-build">
<h6>Performing a build<a class="headerlink" href="#performing-a-build" title="Link to this heading">¬∂</a></h6>
<p>With a configuration and packages prepared, the project should be ready to
be built. While in the <code class="docutils literal notranslate"><span class="pre">my-tc-project</span></code> folder, invoke <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">fetching libnl...</span>
<span class="go">configuring libnl...</span>
<span class="go">building libnl...</span>
<span class="go">...</span>
<span class="go">building htop...</span>
<span class="go">installing htop...</span>
<span class="go">generating sbom information...</span>
<span class="go">generating license information...</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">completed (0:01:15)</span>
</pre></div>
</div>
<p>Once completed, the target directory will have a compiled <code class="docutils literal notranslate"><span class="pre">htop</span></code> executable
that can be copied over to and run on an aarch64-running target.</p>
<p>This concludes this tutorial.</p>
</section>
</section>
</div>
</section>
<span id="document-getting-started/rebuilds"></span><section id="understanding-rebuilds">
<h4>Understanding rebuilds<a class="headerlink" href="#understanding-rebuilds" title="Link to this heading">¬∂</a></h4>
<ul class="simple">
<li><p>Completed stages for a package are not executed again when releng-tool is
re-run.</p></li>
<li><p>Users looking to re-run a completed stage for a specific package need to
manually re-trigger the stage (e.g.
<a class="reference internal" href="#document-guides/arguments#action-pkg-rebuild"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng-tool</span> <span class="pre">&lt;pkg&gt;-rebuild</span></code></span></a>,
<a class="reference internal" href="#document-guides/arguments#action-pkg-reconfigure"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng-tool</span> <span class="pre">&lt;pkg&gt;-reconfigure</span></code></span></a>,
<a class="reference internal" href="#document-guides/arguments#action-pkg-reinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng-tool</span> <span class="pre">&lt;pkg&gt;-reinstall</span></code></span></a>).</p></li>
<li><p>Users can also invoke <a class="reference internal" href="#document-guides/arguments#action-punch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng-tool</span> <span class="pre">punch</span></code></span></a> for force
re-trigger all package stages.</p></li>
</ul>
<section id="details">
<h5>Details<a class="headerlink" href="#details" title="Link to this heading">¬∂</a></h5>
<p>As packages are processed in order (based off of detected dependencies, if any),
each package will go through their respective stages:</p>
<ol class="arabic simple">
<li><p>Fetching</p></li>
<li><p>Extraction</p></li>
<li><p>Patching</p></li>
<li><p>Configuration</p></li>
<li><p>Building</p></li>
<li><p>Installation</p></li>
</ol>
<p>While a package may not take advantage of each stage, the releng-tool will
step through each stage to track its progress. Due to the vast number of
ways a package can be defined, the ability for releng-tool to determine
when a previously executed stage is ‚Äûstale‚Äú is non-trivial. Instead of
attempting to manage ‚Äûstale‚Äú package stages, releng-tool leaves the
responsibility to the builder to deal with these scenarios. This idea is
important for developers to understand how it is possible to perform
rebuilds of packages to avoid a full rebuild of the entire project.</p>
<p>Consider the following example: a project has three packages which are
C++-based packages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îú‚îÄ‚îÄ module-a/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îÇ   ‚îú‚îÄ‚îÄ module-b/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îÇ   ‚îî‚îÄ‚îÄ module-c/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p>For this example, project <code class="docutils literal notranslate"><span class="pre">module-b</span></code> depends on <code class="docutils literal notranslate"><span class="pre">module-a</span></code> and project
<code class="docutils literal notranslate"><span class="pre">module-c</span></code> depends on <code class="docutils literal notranslate"><span class="pre">module-b</span></code>. Therefore, releng-tool will process
packages in the order <code class="docutils literal notranslate"><span class="pre">module-a</span> <span class="pre">-&gt;</span> <span class="pre">module-b</span> <span class="pre">-&gt;</span> <span class="pre">module-c</span></code>. In this example,
the project is built until a failure is detected in package <code class="docutils literal notranslate"><span class="pre">module-c</span></code>:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">[module-a built]</span>
<span class="go">[module-b built]</span>
<span class="go">ERROR: unable to build module-c</span>
</pre></div>
</div>
<p>A developer notices that it is due to an issue found in <code class="docutils literal notranslate"><span class="pre">module-b</span></code>; however,
instead of attempting to redo everything from a fresh start, the developer
wishes to test the process by manually making local changes in <code class="docutils literal notranslate"><span class="pre">module-b</span></code> to
complete the build process. The developer makes the change, re-invokes
<code class="docutils literal notranslate"><span class="pre">releng-tool</span></code> but still notices the build error occurs:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">ERROR: unable to build module-c</span>
</pre></div>
</div>
<p>The issue here is that since <code class="docutils literal notranslate"><span class="pre">module-b</span></code> has already been processed, none of
the interim changes made will be available for <code class="docutils literal notranslate"><span class="pre">module-c</span></code> to use. To take
advantage of the new implementation in <code class="docutils literal notranslate"><span class="pre">module-b</span></code>, the builder can signal for
the updated package to be rebuilt:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>module-b-rebuild
<span class="go">[module-b rebuilt]</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">module-b</span></code> in a more desired state, a re-invoke of <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code> can
allow <code class="docutils literal notranslate"><span class="pre">module-c</span></code> to be built.</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">[module-c built]</span>
</pre></div>
</div>
<p>This is a very simple example to consider, and attempts to rebuild can vary
based on the packages, changes made and languages used.</p>
</section>
</section>
<span id="document-getting-started/fetching"></span><section id="understanding-fetching">
<h4>Understanding fetching<a class="headerlink" href="#understanding-fetching" title="Link to this heading">¬∂</a></h4>
<p>The first stage packages go through is the ‚Äûfetch‚Äú phase. For packages
which have content to acquire, files can be downloaded or version control
sources may be locally cached. For example, if a package has a link to a
file to download:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/libfoo-1.0.tgz&#39;</span>
</pre></div>
</div>
<p>The file will be stored in the download folder, ready to be used for
extraction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ dl/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-1.0.tgz       &lt;----
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p>And for DVCS-based sites:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git+git@example.com:base/libfoo.git&#39;</span>
</pre></div>
</div>
<p>The contents of the repository will be stored in the cache folder for later
use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ cache/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...                  &lt;----
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p>Once a package has completed its fetch stage, releng-tool should never need
to remotely fetch content for that package again (until site, version, etc.
changes). In the event that a user invokes a <a class="reference internal" href="#document-guides/arguments#action-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">clean</span></code></span></a> action
followed by a full build:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>clean
<span class="gp">$ </span>releng-tool
<span class="go">...</span>
</pre></div>
</div>
<p>No fetching may occur since package contents may already be stored in the
existing <code class="docutils literal notranslate"><span class="pre">dl/</span></code> and <code class="docutils literal notranslate"><span class="pre">cache/</span></code> folders.</p>
<p>A problem a user may experience is if they wish to re-acquire sources from
a site if they know the sources have changed. For example, if a remote
archive has been updated, if a tag has been moved or if a target branch
has been updated. The following will present a series of ways a user can
deal with these use cases.</p>
<section id="start-fresh">
<h5>Start fresh!<a class="headerlink" href="#start-fresh" title="Link to this heading">¬∂</a></h5>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>While this approach ensures the most recent sources for the existing
package configurations are fetched, it can be time consuming to clear the
entire cache if, for example, only a single package has changed.</p>
<p>It is recommended to look at all available options to re-fetch content.</p>
</div>
<p>The easiest way to ensure all fresh sources are downloaded is to clean all
local downloads/cache for a project. This can be achieved using
<a class="reference internal" href="#document-guides/arguments#action-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">distclean</span></code></span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">distclean</span>
</pre></div>
</div>
<p>This will ensure all downloaded files, cached content, etc. are removed
from the local system, ensuring a next-build to download fresh sources.</p>
</section>
<section id="full-fetching">
<h5>Full fetching<a class="headerlink" href="#full-fetching" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Post-fetching will occur after the patching stage instead of the
extraction phase.</p>
</div>
<p>Most package sources are acquired during the fetch stage. However, some
packages define dependencies within their sources. This can require
releng-tool to first fetch a defined package‚Äôs sources, extract the
package, followed by fetching any defined dependencies. Post-fetching
will be automatically performed for supported packages (e.g. Cargo) after
their patch stage. Users can invoke the <a class="reference internal" href="#document-guides/arguments#action-fetch-full"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch-full</span></code></span></a>
action to explicitly process releng-tool‚Äôs fetch-post operations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">fetch</span><span class="o">-</span><span class="n">full</span>
</pre></div>
</div>
</section>
<section id="force-re-fetch-of-dvcs-sources">
<h5>Force re-fetch of DVCS sources<a class="headerlink" href="#force-re-fetch-of-dvcs-sources" title="Link to this heading">¬∂</a></h5>
<p>When a DVCS-based package goes through its fetch stage, the contents can
be locally stored in the configured cache directory. For a package definition
as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git+git@example.com:base/libfoo.git&#39;</span>
<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v1.0&#39;</span>
</pre></div>
</div>
<p>A cache of the <code class="docutils literal notranslate"><span class="pre">v1.0</span></code> tag will be fetched and stored locally. If a package
is cleaned and rebuilt again, releng-tool will referred to the locally
cached tag. In the event that the remote site changes the tag location,
clean builds will not be using the most recent tag location. If a user
knows the reference for a site has been updated, they can explicitly
request a <a class="reference internal" href="#document-guides/arguments#action-pkg-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch</span></code></span></a> on a package which should
trigger a forced update from the remote site. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">libfoo</span><span class="o">-</span><span class="n">fetch</span>
</pre></div>
</div>
<p>The above can recognize the new tag update, and any future clean builds
made will use the new reference implementation.</p>
</section>
<section id="force-re-fetch-of-fixed-sources">
<h5>Force re-fetch of fixed sources<a class="headerlink" href="#force-re-fetch-of-fixed-sources" title="Link to this heading">¬∂</a></h5>
<p>For packages which reference a fixed artifact, once a package has completed
its fetch stage, the artifact will no longer need to be downloaded
again. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/libfoo-1.0.tgz&#39;</span>
</pre></div>
</div>
<p>The archive <code class="docutils literal notranslate"><span class="pre">libfoo-1.0.tgz</span></code> will be locally store and used in future
builds. In the event where a site‚Äôs archive is known to have been changed,
a user can force re-fetch these artifacts by using the
<a class="reference internal" href="#document-guides/arguments#action-pkg-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch</span></code></span></a> action along with the
<a class="reference internal" href="#document-guides/arguments#arg-force"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">-F,</span> <span class="pre">--force</span></code></span></a> argument. For example, even if <code class="docutils literal notranslate"><span class="pre">libfoo-1.0.tgz</span></code>
was already downloaded locally, a request as follows will delete the local
cache file and re-download it from the configured site:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">libfoo</span><span class="o">-</span><span class="n">fetch</span> <span class="o">--</span><span class="n">force</span>
</pre></div>
</div>
</section>
<section id="automatically-re-fetch-development-branches">
<h5>Automatically re-fetch development branches<a class="headerlink" href="#automatically-re-fetch-development-branches" title="Link to this heading">¬∂</a></h5>
<p>When operating in <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a> where a
package has a development-specific source based off a branch, it may be
preferred to always ensure the most recent sources are fetched. For
example, consider <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> with a development revision <code class="docutils literal notranslate"><span class="pre">main</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git+git@example.com:base/libfoo.git&#39;</span>
<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v1.0&#39;</span>
<span class="n">LIBFOO_DEVMODE_REVISION</span> <span class="o">=</span> <span class="s1">&#39;main&#39;</span>
</pre></div>
</div>
<p>With the above configuration, if a builder cleans and rebuilds the project,
the originally cache of <code class="docutils literal notranslate"><span class="pre">main</span></code> would still be used, even if <code class="docutils literal notranslate"><span class="pre">main</span></code> has new
updates on the remote branch:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">...</span>
<span class="go">~using libfoo hash 1b100c825307730e2027398d70af7c84ce173238~</span>
<span class="go">...</span>
<span class="gp">$ </span>releng-tool<span class="w"> </span>clean
<span class="gp">$ </span>releng-tool
<span class="go">...</span>
<span class="go">~still using libfoo hash 1b100c825307730e2027398d70af7c84ce173238~</span>
<span class="go">...</span>
</pre></div>
</div>
<p>If a user wants to automatically re-fetch new updates on a development
branch, they can take advantage of the
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span></code></span></a> option. For
example, if a site definition had:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git+git@example.com:base/libfoo.git&#39;</span>
<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v1.0&#39;</span>
<span class="n">LIBFOO_DEVMODE_REVISION</span> <span class="o">=</span> <span class="s1">&#39;main&#39;</span>
<span class="n">LIBFOO_DEVMODE_IGNORE_CACHE</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>A repeat of the rebuild actions will result in an automatic update of the
package‚Äôs <code class="docutils literal notranslate"><span class="pre">main</span></code> branch (if updates are available):</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">...</span>
<span class="go">~using libfoo hash 1b100c825307730e2027398d70af7c84ce173238~</span>
<span class="go">...</span>
<span class="gp">$ </span>releng-tool<span class="w"> </span>clean
<span class="gp">$ </span>releng-tool
<span class="go">...</span>
<span class="go">~using libfoo hash 4cd6375c7464b6bdf166b4f27d5e2fbd937e4ad0~</span>
<span class="go">...</span>
</pre></div>
</div>
</section>
</section>
</div>
</section>
</section>
<span id="document-guides/guides"></span><section id="user-guides">
<h2>User guides<a class="headerlink" href="#user-guides" title="Link to this heading">¬∂</a></h2>
<p>The following lists a series of guides which can help a user understand and
utilize all capabilities of releng-tool.</p>
<div class="toctree-wrapper compound">
<span id="document-guides/arguments"></span><section id="arguments">
<h3>Arguments<a class="headerlink" href="#arguments" title="Link to this heading">¬∂</a></h3>
<p>The command line can be used to specify a single action to perform or
provide various options to configure the releng-tool process. Options
can be provided before or after an action (if an explicit action is provided).
By default, if a user does not specify an action, it is assumed that all
steps are to be performed.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;options&gt;<span class="w"> </span><span class="o">[</span>action<span class="o">]</span>
</pre></div>
</div>
<section id="global-actions">
<h4>Global actions<a class="headerlink" href="#global-actions" title="Link to this heading">¬∂</a></h4>
<p>The following outlines available global actions:</p>
<section id="clean">
<span id="action-clean"></span><h5><code class="docutils literal notranslate"><span class="pre">clean</span></code><a class="headerlink" href="#clean" title="Link to this heading">¬∂</a></h5>
<p>Clean (removes) a series of folders holding content such as extracted
archives, built libraries and more.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>clean
</pre></div>
</div>
<p>Images and downloaded assets/cache are not removed (see
<a class="reference internal" href="#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a> for a more through all cleaning operation).
This clean operation will remove files based off the configured output
directory. If an output directory is provided (i.e. <code class="docutils literal notranslate"><span class="pre">--out-dir</span> <span class="pre">&lt;dir&gt;</span></code>)
during a clean event, select folders inside this directory will be removed
instead of the output directory (if any) found in the root directory.</p>
<p>See also the <a class="reference internal" href="#action-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">distclean</span></code></span></a>, <a class="reference internal" href="#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a> and
<a class="reference internal" href="#action-pkg-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-clean</span></code></span></a> actions.</p>
</section>
<section id="distclean">
<span id="action-distclean"></span><h5><code class="docutils literal notranslate"><span class="pre">distclean</span></code><a class="headerlink" href="#distclean" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.</span></p>
</div>
<p>Perform a more extreme pristine clean of the releng-tool project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>distclean
</pre></div>
</div>
<p>This request removes the <code class="docutils literal notranslate"><span class="pre">cache/</span></code>, <code class="docutils literal notranslate"><span class="pre">dl/</span></code> and <code class="docutils literal notranslate"><span class="pre">output/</span></code> directories found
in the root directory or overridden by respective arguments, as well as
any mode file flags which may be set. See also the <a class="reference internal" href="#action-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">clean</span></code></span></a>
or <a class="reference internal" href="#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a> actions.</p>
<p>See also the <a class="reference internal" href="#action-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">clean</span></code></span></a>, <a class="reference internal" href="#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a> and
<a class="reference internal" href="#action-pkg-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-distclean</span></code></span></a> actions.</p>
</section>
<section id="extract">
<span id="action-extract"></span><h5><code class="docutils literal notranslate"><span class="pre">extract</span></code><a class="headerlink" href="#extract" title="Link to this heading">¬∂</a></h5>
<p>All packages will be processed up to the extraction phase (inclusive).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>extract
</pre></div>
</div>
<p>See also the <a class="reference internal" href="#action-pkg-extract"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-extract</span></code></span></a> action.</p>
</section>
<section id="fetch">
<span id="action-fetch"></span><h5><code class="docutils literal notranslate"><span class="pre">fetch</span></code><a class="headerlink" href="#fetch" title="Link to this heading">¬∂</a></h5>
<p>All packages will be processed up to the fetch phase (inclusive).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>fetch
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>When a <code class="docutils literal notranslate"><span class="pre">fetch</span></code> is explicitly requested for DVCS sources (e.g. Git), the
local cache kept for the repository will be updated against the
configured remote. This can be helpful for packages which use a branch
for their target revision, or wishing to use a tag which has been moved.</p>
<p>Users may also take advantage of explicit re-fetching of downloaded
artifacts when using this action in combination with the <a class="reference internal" href="#arg-force"><span class="std std-ref">--force, -F</span></a>
argument.</p>
</div>
<p>See also <a class="reference internal" href="#document-guides/tips/offline-builds"><span class="doc std std-doc">offline builds</span></a>, the
<a class="reference internal" href="#action-fetch-full"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch-full</span></code></span></a> action and the
<a class="reference internal" href="#action-pkg-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch</span></code></span></a> action.</p>
</section>
<section id="fetch-full">
<span id="action-fetch-full"></span><h5><code class="docutils literal notranslate"><span class="pre">fetch-full</span></code><a class="headerlink" href="#fetch-full" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>All packages will be processed up to the extraction phase, as well as any
post-extraction fetch operations for supported package types (e.g. fetching
Cargo dependencies).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>fetch-full
</pre></div>
</div>
<p>See also the <a class="reference internal" href="#action-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch</span></code></span></a> and
<a class="reference internal" href="#action-pkg-fetch-full"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch-full</span></code></span></a> actions.</p>
</section>
<section id="init">
<span id="action-init"></span><h5><code class="docutils literal notranslate"><span class="pre">init</span></code><a class="headerlink" href="#init" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.</span></p>
</div>
<p>Initialize an empty root directory with a sample project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>init
</pre></div>
</div>
</section>
<section id="licenses">
<span id="action-licenses"></span><h5><code class="docutils literal notranslate"><span class="pre">licenses</span></code><a class="headerlink" href="#licenses" title="Link to this heading">¬∂</a></h5>
<p>A request to generate all license information for the project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>licenses
</pre></div>
</div>
<p>Note that license information requires acquiring license documents from
packages. Therefore, packages will be fetched/extracted if not already done.</p>
<p>See also the <a class="reference internal" href="#action-pkg-license"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-license</span></code></span></a> action.</p>
</section>
<section id="lint">
<span id="action-lint"></span><h5><code class="docutils literal notranslate"><span class="pre">lint</span></code><a class="headerlink" href="#lint" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>A request to lint the quality of a project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>lint
</pre></div>
</div>
<p>To ignore lines based on preference or false-positives, lines can be commented
with a <code class="docutils literal notranslate"><span class="pre">noqa</span></code> keyword to not be flagged. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">UNEXPECTED_KEY</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># noqa</span>
</pre></div>
</div>
<p>See also the <a class="reference internal" href="#action-pkg-lint"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-lint</span></code></span></a> action.</p>
</section>
<section id="mrproper">
<span id="action-mrproper"></span><h5><code class="docutils literal notranslate"><span class="pre">mrproper</span></code><a class="headerlink" href="#mrproper" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.</span></p>
</div>
<p>Perform a pristine clean of the releng-tool project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>mrproper
</pre></div>
</div>
<p>This request removes the <code class="docutils literal notranslate"><span class="pre">output/</span></code> directory found in the root directory or
overridden by the <code class="docutils literal notranslate"><span class="pre">--out-dir</span></code> argument, as well as any mode file flags
which may be set. The <code class="docutils literal notranslate"><span class="pre">cache/</span></code> and <code class="docutils literal notranslate"><span class="pre">dl/</span></code> directories will remain untouched.</p>
<p>See also the <a class="reference internal" href="#action-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">clean</span></code></span></a> and <a class="reference internal" href="#action-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">distclean</span></code></span></a>
actions.</p>
</section>
<section id="patch">
<span id="action-patch"></span><h5><code class="docutils literal notranslate"><span class="pre">patch</span></code><a class="headerlink" href="#patch" title="Link to this heading">¬∂</a></h5>
<p>All packages will be processed up to the patch phase (inclusive).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>patch
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/patching"><span class="doc std std-doc">Patching</span></a> and the <a class="reference internal" href="#action-pkg-patch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-patch</span></code></span></a> action.</p>
</section>
<section id="printvars">
<span id="action-printvars"></span><h5><code class="docutils literal notranslate"><span class="pre">printvars</span></code><a class="headerlink" href="#printvars" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>Print configuration variables associated with the project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>printvars
</pre></div>
</div>
<p>Printed variables will also note whether the variable is known to be set in
the active configuration/execution context.</p>
<p>See also the <a class="reference internal" href="#action-pkg-printvars"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-printvars</span></code></span></a> action.</p>
</section>
<section id="punch">
<span id="action-punch"></span><h5><code class="docutils literal notranslate"><span class="pre">punch</span></code><a class="headerlink" href="#punch" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.2.</span></p>
</div>
<p>A punch request acts in a similar fashion as if no global action was provided.
All configured packages will be processed to their completion and any post
actions will be run. The difference between a default run and a punch run is
when a punch run is requested, any packages that have already been processed
will be re-invoked as if a re-configuration request has been made.</p>
<p>This allows a developer to easily attempt to rebuild all packages in their
project when multiple packages have been updated.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>punch
</pre></div>
</div>
</section>
<section id="sbom">
<span id="action-sbom"></span><h5><code class="docutils literal notranslate"><span class="pre">sbom</span></code><a class="headerlink" href="#sbom" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<p>A request to generate a software build of materials (SBOM) for the project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>sbom
</pre></div>
</div>
<p>By default, a releng-tool run will generate an SBOM file at the end of a
run. This action can be used to generate an SBOM without requiring a build.</p>
<p>See also <a class="reference internal" href="#arg-sbom-format"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--sbom-format</span> <span class="pre">&lt;fmt&gt;</span></code></span></a> (argument) and
<a class="reference internal" href="#document-guides/configuration#conf-sbom-format"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sbom_format</span></code></span></a> (configuration).</p>
</section>
<section id="state">
<span id="action-state"></span><h5><code class="docutils literal notranslate"><span class="pre">state</span></code><a class="headerlink" href="#state" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<p>A request to dump active state information for a project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>state
</pre></div>
</div>
<p>A state request can be used to dump any active configuration and operating
modes.</p>
</section>
</section>
<section id="package-actions">
<span id="id1"></span><h4>Package actions<a class="headerlink" href="#package-actions" title="Link to this heading">¬∂</a></h4>
<p>The following outlines available package-specific actions:</p>
<section id="pkg-var-build">
<span id="action-pkg-build"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-build</span></code><a class="headerlink" href="#pkg-var-build" title="Link to this heading">¬∂</a></h5>
<p>Performs the build stage for the package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-build
</pre></div>
</div>
<p>On success, the specified package will have completed its build.
If a package has any package dependencies, these dependencies will be
processed before the specified package. If the provided package name does
not exist, a notification will be generated.</p>
</section>
<section id="pkg-var-clean">
<span id="action-pkg-clean"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-clean</span></code><a class="headerlink" href="#pkg-var-clean" title="Link to this heading">¬∂</a></h5>
<p>Cleans the build directory for package (if it exists).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-clean
</pre></div>
</div>
<p>See also the <a class="reference internal" href="#action-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">clean</span></code></span></a> and
<a class="reference internal" href="#action-pkg-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-distclean</span></code></span></a> actions.</p>
</section>
<section id="pkg-var-configure">
<span id="action-pkg-configure"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-configure</span></code><a class="headerlink" href="#pkg-var-configure" title="Link to this heading">¬∂</a></h5>
<p>Performs the configure stage for the package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-configure
</pre></div>
</div>
<p>On success, the specified package will have completed its configuration
stage. If a package has any package dependencies, these dependencies will
be processed before the specified package. If the provided package name
does not exist, a notification will be generated.</p>
</section>
<section id="pkg-var-distclean">
<span id="action-pkg-distclean"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-distclean</span></code><a class="headerlink" href="#pkg-var-distclean" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.8.</span></p>
</div>
<p>Perform a pristine clean of a releng-tool package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-distclean
</pre></div>
</div>
<p>This request not only removes the build directory but also any cached file
or directory associated with the package.</p>
<p>See also the <a class="reference internal" href="#action-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">distclean</span></code></span></a> and
<a class="reference internal" href="#action-pkg-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-clean</span></code></span></a> actions.</p>
</section>
<section id="pkg-var-exec-cmd-var">
<span id="action-pkg-exec"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-exec</span> <span class="pre">&quot;&lt;cmd&gt;&quot;</span></code><a class="headerlink" href="#pkg-var-exec-cmd-var" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Support accepting arguments after <code class="docutils literal notranslate"><span class="pre">--</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.5: </span>When using <code class="docutils literal notranslate"><span class="pre">--</span></code> with this call, <a class="reference internal" href="#document-guides/script-helpers#vars-releng-args"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng_args</span></code></span></a> is no
longer populated.</p>
</div>
<p>Invokes a provided command in the package‚Äôs build output directory. This
package action can be useful for developers attempting to develop/debug a
specific package, allowing an easy way to issue commands in a package‚Äôs
directory without having to manually venture to a package‚Äôs output
directory. Packages will need to be processed to at least the patch stage
before a provided command is issued.</p>
<p>An example is as follows:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>libfoo-exec<span class="w"> </span><span class="s2">&quot;mycmd arg1 arg2&quot;</span>
</pre></div>
</div>
<p>Alternatively, arguments can be passed using the format:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>libfoo-exec<span class="w"> </span>--<span class="w"> </span>mycmd<span class="w"> </span>arg1<span class="w"> </span>arg2
</pre></div>
</div>
<p>Package environment variables will be available for the invoked command.</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-exec"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_EXEC</span></code></span></a> (environment) and
<a class="reference internal" href="#document-guides/script-helpers#vars-releng-args"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng_args</span></code></span></a> (configuration).</p>
</section>
<section id="pkg-var-extract">
<span id="action-pkg-extract"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-extract</span></code><a class="headerlink" href="#pkg-var-extract" title="Link to this heading">¬∂</a></h5>
<p>Performs the extraction stage for the package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-extract
</pre></div>
</div>
<p>On success, the specified package will have completed its extraction stage.
If the provided package name does not exist, a notification will be
generated.</p>
<p>See also the <a class="reference internal" href="#action-extract"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">extract</span></code></span></a> action.</p>
</section>
<section id="pkg-var-fetch">
<span id="action-pkg-fetch"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch</span></code><a class="headerlink" href="#pkg-var-fetch" title="Link to this heading">¬∂</a></h5>
<p>Performs the fetch stage for the package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-fetch
</pre></div>
</div>
<p>On success, the specified package stage will have completed its fetch stage.
If the provided package name does not exist, a notification will be
generated.</p>
<p>See also the <a class="reference internal" href="#action-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch</span></code></span></a> and
<a class="reference internal" href="#action-pkg-fetch-full"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch-full</span></code></span></a> actions.</p>
</section>
<section id="pkg-var-fetch-full">
<span id="action-pkg-fetch-full"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch-full</span></code><a class="headerlink" href="#pkg-var-fetch-full" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>Performs the fetch and extraction stages for the package, as well as any
post-extraction fetch operations for the supported package type (e.g.
fetching Cargo dependencies).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-fetch-full
</pre></div>
</div>
<p>If the provided package name does not exist, a notification will be
generated.</p>
<p>See also the <a class="reference internal" href="#action-fetch-full"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch-full</span></code></span></a> and
<a class="reference internal" href="#action-pkg-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch</span></code></span></a> actions.</p>
</section>
<section id="pkg-var-fresh">
<span id="action-pkg-fresh"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fresh</span></code><a class="headerlink" href="#pkg-var-fresh" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<p>Prepares a package to be ready to invoke its configuration stage. A
successful end state results in the specified package will have
completed its patch stage. If the package has already been processed
before, it will be cleaned ahead of time to start fresh.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-fresh
</pre></div>
</div>
<p>If the provided package name does not exist, a notification will be
generated.</p>
</section>
<section id="pkg-var-install">
<span id="action-pkg-install"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-install</span></code><a class="headerlink" href="#pkg-var-install" title="Link to this heading">¬∂</a></h5>
<p>Performs the installation stage for the package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-install
</pre></div>
</div>
<p>On success, the specified package will have completed its installation
stage. If a package has any package dependencies, these dependencies will
be processed before the specified package. If the provided package name
does not exist, a notification will be generated.</p>
</section>
<section id="pkg-var-license">
<span id="action-pkg-license"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-license</span></code><a class="headerlink" href="#pkg-var-license" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.8.</span></p>
</div>
<p>A request to generate the license information for a specific package
in a project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-license
</pre></div>
</div>
<p>Note that license information requires acquiring license documents from
the package itself. Therefore, the package will be fetched/extracted if
not already done.</p>
<p>See also the <a class="reference internal" href="#action-licenses"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">licenses</span></code></span></a> action.</p>
</section>
<section id="pkg-var-lint">
<span id="action-pkg-lint"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-lint</span></code><a class="headerlink" href="#pkg-var-lint" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>A request to lint the quality of a specific package in a project.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-lint
</pre></div>
</div>
<p>See also the <a class="reference internal" href="#action-lint"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">lint</span></code></span></a> action.</p>
</section>
<section id="pkg-var-patch">
<span id="action-pkg-patch"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-patch</span></code><a class="headerlink" href="#pkg-var-patch" title="Link to this heading">¬∂</a></h5>
<p>Performs the patch stage for the package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-patch
</pre></div>
</div>
<p>On success, the specified package will have completed its patch stage.
If the provided package name does not exist, a notification will be generated.</p>
<p>See also <a class="reference internal" href="#document-guides/patching"><span class="doc std std-doc">Patching</span></a> and the <a class="reference internal" href="#action-patch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">patch</span></code></span></a> action.</p>
</section>
<section id="pkg-var-printvars">
<span id="action-pkg-printvars"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-printvars</span></code><a class="headerlink" href="#pkg-var-printvars" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>Print configuration variables associated with the package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-printvars
</pre></div>
</div>
<p>Printed variables will also note whether the variable is known to be set in
the active configuration/execution context.</p>
<p>See also the <a class="reference internal" href="#action-printvars"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">printvars</span></code></span></a> action.</p>
</section>
<section id="pkg-var-rebuild">
<span id="action-pkg-rebuild"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild</span></code><a class="headerlink" href="#pkg-var-rebuild" title="Link to this heading">¬∂</a></h5>
<p>Force a rebuild of a specific package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-rebuild
</pre></div>
</div>
<p>Once a package has been built, the package will not attempt to be built
again. Invoking a rebuild request will tell releng-tool to re-invoke the
build step again. This can be useful during times of development where a
developer attempts to change a package definition or sources between build
attempts. After completing a rebuild, releng-tool will perform the
remaining stages of the package (i.e. the installation phase). Users
wishing to perform only the rebuild stage are recommended to use
<code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild-only</span></code> instead.</p>
<p>If using this action, ensure
<a class="reference internal" href="#document-getting-started/rebuilds"><span class="doc std std-doc">understanding rebuilds</span></a> has been read to
understand this action‚Äôs effect.</p>
</section>
<section id="pkg-var-rebuild-only">
<span id="action-pkg-rebuild-only"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild-only</span></code><a class="headerlink" href="#pkg-var-rebuild-only" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.</span></p>
</div>
<p>Force a rebuild of a specific package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-rebuild-only
</pre></div>
</div>
<p>Once a package has been built, the package will not attempt to be built
again. Invoking a rebuild request will tell releng-tool to re-invoke the
build step again. This can be useful during times of development where
a developer attempts to change a package definition or sources between
build attempts. After completing a rebuild, releng-tool will stop and
perform no other changes. Users wishing to perform a rebuild to the
installation phase are recommended to use <code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild</span></code> instead.</p>
<p>If using this action, ensure
<a class="reference internal" href="#document-getting-started/rebuilds"><span class="doc std std-doc">understanding rebuilds</span></a> has been read to
understand this action‚Äôs effect.</p>
</section>
<section id="pkg-var-reconfigure">
<span id="action-pkg-reconfigure"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure</span></code><a class="headerlink" href="#pkg-var-reconfigure" title="Link to this heading">¬∂</a></h5>
<p>Force a re-configuration of a specific package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-rebuild-reconfigure
</pre></div>
</div>
<p>Once a package has been configured, the package will not attempt to
configure it again. Invoking a re-configuration request will tell
releng-tool to re-invoke the configuration step again. This can be useful
during times of development where a developer attempts to change a package
definition or sources between configuration attempts. After completing a
re-configuration, releng-tool will perform the remaining stages of the
package (i.e. all the way to the installation phase). Users wishing to
perform only the re-configuration stage are recommended to use
<code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure-only</span></code> instead.</p>
<p>If using this action, ensure
<a class="reference internal" href="#document-getting-started/rebuilds"><span class="doc std std-doc">understanding rebuilds</span></a> has been read to
understand this action‚Äôs effect.</p>
</section>
<section id="pkg-var-reconfigure-only">
<span id="action-pkg-reconfigure-only"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure-only</span></code><a class="headerlink" href="#pkg-var-reconfigure-only" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.</span></p>
</div>
<p>Force a re-configuration of a specific package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-reconfigure-only
</pre></div>
</div>
<p>Once a package has been configured, the package will not attempt to
configure it again. Invoking a re-configuration request will tell
releng-tool to re-invoke the configuration step again. This can be useful
during times of development where a developer attempts to change a package
definition or sources between configuration attempts. After completing a
re-configuration, releng-tool will stop and perform no other changes.
Users wishing to perform a re-configuration to the installation phase are
recommended to use <code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure</span></code> instead.</p>
<p>If using this action, ensure
<a class="reference internal" href="#document-getting-started/rebuilds"><span class="doc std std-doc">understanding rebuilds</span></a> has been read to
understand this action‚Äôs effect.</p>
</section>
<section id="pkg-var-reinstall">
<span id="action-pkg-reinstall"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reinstall</span></code><a class="headerlink" href="#pkg-var-reinstall" title="Link to this heading">¬∂</a></h5>
<p>Force a re-installation of a specific package.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>&lt;pkg&gt;-reinstall
</pre></div>
</div>
<p>Once a package has been installed, the package will not attempt to install
it again. Invoking a re-installation request will tell releng-tool to
re-invoke the installation step again. This can be useful during times of
development where a developer attempts to change a package definition or
sources between installation attempts.</p>
<p>If using this action, ensure
<a class="reference internal" href="#document-getting-started/rebuilds"><span class="doc std std-doc">understanding rebuilds</span></a> has been read to
understand this action‚Äôs effect.</p>
</section>
</section>
<section id="option-arguments">
<h4>Option arguments<a class="headerlink" href="#option-arguments" title="Link to this heading">¬∂</a></h4>
<p>The following outlines available options:</p>
<section id="assets-dir-dir-var">
<span id="arg-assets-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">--assets-dir</span> <span class="pre">&lt;dir&gt;</span></code><a class="headerlink" href="#assets-dir-dir-var" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.</span></p>
</div>
<p>Directory to hold cache and download folders instead of using a configured
root directory.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Configuring an asset directory override is only helpful when attempting to
configure a container for all assets. If a user also specifies <code class="docutils literal notranslate"><span class="pre">--cache-dir</span></code>
or <code class="docutils literal notranslate"><span class="pre">--dl-dir</span></code> overrides, this argument has no effect.</p>
</div>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-assets-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_ASSETS_DIR</span></code></span></a>.</p>
</section>
<section id="cache-dir-dir-var">
<span id="arg-cache-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">--cache-dir</span> <span class="pre">&lt;dir&gt;</span></code><a class="headerlink" href="#cache-dir-dir-var" title="Link to this heading">¬∂</a></h5>
<p>Directory for distributed version control cache information (defaults to
<code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/cache</span></code>).</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_CACHE_DIR</span></code></span></a>.</p>
</section>
<section id="config-file-var">
<span id="arg-config"></span><h5><code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">&lt;file&gt;</span></code><a class="headerlink" href="#config-file-var" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>Configuration file to load (defaults to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/releng-tool.rt</span></code>).</p>
<p>See also <a class="reference internal" href="#document-guides/tips/alternative-extensions"><span class="doc std std-doc">alternative extensions</span></a> that
may apply when detecting the default configuration file.</p>
</section>
<section id="debug">
<span id="arg-debug"></span><h5><code class="docutils literal notranslate"><span class="pre">--debug</span></code><a class="headerlink" href="#debug" title="Link to this heading">¬∂</a></h5>
<p>Show debug-related messages.</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-debug"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DEBUG</span></code></span></a>.</p>
</section>
<section id="debug-extended">
<span id="arg-debug-extended"></span><h5><code class="docutils literal notranslate"><span class="pre">--debug-extended</span></code><a class="headerlink" href="#debug-extended" title="Link to this heading">¬∂</a></h5>
<p>Show extended debug-related messages, such as process execution arguments and
environment variables.</p>
</section>
<section id="development-mode-var-d-mode-var">
<span id="arg-development"></span><h5><code class="docutils literal notranslate"><span class="pre">--development</span> <span class="pre">[&lt;mode&gt;]</span></code>, <code class="docutils literal notranslate"><span class="pre">-D</span> <span class="pre">[&lt;mode&gt;]</span></code><a class="headerlink" href="#development-mode-var-d-mode-var" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.13: </span>Support configurable modes.</p>
</div>
<p>Enables <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>.</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-devmode"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DEVMODE</span></code></span></a>.</p>
</section>
<section id="dl-dir-dir-var">
<span id="arg-dl-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">--dl-dir</span> <span class="pre">&lt;dir&gt;</span></code><a class="headerlink" href="#dl-dir-dir-var" title="Link to this heading">¬∂</a></h5>
<p>Directory for download archives (defaults to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/dl</span></code>).</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">DL_DIR</span></code></span></a> and <a class="reference internal" href="#document-guides/environment#env-releng-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DL_DIR</span></code></span></a>.</p>
</section>
<section id="force-f">
<span id="arg-force"></span><h5><code class="docutils literal notranslate"><span class="pre">--force</span></code>, <code class="docutils literal notranslate"><span class="pre">-F</span></code><a class="headerlink" href="#force-f" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.11.</span></p>
</div>
<p>Triggers a forced request for the releng-tool invoke. This entails:</p>
<ul class="simple">
<li><p>Packages will be processed as if a re-configuration request has
been made.</p></li>
<li><p>If an explicit fetch request is made (<a class="reference internal" href="#action-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch</span></code></span></a> or
<a class="reference internal" href="#action-pkg-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch</span></code></span></a>), any packages which cache to a file
will have their cache files deleted to be re-fetched.</p></li>
</ul>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-force"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_FORCE</span></code></span></a>.</p>
</section>
<section id="help-h">
<span id="arg-help"></span><h5><code class="docutils literal notranslate"><span class="pre">--help</span></code>, <code class="docutils literal notranslate"><span class="pre">-h</span></code><a class="headerlink" href="#help-h" title="Link to this heading">¬∂</a></h5>
<p>Show a list of all arguments available by releng-tool.</p>
</section>
<section id="images-dir-dir-var">
<span id="arg-images-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">--images-dir</span> <span class="pre">&lt;dir&gt;</span></code><a class="headerlink" href="#images-dir-dir-var" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>Directory for image outputs (defaults to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/output/images</span></code>).</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">IMAGES_DIR</span></code></span></a> and
<a class="reference internal" href="#document-guides/environment#env-releng-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_IMAGES_DIR</span></code></span></a>.</p>
</section>
<section id="jobs-jobs-var-j-jobs-var">
<span id="arg-jobs"></span><h5><code class="docutils literal notranslate"><span class="pre">--jobs</span> <span class="pre">&lt;jobs&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">-j</span> <span class="pre">&lt;jobs&gt;</span></code><a class="headerlink" href="#jobs-jobs-var-j-jobs-var" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.9: </span>Added support for negative jobs.</p>
</div>
<p>Numbers of jobs to handle (defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>; automatic).</p>
<p>If the total number of jobs provided is negative, it will subtract the
provided value from the automatic job detection count (to a minimum of one).</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-parallel-level"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_PARALLEL_LEVEL</span></code></span></a>.</p>
</section>
<section id="local-sources-pkg-var-dir-var-l-pkg-var-dir-var">
<span id="arg-local-sources"></span><h5><code class="docutils literal notranslate"><span class="pre">--local-sources</span> <span class="pre">[[&lt;pkg&gt;:]&lt;dir&gt;]</span></code>, <code class="docutils literal notranslate"><span class="pre">-L</span> <span class="pre">[[&lt;pkg&gt;:]&lt;dir&gt;]</span></code><a class="headerlink" href="#local-sources-pkg-var-dir-var-l-pkg-var-dir-var" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.13: </span>Support configurable packages and directories.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.16: </span>Support <code class="docutils literal notranslate"><span class="pre">:</span></code> (new) or <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> (original) as a separator.</p>
</div>
<p>Enables <a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>.</p>
<p>Without a directory provided, sources of
<a class="reference internal" href="#document-guides/intern-extern-pkgs"><span class="doc std std-doc">internal packages</span></a> will be looked for in the
parent directory of the configured root directory. Users may use this
argument multiple times to override the local-sources configuration. If
a package-specific override is provided, sources for that package will be
looked for inside the provided path.</p>
</section>
<section id="nocolorout">
<span id="arg-nocolorout"></span><h5><code class="docutils literal notranslate"><span class="pre">--nocolorout</span></code><a class="headerlink" href="#nocolorout" title="Link to this heading">¬∂</a></h5>
<p>Explicitly disable colorized output.</p>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17: </span>Added <code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code> support.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7: </span>Added <code class="docutils literal notranslate"><span class="pre">FORCE_COLOR</span></code> support.</p>
</div>
<p>releng-tool respects the <a class="reference external" href="https://no-color.org/"><code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code></a> and
<a class="reference external" href="https://force-color.org/"><code class="docutils literal notranslate"><span class="pre">FORCE_COLOR</span></code></a> environment variables, if configured in the
running environment.</p>
</div>
</section>
<section id="only-mirror">
<span id="arg-only-mirror"></span><h5><code class="docutils literal notranslate"><span class="pre">--only-mirror</span></code><a class="headerlink" href="#only-mirror" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.0.</span></p>
</div>
<p>Only fetch <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-external"><span class="std std-ref">external</span></a> projects with configured mirror.</p>
<p>When releng-tool is fetching sources with <a class="reference internal" href="#document-guides/configuration#conf-url-mirror"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">url_mirror</span></code></span></a>
configured, package downloads will be first attempted on the mirror before
using their package-defined site. If a developer wishes to enforce a build
to only download external packages from the configured mirror, this option
can be provided when invoking releng-tool.</p>
</section>
<section id="out-dir-dir-var">
<span id="arg-out-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">--out-dir</span> <span class="pre">&lt;dir&gt;</span></code><a class="headerlink" href="#out-dir-dir-var" title="Link to this heading">¬∂</a></h5>
<p>Directory for output (builds, images, etc.; defaults to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/output</span></code>).</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR</span></code></span></a>.</p>
</section>
<section id="profile-profile-var-p-profile-var">
<span id="arg-profile"></span><h5><code class="docutils literal notranslate"><span class="pre">--profile</span> <span class="pre">[&lt;profile&gt;]</span></code>, <code class="docutils literal notranslate"><span class="pre">-P</span> <span class="pre">[&lt;profile&gt;]</span></code><a class="headerlink" href="#profile-profile-var-p-profile-var" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.5.</span></p>
</div>
<p>Configure a profile to run with. Providing this option is only applicable if
a project accepts custom profile options. Multiple profiles can be provided
by repeating this argument. Multiple profiles can also be provided in a
single argument where profiles are separated by a comma (<code class="docutils literal notranslate"><span class="pre">,</span></code>) or a
semicolon (<code class="docutils literal notranslate"><span class="pre">;</span></code>).</p>
<p>See also <a class="reference internal" href="#document-guides/profiles"><span class="doc std std-doc">using profiles</span></a>.</p>
</section>
<section id="relaxed-args">
<span id="arg-relaxed-args"></span><h5><code class="docutils literal notranslate"><span class="pre">--relaxed-args</span></code><a class="headerlink" href="#relaxed-args" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>Do not throw an error when releng-tool is provided unknown arguments.</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-ignore-unknown-args"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_IGNORE_UNKNOWN_ARGS</span></code></span></a>.</p>
</section>
<section id="root-dir-dir-var-r-dir-var">
<span id="arg-root-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">--root-dir</span> <span class="pre">&lt;dir&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">-R</span> <span class="pre">&lt;dir&gt;</span></code><a class="headerlink" href="#root-dir-dir-var-r-dir-var" title="Link to this heading">¬∂</a></h5>
<p>Directory to process a releng-tool project. By default, the root directory is
configured to the working directory.</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-root-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">ROOT_DIR</span></code></span></a>.</p>
</section>
<section id="success-exit-code-code-var">
<span id="arg-success-exit-code"></span><h5><code class="docutils literal notranslate"><span class="pre">--success-exit-code</span> <span class="pre">&lt;code&gt;</span></code><a class="headerlink" href="#success-exit-code-code-var" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.8.</span></p>
</div>
<p>Allows overriding the exit code reported on a successful run. By default, a
successful run will have an exit code of <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</section>
<section id="sbom-format-fmt-var">
<span id="arg-sbom-format"></span><h5><code class="docutils literal notranslate"><span class="pre">--sbom-format</span> <span class="pre">&lt;fmt&gt;</span></code><a class="headerlink" href="#sbom-format-fmt-var" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.4: </span><code class="docutils literal notranslate"><span class="pre">rdp-spdx</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">rdf-spdx</span></code>.</p>
</div>
<p>The format to use when generating a software build of materials (SBOM).
Multiple formats can be provided (comma-separated).</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Type</p></th>
<th class="head text-left"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p>CSV</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">csv</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>HTML</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">html</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>JSON</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">json</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>JSON (SPDX)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">json-spdx</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>RDF (SPDX)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">rdf-spdx</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>Text</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">text</span></code> (default)</p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>XML</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">xml</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>See also <a class="reference internal" href="#action-sbom"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sbom</span></code></span></a> (action) and <a class="reference internal" href="#document-guides/configuration#conf-sbom-format"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sbom_format</span></code></span></a>
(configuration).</p>
</section>
<section id="quirk-quirk-id-var">
<span id="arg-quirk"></span><h5><code class="docutils literal notranslate"><span class="pre">--quirk</span> <span class="pre">&lt;quirk-id&gt;</span></code><a class="headerlink" href="#quirk-quirk-id-var" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.4.</span></p>
</div>
<p>Allows specifying a runtime <a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">quirk</span></a> for the releng-tool
process. This option can be used multiple times to apply multiple quirks.</p>
</section>
<section id="verbose-v">
<span id="arg-verbose"></span><h5><code class="docutils literal notranslate"><span class="pre">--verbose</span></code>, <code class="docutils literal notranslate"><span class="pre">-V</span></code><a class="headerlink" href="#verbose-v" title="Link to this heading">¬∂</a></h5>
<p>Show additional messages.</p>
<p>See also <a class="reference internal" href="#document-guides/environment#env-releng-verbose"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_VERBOSE</span></code></span></a>.</p>
</section>
<section id="version">
<span id="arg-version"></span><h5><code class="docutils literal notranslate"><span class="pre">--version</span></code><a class="headerlink" href="#version" title="Link to this heading">¬∂</a></h5>
<p>Show releng-tool‚Äôs version.</p>
</section>
<section id="werror-werror">
<span id="arg-werror"></span><h5><code class="docutils literal notranslate"><span class="pre">--werror</span></code>, <code class="docutils literal notranslate"><span class="pre">-Werror</span></code><a class="headerlink" href="#werror-werror" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<p>Treat warnings from releng-tool as errors.</p>
</section>
</section>
<section id="variable-injection">
<span id="arg-variable-injection"></span><h4>Variable injection<a class="headerlink" href="#variable-injection" title="Link to this heading">¬∂</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<p>Users can override a select set of variables by defining them in the command
line arguments. For example, consider a project that defines a <code class="docutils literal notranslate"><span class="pre">libfoo</span></code>
package with a version <code class="docutils literal notranslate"><span class="pre">1.0</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.0&#39;</span>
</pre></div>
</div>
<p>If a user wants to override this a run with <code class="docutils literal notranslate"><span class="pre">1.1</span></code>, the following can be used:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span><span class="nv">LIBFOO_VERSION</span><span class="o">=</span><span class="m">1</span>.1
</pre></div>
</div>
</section>
</section>
<span id="document-guides/configuration"></span><section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¬∂</a></h3>
<p>A releng-tool project defines its configuration options inside the a
<code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> file at the root of a project (or other defaults; see
<a class="reference internal" href="#document-guides/tips/alternative-extensions"><span class="doc std std-doc">alternative extensions</span></a>). The primary
configuration option for a developer to define is <code class="docutils literal notranslate"><span class="pre">packages</span></code>, which is used
to hold a list of packages to be processed. For example, a project structure
such as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îú‚îÄ‚îÄ package-a/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îÇ   ‚îú‚îÄ‚îÄ package-b/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îÇ   ‚îî‚îÄ‚îÄ package-c/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ releng-tool.rt                &lt;----
</pre></div>
</div>
<p>Can have a configuration (<code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code>) such as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;package-a&#39;</span><span class="p">,</span>
    <span class="s1">&#39;package-b&#39;</span><span class="p">,</span>
    <span class="s1">&#39;package-c&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Packages can be loaded implicitly. If other packages depend on each other,
a project may only list a subset of packages in a <code class="docutils literal notranslate"><span class="pre">packages</span></code> configuration.
For example, if the above had <code class="docutils literal notranslate"><span class="pre">package-b</span></code> dependent on both <code class="docutils literal notranslate"><span class="pre">package-a</span></code> and
<code class="docutils literal notranslate"><span class="pre">package-c</span></code>, then only <code class="docutils literal notranslate"><span class="pre">package-b</span></code> would need to be defined in the main
configuration file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;package-b&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<section id="common-options">
<h4>Common options<a class="headerlink" href="#common-options" title="Link to this heading">¬∂</a></h4>
<p>A series of additional configuration options are available to be defined inside
the project‚Äôs configuration. A list of common configuration options are as
follows:</p>
<section id="default-internal">
<span id="conf-default-internal"></span><h5><code class="docutils literal notranslate"><span class="pre">default_internal</span></code><a class="headerlink" href="#default-internal" title="Link to this heading">¬∂</a></h5>
<p>A flag to indicate that projects are implicitly loaded as internal projects.
By default, packages not explicitly configured as internal or external are
assumed to be external packages.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">default_internal</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/intern-extern-pkgs"><span class="doc std std-doc">internal and external packages</span></a>.</p>
</section>
<section id="environment">
<span id="conf-environment"></span><h5><code class="docutils literal notranslate"><span class="pre">environment</span></code><a class="headerlink" href="#environment" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>A dictionary to define environment variables to apply to all stages of
releng-tool.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">environment</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;MY_ENV_1&#39;</span><span class="p">:</span> <span class="s1">&#39;First example&#39;</span><span class="p">,</span>
    <span class="s1">&#39;MY_ENV_2&#39;</span><span class="p">:</span> <span class="s1">&#39;Another example&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="extensions">
<span id="conf-extensions"></span><h5><code class="docutils literal notranslate"><span class="pre">extensions</span></code><a class="headerlink" href="#extensions" title="Link to this heading">¬∂</a></h5>
<p>A list of extensions to load before processing a releng-tool project. If an
extension cannot be loaded, releng-tool will stop with information on why
an extension could not be loaded.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;ext-a&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ext-b&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/extensions/extensions"><span class="doc std std-doc">extensions</span></a>.</p>
</section>
<section id="external-packages">
<span id="conf-external-packages"></span><h5><code class="docutils literal notranslate"><span class="pre">external_packages</span></code><a class="headerlink" href="#external-packages" title="Link to this heading">¬∂</a></h5>
<p>A list of external package locations. By default, packages for a project
will be searched for in root directory‚Äôs package folder (<code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/package</span></code>).
In some build environments, some packages may be required or may be preferred
to be located in another location/repository. To allow packages to be
loaded from another package container directory, one or more package
locations can be provided. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">external_packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">releng_env</span><span class="p">(</span><span class="s1">&#39;MY_EXTERNAL_PKG_DIR&#39;</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="license-header">
<span id="conf-license-header"></span><h5><code class="docutils literal notranslate"><span class="pre">license_header</span></code><a class="headerlink" href="#license-header" title="Link to this heading">¬∂</a></h5>
<p>As the releng-tool build process is finalized, a license document can be
generated containing each package‚Äôs license information. If a developer
wishes to add a custom header to the generated document, a header can be
defined by project‚Äôs configuration. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">license_header</span> <span class="o">=</span> <span class="s1">&#39;my leading content&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/licenses"><span class="doc std std-doc">licenses</span></a>.</p>
</section>
<section id="packages">
<span id="conf-packages"></span><h5><code class="docutils literal notranslate"><span class="pre">packages</span></code><a class="headerlink" href="#packages" title="Link to this heading">¬∂</a></h5>
<p>A list of packages to process. Packages listed will be processed by
releng-tool till their completion. Package dependencies not explicitly
listed will be automatically loaded and processed as well.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;package-a&#39;</span><span class="p">,</span>
    <span class="s1">&#39;package-b&#39;</span><span class="p">,</span>
    <span class="s1">&#39;package-c&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The order of listed packages is used to determine the order of processed
packages (outside of ordered dictated by <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-needs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code></span></a>
configurations).</p>
</section>
<section id="prerequisites">
<span id="conf-prerequisites"></span><h5><code class="docutils literal notranslate"><span class="pre">prerequisites</span></code><a class="headerlink" href="#prerequisites" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.</span></p>
</div>
<p>A list of host tools to check for before running a releng-tool project.
Allows a developer to identify tools to check and fail-fast if missing,
instead of waiting for a stage which requires a specific tool and failing
later during a building, packaging, etc. phase.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prerequisites</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;tool-a&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tool-b&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tool-c&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="revisions">
<span id="conf-revisions"></span><h5><code class="docutils literal notranslate"><span class="pre">revisions</span></code><a class="headerlink" href="#revisions" title="Link to this heading">¬∂</a></h5>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Users are encouraged to use <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> over this option.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.8.</span></p>
</div>
<p>Provides a dictionary that defines which revisions to use for packages. While
package revisions are typically set using <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a>
or <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a>, using the project configuration‚Äôs
<code class="docutils literal notranslate"><span class="pre">revisions</span></code> can provide a convenience factor when revisions want to be
maintained in a single location.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">revisions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;libfoo&#39;</span><span class="p">:</span> <span class="s1">&#39;libfoo-v2.1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;myapp&#39;</span><span class="p">:</span> <span class="s1">&#39;1.0.0&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The dictionary will map a package name to a revision value. If an entry
exists for a package, its provided revision value will be used as if
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> was configured with this same value.</p>
<p>Also consider:</p>
<ul class="simple">
<li><p>A package definition‚Äôs revision value (i.e.
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a> or <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a>)
takes precedence over revision values defined by this configuration option.</p></li>
<li><p>If this option is used and a revision is not defined for a package, packages
will use their standard way to resolving a revision.</p></li>
</ul>
</section>
<section id="sbom-format">
<span id="conf-sbom-format"></span><h5><code class="docutils literal notranslate"><span class="pre">sbom_format</span></code><a class="headerlink" href="#sbom-format" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.15.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.16: </span>Support added for <code class="docutils literal notranslate"><span class="pre">json-spdx</span></code> and <code class="docutils literal notranslate"><span class="pre">rdp-spdx</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.4: </span><code class="docutils literal notranslate"><span class="pre">rdp-spdx</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">rdf-spdx</span></code>.</p>
</div>
<p>Configures the default format to use when generating a software build of
materials (SBOM). By default, <code class="docutils literal notranslate"><span class="pre">text</span></code> format SBOMs are generated for a
project.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sbom_format</span> <span class="o">=</span> <span class="s1">&#39;xml&#39;</span>
</pre></div>
</div>
<p>The following lists the available formats supported:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Type</p></th>
<th class="head text-left"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p>CSV</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">csv</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>HTML</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">html</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>JSON</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">json</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>JSON (SPDX)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">json-spdx</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>RDF (SPDX)</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">rdf-spdx</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>Text</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">text</span></code> (default)</p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>XML</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">xml</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>Multiple formats can be provided. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sbom_format</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;json&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">all</span></code> value is accepted to generate all supported SBOM variants.</p>
<p>See also <a class="reference internal" href="#document-guides/arguments#action-sbom"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sbom</span></code></span></a> (action) and
<a class="reference internal" href="#document-guides/arguments#arg-sbom-format"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--sbom-format</span> <span class="pre">&lt;fmt&gt;</span></code></span></a> (argument).</p>
</section>
<section id="sysroot-prefix">
<span id="conf-sysroot-prefix"></span><h5><code class="docutils literal notranslate"><span class="pre">sysroot_prefix</span></code><a class="headerlink" href="#sysroot-prefix" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.8: </span>Support added for path-like values.</p>
</div>
<p>Define a custom sysroot prefix to provide to packages during their
configuration, build and installation stages. By default, the sysroot
prefix is typically set to <code class="docutils literal notranslate"><span class="pre">/usr</span></code>; for Windows, the value is empty.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sysroot_prefix</span> <span class="o">=</span> <span class="s1">&#39;/usr&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREFIX</span></code></span></a> and <a class="reference internal" href="#document-guides/environment#env-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PREFIX</span></code></span></a>.</p>
</section>
<section id="url-mirror">
<span id="conf-url-mirror"></span><h5><code class="docutils literal notranslate"><span class="pre">url_mirror</span></code><a class="headerlink" href="#url-mirror" title="Link to this heading">¬∂</a></h5>
<p>Specifies a mirror base site to be used for URL fetch requests. If this
option is set, any URL fetch requests will first be tried on the configured
mirror before attempting to acquired from the defined site in a package
definition.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url_mirror</span> <span class="o">=</span> <span class="s1">&#39;ftp://mirror.example.org/data/&#39;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">url_mirror</span></code> configuration also accepts the following format options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: the name of a package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code>: the version of a package</p></li>
</ul>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url_mirror</span> <span class="o">=</span> <span class="s1">&#39;ftp://mirror.example.org/cache/</span><span class="si">{name}</span><span class="s1">/&#39;</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">{name}</span></code> will be replaced by the package name being fetched.</p>
</section>
</section>
<section id="advanced-options">
<h4>Advanced options<a class="headerlink" href="#advanced-options" title="Link to this heading">¬∂</a></h4>
<p>A list of more advanced configuration options are as follows:</p>
<section id="cache-ext">
<span id="conf-cache-ext"></span><h5><code class="docutils literal notranslate"><span class="pre">cache_ext</span></code><a class="headerlink" href="#cache-ext" title="Link to this heading">¬∂</a></h5>
<p>A transform for cache extension interpreting. This is an advanced
configuration and is not recommended for use except for special use cases
outlined below.</p>
<p>When releng-tool fetches assets from remote sites, the site value can used
to determine the resulting filename of a cached asset. For example,
downloading an asset from <code class="docutils literal notranslate"><span class="pre">https://example.org/my-file.tgz</span></code>, the locally
downloaded file will result in a <code class="docutils literal notranslate"><span class="pre">.tgz</span></code> extension. However, not all defined
sites will result in an easily interpreted cache extension. While
releng-tool will attempt its best to determine an appropriate extension
value to use, some use cases may not be able to be handled. To deal with
these cases, a developer can define a transform method to help translate
a site value into a known cache extension value.</p>
<p>Consider the following example: a host is used to acquire assets from a
content server. The URI to download an asset uses a unique request format
<code class="docutils literal notranslate"><span class="pre">https://static.example.org/fetch/25134</span></code>. releng-tool may not be able to
find the extension for the fetched asset, but if a developer knows the
expected archive types for these calls, a custom transform can be defined.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">my_translator</span><span class="p">(</span><span class="n">site</span><span class="p">):</span>
    <span class="k">if</span> <span class="s1">&#39;static.example.org&#39;</span> <span class="ow">in</span> <span class="n">site</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;tgz&#39;</span>
    <span class="k">return</span> <span class="kc">None</span>

<span class="n">cache_ext</span> <span class="o">=</span> <span class="n">my_translator</span>
</pre></div>
</div>
<p>The above transform indicates that all packages using the
<code class="docutils literal notranslate"><span class="pre">static.example.org</span></code> site will be <code class="docutils literal notranslate"><span class="pre">tgz</span></code> archives.</p>
</section>
<section id="default-cmake-build-type">
<span id="conf-default-cmake-build-type"></span><h5><code class="docutils literal notranslate"><span class="pre">default_cmake_build_type</span></code><a class="headerlink" href="#default-cmake-build-type" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p><a class="reference internal" href="#document-guides/packages/pkg-type-cmake"><span class="doc std std-doc">CMake</span></a> packages can configure their default
build type on individual packages using
<a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code></span></a>. However, if a developer
wishes to configure the default build type across all CMake packages, this
option may be used. For example, to default to using the <code class="docutils literal notranslate"><span class="pre">Release</span></code> build type,
the following may be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">default_cmake_build_type</span> <span class="o">=</span> <span class="s1">&#39;Release&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code></span></a>.</p>
</section>
<section id="default-devmode-ignore-cache">
<span id="conf-default-devmode-ignore-cache"></span><h5><code class="docutils literal notranslate"><span class="pre">default_devmode_ignore_cache</span></code><a class="headerlink" href="#default-devmode-ignore-cache" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.1.</span></p>
</div>
<p>When operating in <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>, packages may
configure <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span></code></span></a> to
indicate that a package should ignore any generated cache when operating
from a clean state. If a developer is managing a package set in a project
where most (if not all) packages would want to use this feature, a global
override can be configured.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">default_devmode_ignore_cache</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Setting this value to <code class="docutils literal notranslate"><span class="pre">True</span></code> will default all packages to operate with a
manner as if <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span> <span class="pre">=</span> <span class="pre">True</span></code>. Individual packages may
opt-out in this scenario by configuring <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span> <span class="pre">=</span> <span class="pre">False</span></code>.</p>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span></code></span></a>.</p>
</section>
<section id="default-meson-build-type">
<span id="conf-default-meson-build-type"></span><h5><code class="docutils literal notranslate"><span class="pre">default_meson_build_type</span></code><a class="headerlink" href="#default-meson-build-type" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p><a class="reference internal" href="#document-guides/packages/pkg-type-meson"><span class="doc std std-doc">Meson</span></a> packages can configure their default
build type on individual packages using
<a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_BUILD_TYPE</span></code></span></a>. However, if a developer
wishes to configure the default build type across all Meson packages, this
option may be used. For example, to default to using the <code class="docutils literal notranslate"><span class="pre">Release</span></code> build type,
the following may be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">default_meson_build_type</span> <span class="o">=</span> <span class="s1">&#39;release&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_BUILD_TYPE</span></code></span></a>.</p>
</section>
<section id="extra-license-exceptions">
<span id="conf-extra-license-exceptions"></span><h5><code class="docutils literal notranslate"><span class="pre">extra_license_exceptions</span></code><a class="headerlink" href="#extra-license-exceptions" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<p>A dictionary to define extra license exceptions that are permitted in
package definitions. Packages which define license exceptions in a
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-license"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE</span></code></span></a> option are expected to use
<a class="reference external" href="https://spdx.org/licenses/exceptions-index.html">SPDX License Exceptions</a>. If not, a warning is generated
by default. A project can define their own custom exceptions by adding them
into a project‚Äôs <code class="docutils literal notranslate"><span class="pre">extra_license_exceptions</span></code> option to avoid this warning:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">extra_license_exceptions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;My-Exception-ID&#39;</span><span class="p">:</span> <span class="s1">&#39;Exception Name&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/licenses"><span class="doc std std-doc">licenses</span></a>.</p>
</section>
<section id="extra-licenses">
<span id="conf-extra-licenses"></span><h5><code class="docutils literal notranslate"><span class="pre">extra_licenses</span></code><a class="headerlink" href="#extra-licenses" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<p>A dictionary to define extra licenses that are permitted in package
definitions. Packages which define licenses in a
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-license"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE</span></code></span></a> option are expected to use a licensed
defined in the <a class="reference external" href="https://spdx.org/licenses/">SPDX License List</a>. If not, a warning is
generated by default. A project can define their own custom license by
adding them into a project‚Äôs <code class="docutils literal notranslate"><span class="pre">extra_licenses</span></code> option to avoid this warning:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">extra_licenses</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;My-License-ID&#39;</span><span class="p">:</span> <span class="s1">&#39;License Name&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/licenses"><span class="doc std std-doc">licenses</span></a>.</p>
</section>
<section id="override-extract-tools">
<span id="conf-override-extract-tools"></span><h5><code class="docutils literal notranslate"><span class="pre">override_extract_tools</span></code><a class="headerlink" href="#override-extract-tools" title="Link to this heading">¬∂</a></h5>
<p>A dictionary to be provided to map an extension type to an external tool
to indicate which tool should be used for extraction. For example, when a
<code class="docutils literal notranslate"><span class="pre">.zip</span></code> archive is being processed for extraction, releng-tool will
internally extract the archive. However, a user may wish to override this
tool with their own extraction utility. Consider the following example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">override_extract_tools</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;zip&#39;</span><span class="p">:</span> <span class="s1">&#39;/opt/my-custom-unzip </span><span class="si">{file}</span><span class="s1"> </span><span class="si">{dir}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">{file}</span></code> key will be replaced with the file to be extracted, and the
<code class="docutils literal notranslate"><span class="pre">{dir}</span></code> key will be replaced where the contents should extract to.</p>
</section>
<section id="quirks">
<span id="conf-quirks"></span><h5><code class="docutils literal notranslate"><span class="pre">quirks</span></code><a class="headerlink" href="#quirks" title="Link to this heading">¬∂</a></h5>
<p>A list of configuration quirks to apply to deal with corner cases which
can prevent releng-tool operating on a host system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">quirks</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;releng.&lt;special-quirk-id&gt;&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>For a list of available quirks, see <a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">quirks</span></a>.</p>
</section>
<section id="urlopen-context">
<span id="conf-urlopen-context"></span><h5><code class="docutils literal notranslate"><span class="pre">urlopen_context</span></code><a class="headerlink" href="#urlopen-context" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.</span></p>
</div>
<p>Allows a project to specify a custom SSL context <a class="footnote-reference brackets" href="#urlopen" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> to apply for
URL fetch requests. This can be useful for environments which may
experience <code class="docutils literal notranslate"><span class="pre">CERTIFICATE_VERIFY_FAILED</span></code> errors when attempting to fetch
files. A custom SSL context can be created and tailored for a build
environment. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">ssl</span>
<span class="o">...</span>

<span class="n">urlopen_context</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">create_default_context</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="vsdevcmd">
<span id="conf-vsdevcmd"></span><h5><code class="docutils literal notranslate"><span class="pre">vsdevcmd</span></code><a class="headerlink" href="#vsdevcmd" title="Link to this heading">¬∂</a></h5>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>The option is ignored in non-Windows environments.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.5: </span>Cycles through all applicable configured products until the first install
that provides <code class="docutils literal notranslate"><span class="pre">VsDevCmd.bat</span></code> is found.</p>
</div>
<p>Allows a project to automatically load Visual Studio Developer Command
Prompt (<code class="docutils literal notranslate"><span class="pre">VsDevCmd.bat</span></code>) variables into the releng-tool process. This will
allow packages and post-build scripts to invoke commands as if releng-tool
was started from within a Visual Studio Developer Command Prompt.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vsdevcmd</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>The version of which Visual Studio application it used is determined with
the help of <a class="reference external" href="https://github.com/microsoft/vswhere">Visual Studio Locator</a> (vswhere). By default, the
newest version of Visual Studio and the most recent installed version is
used (assuming the installation includes a <code class="docutils literal notranslate"><span class="pre">VsDevCmd.bat</span></code> script).</p>
<p>Projects looking to use an explicit version of Visual Studio can specify a
version string that is compatible with Visual Studio Locator‚Äôs <code class="docutils literal notranslate"><span class="pre">-version</span></code>
argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vsdevcmd</span> <span class="o">=</span> <span class="s1">&#39;[17.0,18.0)&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#conf-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd_products</span></code></span></a> and
<a class="reference internal" href="#document-guides/packages/system-pkg-options#pkg-opt-vsdevcmd"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD</span></code></span></a>.</p>
</section>
<section id="vsdevcmd-products">
<span id="conf-vsdevcmd-products"></span><h5><code class="docutils literal notranslate"><span class="pre">vsdevcmd_products</span></code><a class="headerlink" href="#vsdevcmd-products" title="Link to this heading">¬∂</a></h5>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>The option is ignored in non-Windows environments.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.4.</span></p>
</div>
<p>Allows a project to configure which products to search for when releng-tool
invokes <a class="reference external" href="https://github.com/microsoft/vswhere">Visual Studio Locator</a> to find which Visual Studio tooling
to use. By default, releng-tool operates as if <code class="docutils literal notranslate"><span class="pre">vswhere</span></code> is invoked with the
<code class="docutils literal notranslate"><span class="pre">-products</span> <span class="pre">*</span></code> argument. Providing a string in this option replaces the
asterisk value with the configured value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vsdevcmd_products</span> <span class="o">=</span> <span class="s1">&#39;Microsoft.VisualStudio.Product.BuildTools&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#conf-vsdevcmd"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd</span></code></span></a> and
<a class="reference internal" href="#document-guides/packages/system-pkg-options#pkg-opt-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD_PRODUCTS</span></code></span></a>.</p>
</section>
</section>
<section id="deprecated-options">
<h4>Deprecated options<a class="headerlink" href="#deprecated-options" title="Link to this heading">¬∂</a></h4>
<p>The following outlines deprecated configuration options. It is not
recommended to use these options.</p>
<section id="override-revisions">
<span id="conf-override-revisions"></span><h5><code class="docutils literal notranslate"><span class="pre">override_revisions</span></code><a class="headerlink" href="#override-revisions" title="Link to this heading">¬∂</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>The use of revision overrides is deprecated.
Users wanting to override revisions without source modification are
recommended to use <a class="reference internal" href="#document-guides/arguments#arg-variable-injection"><span class="std std-ref">variable injection</span></a>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>The use of an override option should only be used in special cases (see
also <a class="reference internal" href="#document-guides/configuration-overrides"><span class="doc std std-doc">configuration overrides</span></a>).</p>
</div>
<p>Allows a dictionary to be provided to map a package name to a new revision
value. Consider the following example: a project defines <code class="docutils literal notranslate"><span class="pre">module-a</span></code> and
<code class="docutils literal notranslate"><span class="pre">module-b</span></code> packages with package <code class="docutils literal notranslate"><span class="pre">module-b</span></code> depending on package
<code class="docutils literal notranslate"><span class="pre">module-a</span></code>. A developer may be attempting to tweak package <code class="docutils literal notranslate"><span class="pre">module-b</span></code> on
the fly to test a new capabilities against the current stable version of
<code class="docutils literal notranslate"><span class="pre">module-a</span></code>. However, the developer does not want to explicitly change the
revision inside package <code class="docutils literal notranslate"><span class="pre">module-b</span></code>‚Äôs definition. To avoid this, an override
can be used instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">override_revisions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;module-b&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;test-branch&gt;&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above example shows that package <code class="docutils literal notranslate"><span class="pre">module-b</span></code> will fetch using a test
branch instead of what is defined in the actual package definition.</p>
</section>
<section id="override-sites">
<span id="conf-override-sites"></span><h5><code class="docutils literal notranslate"><span class="pre">override_sites</span></code><a class="headerlink" href="#override-sites" title="Link to this heading">¬∂</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>The use of site overrides is deprecated.
Users wanting to override sites without source modification are
recommended to use <a class="reference internal" href="#document-guides/arguments#arg-variable-injection"><span class="std std-ref">variable injection</span></a>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>The use of an override option should only be used in special cases (see
also <a class="reference internal" href="#document-guides/configuration-overrides"><span class="doc std std-doc">configuration overrides</span></a>).</p>
</div>
<p>A dictionary to be provided to map a package name to a new site value. There
may be times where a host may not have access to a specific package site. To
have a host to use a mirror location without having to adjust the package
definition, the site override option can be used. For example, consider a
package pulls from site <code class="docutils literal notranslate"><span class="pre">git&#64;example.com:myproject.git</span></code>. However, the host
<code class="docutils literal notranslate"><span class="pre">example.com</span></code> cannot be access from the host machine. If a mirror location
has been setup at <code class="docutils literal notranslate"><span class="pre">git&#64;example.org:myproject.git</span></code>, the following override
can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">override_sites</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;pkg&gt;&#39;</span><span class="p">:</span> <span class="s1">&#39;git@example.org:mywork.git&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="urlopen" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://docs.python.org/library/urllib.request.html#urllib.request.urlopen">https://docs.python.org/library/urllib.request.html#urllib.request.urlopen</a></p>
</aside>
</aside>
<span id="document-guides/environment"></span><section id="environment-variables">
<h3>Environment variables<a class="headerlink" href="#environment-variables" title="Link to this heading">¬∂</a></h3>
<p>Variables outlined below are available in both the environment and in
applicable script contexts (unless noted otherwise). For example, the
<a class="reference internal" href="#env-releng-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_VERSION</span></code></span></a> variable can be accessed by invoked
programs such as a Makefile definition:</p>
<div class="highlight-make notranslate"><div class="highlight"><pre><span></span><span class="nf">all</span><span class="o">:</span>
<span class="w">	</span>@echo<span class="w"> </span>Using<span class="w"> </span>version<span class="w"> </span><span class="si">${</span><span class="nv">RELENG_VERSION</span><span class="si">}</span>
</pre></div>
</div>
<p>Or an invoked shell script:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Using version </span><span class="nv">$RELENG_VERSION</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>For package definitions and releng-tool scripts, these variables can be
directly used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Using version </span><span class="si">{</span><span class="n">RELENG_VERSION</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Avoid using external environment variables for a project to configure
package options such as compiler flags or interpreters. Managing these
options inside a releng-tool project configuration or package
definitions can improve configuration management.</p>
</div>
<section id="common">
<h4>Common<a class="headerlink" href="#common" title="Link to this heading">¬∂</a></h4>
<p>When configuration, package definitions or various scripts are invoked by
releng-tool, the following environment variables are available:</p>
<section id="build-dir">
<span id="env-build-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">BUILD_DIR</span></code><a class="headerlink" href="#build-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The build directory for a project. By default, this will be a folder <code class="docutils literal notranslate"><span class="pre">build</span></code>
found inside the configured output directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/build
</pre></div>
</div>
<p>For package-specific build directories, see
<a class="reference internal" href="#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a>.</p>
</section>
<section id="cache-dir">
<span id="env-cache-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">CACHE_DIR</span></code><a class="headerlink" href="#cache-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The cache directory which holds distributed version control cache data (e.g.
Git data). By default, this will be a folder <code class="docutils literal notranslate"><span class="pre">cache</span></code> found inside the
configured root directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/cache
</pre></div>
</div>
<p>See also <a class="reference internal" href="#env-releng-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_CACHE_DIR</span></code></span></a> and the
<a class="reference internal" href="#document-guides/arguments#arg-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--cache-dir</span></code> argument</span></a>.</p>
</section>
<section id="dl-dir">
<span id="env-dl-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">DL_DIR</span></code><a class="headerlink" href="#dl-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The download directory which holds a local copy of package artifacts. By
default, this will be a folder <code class="docutils literal notranslate"><span class="pre">dl</span></code> found inside the configured root
directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/dl
</pre></div>
</div>
<p>See also <a class="reference internal" href="#env-releng-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DL_DIR</span></code></span></a> and the
<a class="reference internal" href="#document-guides/arguments#arg-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--dl-dir</span></code> argument</span></a>.</p>
</section>
<section id="host-bin-dir">
<span id="env-host-bin-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">HOST_BIN_DIR</span></code><a class="headerlink" href="#host-bin-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The host directory‚Äôs prefixed bin directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/host/usr/bin
</pre></div>
</div>
</section>
<section id="host-dir">
<span id="env-host-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">HOST_DIR</span></code><a class="headerlink" href="#host-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The host directory. By default, this will be a folder <code class="docutils literal notranslate"><span class="pre">host</span></code> found inside
the configured output directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/host
</pre></div>
</div>
</section>
<section id="host-include-dir">
<span id="env-host-include-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">HOST_INCLUDE_DIR</span></code><a class="headerlink" href="#host-include-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The host directory‚Äôs prefixed include directory. An example include
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/host/usr/include
</pre></div>
</div>
</section>
<section id="host-lib-dir">
<span id="env-host-lib-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">HOST_LIB_DIR</span></code><a class="headerlink" href="#host-lib-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The host directory‚Äôs prefixed library directory. An example library
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/host/usr/lib
</pre></div>
</div>
</section>
<section id="host-share-dir">
<span id="env-host-share-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">HOST_SHARE_DIR</span></code><a class="headerlink" href="#host-share-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.1.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The host directory‚Äôs prefixed share directory. An example share
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/host/usr/share
</pre></div>
</div>
</section>
<section id="images-dir">
<span id="env-images-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">IMAGES_DIR</span></code><a class="headerlink" href="#images-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The images directory which holds final images/packages from a run. By default,
this will be a folder <code class="docutils literal notranslate"><span class="pre">images</span></code> found inside the configured output directory.
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/images
</pre></div>
</div>
<p>See also <a class="reference internal" href="#env-releng-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_IMAGES_DIR</span></code></span></a> and the
<a class="reference internal" href="#document-guides/arguments#arg-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--images-dir</span></code> argument</span></a>.</p>
</section>
<section id="license-dir">
<span id="env-license-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">LICENSE_DIR</span></code><a class="headerlink" href="#license-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The licenses directory which holds tracked license information from a run.
By default, this will be a folder <code class="docutils literal notranslate"><span class="pre">licenses</span></code> found inside the configured output
directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/licenses
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/licenses"><span class="doc std std-doc">licenses</span></a>.</p>
</section>
<section id="njobs">
<span id="env-njobs"></span><h5><code class="docutils literal notranslate"><span class="pre">NJOBS</span></code><a class="headerlink" href="#njobs" title="Link to this heading">¬∂</a></h5>
<p>Number of calculated jobs to allow at a given time. Unless explicitly set
by a system builder on the command line, the calculated number of jobs
should be equal to the number of physical cores on the host. When building
a specific package and the package overrides the number of jobs to use,
the <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref">package-defined count</span></a> will be used instead. This
configuration will always be a value of at least one (<code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
</section>
<section id="njobsconf">
<span id="env-njobsconf"></span><h5><code class="docutils literal notranslate"><span class="pre">NJOBSCONF</span></code><a class="headerlink" href="#njobsconf" title="Link to this heading">¬∂</a></h5>
<p>Number of jobs to allow at a given time. Unlike <a class="reference internal" href="#env-njobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">NJOBS</span></code></span></a>,
<code class="docutils literal notranslate"><span class="pre">NJOBSCONF</span></code> provides the requested configured number of jobs to use. The
value may be set to zero (<code class="docutils literal notranslate"><span class="pre">0</span></code>) to indicate an automatic detection of jobs
to use. This can be useful for tools which have their own automatic job
count implementation and do not want to rely on the value defined by
<a class="reference internal" href="#env-njobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">NJOBS</span></code></span></a>. When building a specific package and the package
overrides the number of jobs to use, the
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref">package-defined count</span></a> will be used instead.</p>
</section>
<section id="output-dir">
<span id="env-output-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">OUTPUT_DIR</span></code><a class="headerlink" href="#output-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The output directory. By default, this will be a folder <code class="docutils literal notranslate"><span class="pre">output</span></code> found inside
the configured root directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output
</pre></div>
</div>
<p>The output directory can be configured using either:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="#document-guides/arguments#arg-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--out-dir</span></code> argument</span></a>.</p></li>
<li><p>The <a class="reference internal" href="#env-releng-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR</span></code></span></a> environment variable.</p></li>
<li><p>The
<a class="reference internal" href="#env-releng-global-out-container-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_GLOBAL_OUTPUT_CONTAINER_DIR</span></code></span></a>
environment variable.</p></li>
</ul>
</section>
<section id="pkg-build-base-dir">
<span id="env-pkg-build-base-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_BASE_DIR</span></code><a class="headerlink" href="#pkg-build-base-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<p>The directory for a specific package‚Äôs base directory for buildable content.
In most cases, this value will be the same as
<a class="reference internal" href="#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a>. However, if
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-build-subdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code></span></a> is configured,
<a class="reference internal" href="#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a> will also include the configured
sub-directory. The value of <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-build-subdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code></span></a>
does not adjust the value of <code class="docutils literal notranslate"><span class="pre">PKG_BUILD_BASE_DIR</span></code>.</p>
<p>For example, for a package <code class="docutils literal notranslate"><span class="pre">test</span></code>, the package build base directory may be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root&gt;/build/test-1.0
</pre></div>
</div>
<p>See also <a class="reference internal" href="#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a>.</p>
</section>
<section id="pkg-build-dir">
<span id="env-pkg-build-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code><a class="headerlink" href="#pkg-build-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The directory for a specific package‚Äôs buildable content. This path is the
working directory for package stages (e.g. configuration, build, etc.).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root&gt;/build/&lt;pkg-name&gt;[-&lt;pkg-version&gt;]
</pre></div>
</div>
<p>For example, for a package <code class="docutils literal notranslate"><span class="pre">test</span></code> with a version set (e.g.
<code class="docutils literal notranslate"><span class="pre">PKG_VERSION='1.0'</span></code>), the package build directory may be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root&gt;/build/test-1.0
</pre></div>
</div>
<p>If <a class="reference internal" href="#env-pkg-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_VERSION</span></code></span></a> is not configure, the package build
directory may be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root&gt;/build/test
</pre></div>
</div>
<p>If <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-build-subdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code></span></a> is configured, the
sub-directory path will be appended. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># LIBFOO_BUILD_SUBDIR=&#39;subdir/subdir2&#39;
&lt;root&gt;/build/test/subdir/subdir2
</pre></div>
</div>
<p>See also <a class="reference internal" href="#env-pkg-build-base-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_BASE_DIR</span></code></span></a> and
<a class="reference internal" href="#env-pkg-build-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code></span></a>.</p>
</section>
<section id="pkg-build-output-dir">
<span id="env-pkg-build-output-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code><a class="headerlink" href="#pkg-build-output-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The directory for where a package‚Äôs build output will be stored.</p>
<p>For example, for a package <code class="docutils literal notranslate"><span class="pre">test</span></code>, the package build output directory may be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root&gt;/build/test-1.0/releng-output
</pre></div>
</div>
<p>See also <a class="reference internal" href="#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a>.</p>
</section>
<section id="pkg-cache-dir">
<span id="env-pkg-cache-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_CACHE_DIR</span></code><a class="headerlink" href="#pkg-cache-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The location of the cache directory for a package. If a package defines
a fetch from a repository which can be locally cached, this cache
directory represents the location where the local cache of content will
be held. For example, if a provide defines a Git-based site, a local
cache of the Git repository will be stored in this location. Typically,
packages should not need to operate on the cache directory except for
advanced cases.</p>
<p>For example, for a package <code class="docutils literal notranslate"><span class="pre">test</span></code>, the package cache directory would be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root&gt;/cache/test
</pre></div>
</div>
</section>
<section id="pkg-cache-file">
<span id="env-pkg-cache-file"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_CACHE_FILE</span></code><a class="headerlink" href="#pkg-cache-file" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The location of the cache file for a package. If a package defines a fetch
of an archive from a remote source, after the fetch stage is completed, the
archive can be found in this location.</p>
<p>For example, if a package defines a site <code class="docutils literal notranslate"><span class="pre">https://www.example.com/test.tgz</span></code>,
the resulting cache file may be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root&gt;/output/dl/test-1.0.tgz
</pre></div>
</div>
</section>
<section id="pkg-defdir">
<span id="env-pkg-defdir"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_DEFDIR</span></code><a class="headerlink" href="#pkg-defdir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The package‚Äôs definition directory.</p>
<p>For example, for a package <code class="docutils literal notranslate"><span class="pre">test</span></code>, the definition directory would be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root&gt;/package/test
</pre></div>
</div>
</section>
<section id="pkg-devmode">
<span id="env-pkg-devmode"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_DEVMODE</span></code><a class="headerlink" href="#pkg-devmode" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>Whether the package is configured for development mode. While runtime may be
configured in a development mode, not all packages may be designed for
development (e.g. <a class="reference internal" href="#document-guides/intern-extern-pkgs"><span class="doc std std-doc">external packages</span></a>). If both a package
is aimed for internal development and the runtime is configured in a
development mode, the environment variable will be set to a value of one
(i.e. <code class="docutils literal notranslate"><span class="pre">PKG_DEVMODE=1</span></code>).</p>
<p>See also <a class="reference internal" href="#env-releng-devmode"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DEVMODE</span></code></span></a> and
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>.</p>
</section>
<section id="pkg-internal">
<span id="env-pkg-internal"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_INTERNAL</span></code><a class="headerlink" href="#pkg-internal" title="Link to this heading">¬∂</a></h5>
<p>Whether or not the package is considered ‚Äûinternal‚Äú. If internal, the
environment variable will be set to a value of one (i.e. <code class="docutils literal notranslate"><span class="pre">PKG_INTERNAL=1</span></code>).</p>
<p>See also <a class="reference internal" href="#document-guides/intern-extern-pkgs"><span class="doc std std-doc">internal and external packages</span></a>.</p>
</section>
<section id="pkg-localsrcs">
<span id="env-pkg-localsrcs"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_LOCALSRCS</span></code><a class="headerlink" href="#pkg-localsrcs" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>Whether the package is configured for local-sources mode. If a package is
configured for local-sources, the environment variable will be set to a
value of one (i.e. <code class="docutils literal notranslate"><span class="pre">PKG_LOCALSRCS=1</span></code>).</p>
<p>See also <a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>.</p>
</section>
<section id="pkg-name">
<span id="env-pkg-name"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_NAME</span></code><a class="headerlink" href="#pkg-name" title="Link to this heading">¬∂</a></h5>
<p>The name of the package.</p>
</section>
<section id="pkg-revision">
<span id="env-pkg-revision"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_REVISION</span></code><a class="headerlink" href="#pkg-revision" title="Link to this heading">¬∂</a></h5>
<p>The site revision of the package.</p>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a>.</p>
</section>
<section id="pkg-site">
<span id="env-pkg-site"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_SITE</span></code><a class="headerlink" href="#pkg-site" title="Link to this heading">¬∂</a></h5>
<p>The site of the package.</p>
<p>See also <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-site"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_SITE</span></code></span></a>.</p>
</section>
<section id="pkg-version">
<span id="env-pkg-version"></span><h5><code class="docutils literal notranslate"><span class="pre">PKG_VERSION</span></code><a class="headerlink" href="#pkg-version" title="Link to this heading">¬∂</a></h5>
<p>The version of the package.</p>
<p>See also <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a>.</p>
</section>
<section id="prefix">
<span id="env-prefix"></span><h5><code class="docutils literal notranslate"><span class="pre">PREFIX</span></code><a class="headerlink" href="#prefix" title="Link to this heading">¬∂</a></h5>
<p>The sysroot prefix for the package. By default, this value is configured
to <code class="docutils literal notranslate"><span class="pre">/usr</span></code>; with the exception of Windows builds where this value is empty
by default.</p>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREFIX</span></code></span></a> and
<a class="reference internal" href="#document-guides/configuration#conf-sysroot-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sysroot_prefix</span></code></span></a>.</p>
</section>
<section id="prefixed-host-dir">
<span id="env-prefixed-host-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">PREFIXED_HOST_DIR</span></code><a class="headerlink" href="#prefixed-host-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The host directory with the prefix applied. An example prefixed
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/host/usr
</pre></div>
</div>
</section>
<section id="prefixed-staging-dir">
<span id="env-prefixed-staging-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">PREFIXED_STAGING_DIR</span></code><a class="headerlink" href="#prefixed-staging-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The staging area directory with the prefix applied. An example prefixed
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/staging/usr
</pre></div>
</div>
</section>
<section id="prefixed-target-dir">
<span id="env-prefixed-target-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">PREFIXED_TARGET_DIR</span></code><a class="headerlink" href="#prefixed-target-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The target area directory with the prefix applied. An example prefixed
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/target/usr
</pre></div>
</div>
</section>
<section id="releng-clean">
<span id="env-releng-clean"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_CLEAN</span></code><a class="headerlink" href="#releng-clean" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.</span></p>
</div>
<p>Flag set if performing a clean request.</p>
<p>This includes when a user invokes either a <a class="reference internal" href="#document-guides/arguments#action-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">clean</span></code></span></a>,
<a class="reference internal" href="#document-guides/arguments#action-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">distclean</span></code></span></a> or <a class="reference internal" href="#document-guides/arguments#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a> action request.</p>
</section>
<section id="releng-debug">
<span id="env-releng-debug"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_DEBUG</span></code><a class="headerlink" href="#releng-debug" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.</span></p>
</div>
<p>Flag set if debug-related information should be shown.</p>
<p>This flag is enabled when the <a class="reference internal" href="#document-guides/arguments#arg-debug"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--debug</span></code> argument</span></a> is configured.</p>
</section>
<section id="releng-devmode">
<span id="env-releng-devmode"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_DEVMODE</span></code><a class="headerlink" href="#releng-devmode" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.2.</span></p>
</div>
<p>The development mode or flag set if in <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>.</p>
<p>See also <a class="reference internal" href="#env-pkg-devmode"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_DEVMODE</span></code></span></a> and
<a class="reference internal" href="#document-guides/arguments#arg-development"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--development</span></code></span></a>.</p>
</section>
<section id="releng-distclean">
<span id="env-releng-distclean"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_DISTCLEAN</span></code><a class="headerlink" href="#releng-distclean" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.</span></p>
</div>
<p>Flag set if performing an extreme pristine clean request.</p>
<p>This includes when a user invokes either the <a class="reference internal" href="#document-guides/arguments#action-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">distclean</span></code></span></a>
action request.</p>
</section>
<section id="releng-exec">
<span id="env-releng-exec"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_EXEC</span></code><a class="headerlink" href="#releng-exec" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<p>Flag set if performing a <a class="reference internal" href="#document-guides/arguments#action-pkg-exec"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-exec</span></code></span></a> request.</p>
</section>
<section id="releng-force">
<span id="env-releng-force"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_FORCE</span></code><a class="headerlink" href="#releng-force" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.11.</span></p>
</div>
<p>Flag set if performing a forced request from the command line.</p>
<p>See also <a class="reference internal" href="#document-guides/arguments#arg-force"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--force</span></code></span></a>.</p>
</section>
<section id="releng-localsrcs">
<span id="env-releng-localsrcs"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_LOCALSRCS</span></code><a class="headerlink" href="#releng-localsrcs" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.2.</span></p>
</div>
<p>Flag set if in <a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>.</p>
<p>See also <a class="reference internal" href="#document-guides/arguments#arg-local-sources"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--local-sources</span></code></span></a>.</p>
</section>
<section id="releng-mrproper">
<span id="env-releng-mrproper"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_MRPROPER</span></code><a class="headerlink" href="#releng-mrproper" title="Link to this heading">¬∂</a></h5>
<p>Flag set if performing a pristine clean request.</p>
<p>This includes when a user invokes either a <a class="reference internal" href="#document-guides/arguments#action-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">distclean</span></code></span></a> or
<a class="reference internal" href="#document-guides/arguments#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a> action request.</p>
</section>
<section id="releng-profiles">
<span id="env-releng-profiles"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_PROFILES</span></code><a class="headerlink" href="#releng-profiles" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.5.</span></p>
</div>
<p>Defines one or more semicolon-separated profile values actively configured
for a run.</p>
<p>See also <a class="reference internal" href="#document-guides/arguments#arg-profile"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--profile</span></code></span></a> and <a class="reference internal" href="#document-guides/profiles"><span class="doc std std-doc">using profiles</span></a>.</p>
</section>
<section id="releng-rebuild">
<span id="env-releng-rebuild"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_REBUILD</span></code><a class="headerlink" href="#releng-rebuild" title="Link to this heading">¬∂</a></h5>
<p>Flag set if performing a re-build request.</p>
<p>See also <a class="reference internal" href="#document-guides/arguments#action-pkg-rebuild"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild</span></code></span></a> and
<a class="reference internal" href="#document-guides/arguments#action-pkg-rebuild-only"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild-only</span></code></span></a>.</p>
</section>
<section id="releng-reconfigure">
<span id="env-releng-reconfigure"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_RECONFIGURE</span></code><a class="headerlink" href="#releng-reconfigure" title="Link to this heading">¬∂</a></h5>
<p>Flag set if performing a re-configuration request.</p>
<p>See also <a class="reference internal" href="#document-guides/arguments#action-pkg-reconfigure"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure</span></code></span></a> and
<a class="reference internal" href="#document-guides/arguments#action-pkg-reconfigure-only"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure-only</span></code></span></a>.</p>
</section>
<section id="releng-reinstall">
<span id="env-releng-reinstall"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_REINSTALL</span></code><a class="headerlink" href="#releng-reinstall" title="Link to this heading">¬∂</a></h5>
<p>Flag set if performing a re-install request.</p>
<p>See also <a class="reference internal" href="#document-guides/arguments#action-pkg-reinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reinstall</span></code></span></a>.</p>
</section>
<section id="releng-script">
<span id="env-releng-script"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT</span></code><a class="headerlink" href="#releng-script" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.0.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The path of the script currently being executed.</p>
<p>See also <a class="reference internal" href="#env-releng-script-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT_DIR</span></code></span></a>.</p>
</section>
<section id="releng-script-dir">
<span id="env-releng-script-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT_DIR</span></code><a class="headerlink" href="#releng-script-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.0.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The path of the directory holding the script currently being executed.</p>
<p>See also <a class="reference internal" href="#env-releng-script"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT</span></code></span></a>.</p>
</section>
<section id="releng-target-pkg">
<span id="env-releng-target-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_TARGET_PKG</span></code><a class="headerlink" href="#releng-target-pkg" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>The name of the target package (if any) provided by the command line.</p>
<p>For example, if running <code class="docutils literal notranslate"><span class="pre">libfoo-rebuild</span></code>, the target package would be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>libfoo
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/arguments#package-actions"><span class="std std-ref">package actions</span></a>.</p>
</section>
<section id="releng-verbose">
<span id="env-releng-verbose"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_VERBOSE</span></code><a class="headerlink" href="#releng-verbose" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.</span></p>
</div>
<p>Flag set if verbose-related information should be shown.</p>
<p>This flag is enabled when the <a class="reference internal" href="#document-guides/arguments#arg-verbose"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--verbose</span></code> argument</span></a> is configured.</p>
</section>
<section id="releng-version">
<span id="env-releng-version"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_VERSION</span></code><a class="headerlink" href="#releng-version" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.7.</span></p>
</div>
<p>The version of releng-tool.</p>
</section>
<section id="root-dir">
<span id="env-root-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">ROOT_DIR</span></code><a class="headerlink" href="#root-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>Directory to process a releng-tool project.</p>
<p>The root directory can be configured using the
<a class="reference internal" href="#document-guides/arguments#arg-root-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--root-dir</span></code> argument</span></a>.</p>
</section>
<section id="staging-bin-dir">
<span id="env-staging-bin-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">STAGING_BIN_DIR</span></code><a class="headerlink" href="#staging-bin-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The staging area directory‚Äôs prefixed bin directory. An example binary
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/staging/usr/bin
</pre></div>
</div>
</section>
<section id="staging-dir">
<span id="env-staging-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">STAGING_DIR</span></code><a class="headerlink" href="#staging-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The staging area directory. By default, this will be a folder <code class="docutils literal notranslate"><span class="pre">staging</span></code> found
inside the configured output directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/staging
</pre></div>
</div>
</section>
<section id="staging-include-dir">
<span id="env-staging-include-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">STAGING_INCLUDE_DIR</span></code><a class="headerlink" href="#staging-include-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The staging area directory‚Äôs prefixed include directory. An example include
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/staging/usr/include
</pre></div>
</div>
</section>
<section id="staging-lib-dir">
<span id="env-staging-lib-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">STAGING_LIB_DIR</span></code><a class="headerlink" href="#staging-lib-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The staging area directory‚Äôs prefixed library directory. An example library
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/staging/usr/lib
</pre></div>
</div>
</section>
<section id="staging-share-dir">
<span id="env-staging-share-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">STAGING_SHARE_DIR</span></code><a class="headerlink" href="#staging-share-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.1.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The staging area directory‚Äôs prefixed share directory. An example share
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/staging/usr/share
</pre></div>
</div>
</section>
<section id="symbols-dir">
<span id="env-symbols-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">SYMBOLS_DIR</span></code><a class="headerlink" href="#symbols-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The symbols area directory. By default, this will be a folder <code class="docutils literal notranslate"><span class="pre">symbols</span></code> found
inside the configured output directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/symbols
</pre></div>
</div>
</section>
<section id="target-bin-dir">
<span id="env-target-bin-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">TARGET_BIN_DIR</span></code><a class="headerlink" href="#target-bin-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The target area directory‚Äôs prefixed bin directory. An example binary
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/target/usr/bin
</pre></div>
</div>
</section>
<section id="target-dir">
<span id="env-target-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">TARGET_DIR</span></code><a class="headerlink" href="#target-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The target area directory. By default, this will be a folder <code class="docutils literal notranslate"><span class="pre">target</span></code> found
inside the configured output directory. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/target
</pre></div>
</div>
</section>
<section id="target-include-dir">
<span id="env-target-include-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">TARGET_INCLUDE_DIR</span></code><a class="headerlink" href="#target-include-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The target area directory‚Äôs prefixed include directory. An example include
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/target/usr/include
</pre></div>
</div>
</section>
<section id="target-lib-dir">
<span id="env-target-lib-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">TARGET_LIB_DIR</span></code><a class="headerlink" href="#target-lib-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The target area directory‚Äôs prefixed library directory. An example library
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/target/usr/lib
</pre></div>
</div>
</section>
<section id="target-share-dir">
<span id="env-target-share-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">TARGET_SHARE_DIR</span></code><a class="headerlink" href="#target-share-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.1.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The target area directory‚Äôs prefixed share directory. An example share
directory may be as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/target/usr/share
</pre></div>
</div>
</section>
</section>
<section id="package-specific-variables">
<h4>Package-specific variables<a class="headerlink" href="#package-specific-variables" title="Link to this heading">¬∂</a></h4>
<p>Package-specific environment variables are also available if another package or
script needs to rely on the (generated) configuration of another package. For
example, if a package <code class="docutils literal notranslate"><span class="pre">LIBFOO</span></code> existed with a package definition:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.0.0&#39;</span>
</pre></div>
</div>
<p>The environment variable <code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code> with a value of <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code> can be used
in other configurations and script files. The following package-specific
environment variables are available for use, where <code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;</span></code> translates to a
releng-tool‚Äôs determined package key:</p>
<section id="pkg-var-build-dir">
<span id="env-pkg-var-build-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_BUILD_DIR</span></code><a class="headerlink" href="#pkg-var-build-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The directory for a defined package‚Äôs buildable content.</p>
<p>For most packages, this path will match the value specified in
<code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_BUILD_OUTPUT_DIR</span></code>. For package types that do not support in-tree
building (e.g. CMake), this path may be the parent of the value specified
in <code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_BUILD_OUTPUT_DIR</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ output/
    ‚îÇ   ‚îî‚îÄ‚îÄ build/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-1.0.0          &lt;---- LIBFOO_BUILD_DIR
    ‚îÇ           ‚îî‚îÄ‚îÄ releng-output     &lt;---- LIBFOO_BUILD_OUTPUT_DIR
    ‚îÇ               ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ...
</pre></div>
</div>
<p>For cases where a package uses local sources, this path may change to
point to the specified local source path. For example, when configured for
<a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>, the build directory may exist
out of the root directory:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>‚îú‚îÄ‚îÄ libfoo/                           &lt;---- LIBFOO_BUILD_DIR
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ output/
    ‚îÇ   ‚îî‚îÄ‚îÄ build/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-1.0.0          &lt;---- LIBFOO_BUILD_OUTPUT_DIR
    ‚îÇ           ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ...
</pre></div>
</div>
<p>Or, when using a <code class="docutils literal notranslate"><span class="pre">local</span></code> VCS type, the path may be set for a folder inside
the package‚Äôs definition directory:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ output/
    ‚îÇ   ‚îî‚îÄ‚îÄ build/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-1.0.0          &lt;---- LIBFOO_BUILD_OUTPUT_DIR
    ‚îÇ           ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ local/                &lt;---- LIBFOO_BUILD_DIR
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ...
</pre></div>
</div>
</section>
<section id="pkg-var-build-output-dir">
<span id="env-pkg-var-output-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_BUILD_OUTPUT_DIR</span></code><a class="headerlink" href="#pkg-var-build-output-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The directory for where a defined package‚Äôs build output will be stored.</p>
<p>This location is a path is a folder inside the project‚Äôs <code class="docutils literal notranslate"><span class="pre">output/build</span></code>
directory. The name is typically a combination of the package‚Äôs name and
version (e.g. <code class="docutils literal notranslate"><span class="pre">libfoo-1.0.0</span></code>):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ output/
    ‚îÇ   ‚îî‚îÄ‚îÄ build/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-1.0.0          &lt;---- LIBFOO_BUILD_OUTPUT_DIR
    ‚îÇ           ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ...
</pre></div>
</div>
<p>However, if no version is specified for a package, the folder name may
just be <code class="docutils literal notranslate"><span class="pre">libfoo</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ output/
    ‚îÇ   ‚îî‚îÄ‚îÄ build/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo                &lt;---- LIBFOO_BUILD_OUTPUT_DIR
    ‚îÇ           ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ...
</pre></div>
</div>
<p>Note for some package types, the build output directory may be changed to
have an additional path (e.g. <code class="docutils literal notranslate"><span class="pre">output/build/libfoo-1.0.0/releng-output</span></code>)
for package types like CMake. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ output/
    ‚îÇ   ‚îî‚îÄ‚îÄ build/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-1.0.0
    ‚îÇ           ‚îî‚îÄ‚îÄ releng-output     &lt;---- LIBFOO_BUILD_OUTPUT_DIR
    ‚îÇ               ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ...
</pre></div>
</div>
</section>
<section id="pkg-var-defdir">
<span id="env-pkg-var-defdir"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_DEFDIR</span></code><a class="headerlink" href="#pkg-var-defdir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Variable is path-like in a script environment.</p>
</div>
<p>The directory where a defined package‚Äôs definition is stored.</p>
<p>For example, if a package <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> exists, the <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEFDIR</span></code> environment
variable will contain a directory path matching the path seen below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/                   &lt;---- LIBFOO_DEFDIR
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ...
</pre></div>
</div>
</section>
<section id="pkg-var-name">
<span id="env-pkg-var-name"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_NAME</span></code><a class="headerlink" href="#pkg-var-name" title="Link to this heading">¬∂</a></h5>
<p>The name of the package.</p>
<p>For example, if a package <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> exists, the <code class="docutils literal notranslate"><span class="pre">LIBFOO_NAME</span></code> environment
variable will have a value of <code class="docutils literal notranslate"><span class="pre">libfoo</span></code>.</p>
</section>
<section id="pkg-var-revision">
<span id="env-pkg-var-revision"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_REVISION</span></code><a class="headerlink" href="#pkg-var-revision" title="Link to this heading">¬∂</a></h5>
<p>The revision of a defined package. If a package does not define a revision,
the value used will match the version value (if set). If no version value
exists, this variable may be empty.</p>
</section>
<section id="pkg-var-version">
<span id="env-pkg-var-version"></span><h5><code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_VERSION</span></code><a class="headerlink" href="#pkg-var-version" title="Link to this heading">¬∂</a></h5>
<p>The version of a defined package. If a package does not define a version,
the value used will match the revision value (if set). If no revision value
exists, this variable may be empty.</p>
</section>
</section>
<section id="script-only-variables">
<h4>Script-only variables<a class="headerlink" href="#script-only-variables" title="Link to this heading">¬∂</a></h4>
<p>A series a script-only variables are also available at certain stages of
releng-tool.</p>
<section id="releng-generated-licenses">
<span id="env-releng-generated-licenses"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_GENERATED_LICENSES</span></code><a class="headerlink" href="#releng-generated-licenses" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>Defines a list of generated license files at the end of package processing
that is available for post-processing actions to use.</p>
</section>
<section id="releng-generated-sboms">
<span id="env-releng-generated-sboms"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_GENERATED_SBOMS</span></code><a class="headerlink" href="#releng-generated-sboms" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>Defines a list of generated software build of materials (SBOM) files at the
end of package processing that is available for post-processing actions
to use.</p>
</section>
</section>
<section id="other-variables">
<h4>Other variables<a class="headerlink" href="#other-variables" title="Link to this heading">¬∂</a></h4>
<p>releng-tool also accepts environment variables for configuring specific
features of the releng-tool process. The following environment variables are
accepted:</p>
<section id="releng-assets-dir">
<span id="env-releng-assets-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_ASSETS_DIR=&lt;dir&gt;</span></code><a class="headerlink" href="#releng-assets-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.</span></p>
</div>
<p>Configures the asset directory to use. The asset directory is the container
directory to use for both cache and download content. By default, no asset
directory is configured. If a user does not override an asset directory using
the <a class="reference internal" href="#document-guides/arguments#arg-assets-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--assets-dir</span></code> argument</span></a>, the <code class="docutils literal notranslate"><span class="pre">RELENG_ASSETS_DIR</span></code> can be
used as the container directory override for both cache and download
content.</p>
</section>
<section id="releng-cache-dir">
<span id="env-releng-cache-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_CACHE_DIR=&lt;dir&gt;</span></code><a class="headerlink" href="#releng-cache-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.</span></p>
</div>
<p>Configures the cache directory to use. By default, the cache directory used is
configured to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/cache</span></code>. If a user does not override a cache directory
using the <a class="reference internal" href="#document-guides/arguments#arg-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--cache-dir</span></code> argument</span></a>, the <code class="docutils literal notranslate"><span class="pre">RELENG_CACHE_DIR</span></code>
option can be used to override this location.</p>
<p>See also <a class="reference internal" href="#env-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">CACHE_DIR</span></code></span></a>.</p>
</section>
<section id="releng-dl-dir">
<span id="env-releng-dl-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_DL_DIR=&lt;dir&gt;</span></code><a class="headerlink" href="#releng-dl-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.</span></p>
</div>
<p>Configures the download directory to use. By default, the download directory
used is configured to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/dl</span></code>. If a user does not override a download
directory using the <a class="reference internal" href="#document-guides/arguments#arg-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--dl-dir</span></code> argument</span></a>, the <code class="docutils literal notranslate"><span class="pre">RELENG_DL_DIR</span></code>
option can be used to override this location.</p>
<p>See also <a class="reference internal" href="#env-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">DL_DIR</span></code></span></a>.</p>
</section>
<section id="releng-global-output-container-dir">
<span id="env-releng-global-out-container-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_GLOBAL_OUTPUT_CONTAINER_DIR=&lt;dir&gt;</span></code><a class="headerlink" href="#releng-global-output-container-dir" title="Link to this heading">¬∂</a></h5>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>This environment variable is always ignored when either the
<a class="reference internal" href="#document-guides/arguments#arg-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--out-dir</span></code> argument</span></a> or
<a class="reference internal" href="#env-releng-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR</span></code></span></a> environment variable is used.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.1.</span></p>
</div>
<p>Configures a ‚Äûglobal‚Äú container directory used to hold the output contents
of releng-tool projects. Projects will typically generate output contents
inside a project‚Äôs <code class="docutils literal notranslate"><span class="pre">&lt;root-dir&gt;/output</span></code> directory. This can be overridden
using the <a class="reference internal" href="#document-guides/arguments#arg-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--out-dir</span></code> argument</span></a> or
<a class="reference internal" href="#env-releng-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR</span></code></span></a> environment variable, if a user
wishes to generate a build on a different path/partition. While these
overrides can help, users managing multiple releng-tool projects will need
to tailor a specific output directory value for each project they wish to
build. This may be less than ideal if projects typically build in an
output folder in a common directory. To help avoid this, this environment
variable can be used.</p>
<p>When configuring this option, the default output folder for projects will be
set to the provided container directory along with a project‚Äôs root directory
name:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$RELENG_GLOBAL_OUTPUT_CONTAINER_DIR/&lt;root-directory-name&gt;
</pre></div>
</div>
<p>This allows a user to build multiple releng-tool projects with output data
placed inside a common directory path without needing to explicitly configure
a specific output directory each project‚Äôs build.</p>
<p>For example, if a user stores multiple projects inside a <code class="docutils literal notranslate"><span class="pre">~/projects/</span></code> path
and configures this option to the path <code class="docutils literal notranslate"><span class="pre">/mnt/extern-disk</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">RELENG_GLOBAL_OUTPUT_CONTAINER_DIR</span><span class="o">=/</span><span class="n">mnt</span><span class="o">/</span><span class="n">extern</span><span class="o">-</span><span class="n">disk</span>
</pre></div>
</div>
<p>The following folder structure should be expected:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>‚îú‚îÄ‚îÄ usr/
‚îÇ   ‚îî‚îÄ‚îÄ home/
‚îÇ       ‚îî‚îÄ‚îÄ myuser/
‚îÇ           ‚îî‚îÄ‚îÄ projects/
‚îÇ               ‚îú‚îÄ‚îÄ my-project-a/
‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ...
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ releng-tool.rt
‚îÇ               ‚îî‚îÄ‚îÄ my-project-b/
‚îÇ                   ‚îú‚îÄ‚îÄ ...
‚îÇ                   ‚îî‚îÄ‚îÄ releng-tool.rt
‚îî‚îÄ‚îÄ mnt/
    ‚îî‚îÄ‚îÄ extern-disk/
        ‚îú‚îÄ‚îÄ my-project-a/
        ‚îÇ   ‚îî‚îÄ‚îÄ ...
        ‚îî‚îÄ‚îÄ my-project-b/
            ‚îî‚îÄ‚îÄ ...
</pre></div>
</div>
</section>
<section id="releng-ignore-running-as-root">
<span id="env-releng-ignore-running-as-root"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_IGNORE_RUNNING_AS_ROOT=1</span></code><a class="headerlink" href="#releng-ignore-running-as-root" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.</span></p>
</div>
<p>Suppress the <a class="reference internal" href="#document-guides/tips/privileged-builds"><span class="doc std std-doc">warning</span></a> generated when running
releng-tool with an elevated user.</p>
</section>
<section id="releng-ignore-unknown-args">
<span id="env-releng-ignore-unknown-args"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_IGNORE_UNKNOWN_ARGS=1</span></code><a class="headerlink" href="#releng-ignore-unknown-args" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>Suppress the warning/error generated when running releng-tool with unknown
arguments.</p>
<p>See also the <a class="reference internal" href="#document-guides/arguments#arg-relaxed-args"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--relaxed-args</span></code> argument</span></a>.</p>
</section>
<section id="releng-images-dir">
<span id="env-releng-images-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_IMAGES_DIR=&lt;dir&gt;</span></code><a class="headerlink" href="#releng-images-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>Configures the images directory to use. By default, the images directory used is
configured to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/output/images</span></code>. If a user does not override a images
directory using the <a class="reference internal" href="#document-guides/arguments#arg-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--images-dir</span></code> argument</span></a>, the
<code class="docutils literal notranslate"><span class="pre">RELENG_IMAGES_DIR</span></code> option can be used to override this location.</p>
<p>See also <a class="reference internal" href="#env-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">IMAGES_DIR</span></code></span></a>.</p>
</section>
<section id="releng-output-dir">
<span id="env-releng-out-dir"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR=&lt;dir&gt;</span></code><a class="headerlink" href="#releng-output-dir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.1.</span></p>
</div>
<p>Configures the output directory to use. By default, the output directory used is
configured to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/output</span></code>. If a user does not override an output
directory using the <a class="reference internal" href="#document-guides/arguments#arg-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--out-dir</span></code> argument</span></a>, the
<code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR</span></code> option can be used to override this location.</p>
<p>See also
<a class="reference internal" href="#env-releng-global-out-container-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_GLOBAL_OUTPUT_CONTAINER_DIR</span></code></span></a>.</p>
</section>
<section id="releng-parallel-level">
<span id="env-releng-parallel-level"></span><h5><code class="docutils literal notranslate"><span class="pre">RELENG_PARALLEL_LEVEL=&lt;level&gt;</span></code><a class="headerlink" href="#releng-parallel-level" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.9: </span>Added support for negative jobs.</p>
</div>
<p>Configures the number of jobs to use (defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>; automatic).</p>
<p>If the total number of jobs provided is negative, it will subtract the
provided value from the automatic job detection count (to a minimum of one).</p>
<p>See also the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a>, <a class="reference internal" href="#env-njobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">NJOBS</span></code></span></a> and
<a class="reference internal" href="#env-njobsconf"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">NJOBSCONF</span></code></span></a>.</p>
</section>
<section id="tool-overrides">
<span id="env-tool-overrides"></span><h5>Tool overrides<a class="headerlink" href="#tool-overrides" title="Link to this heading">¬∂</a></h5>
<p>Environment variables can be used to help override external tool invoked by the
releng-tool process. For example, when invoking CMake-based projects, the tool
<code class="docutils literal notranslate"><span class="pre">cmake</span></code> will be invoked. However, if a builder is running on CentOS and CMake
v3.x is desired, the tool <code class="docutils literal notranslate"><span class="pre">cmake3</span></code> needs to be invoked instead. To configure
this, an environment variable can be set to switch which tool to invoke.
Consider the following example:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span><span class="w"> </span><span class="nv">RELENG_CMAKE</span><span class="o">=</span>cmake3
<span class="gp">$ </span>releng-tool
<span class="go">[cmake3 will be used for cmake projects]</span>
</pre></div>
</div>
</section>
</section>
</section>
<span id="document-guides/packages/packages"></span><section id="packages">
<h3>Packages<a class="headerlink" href="#packages" title="Link to this heading">¬∂</a></h3>
<p>Packages for a project are defined inside the <code class="docutils literal notranslate"><span class="pre">package/</span></code> directory.
Packages can consist of libraries, programs or even basic assets.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ sample-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îú‚îÄ‚îÄ box-firmware/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ box-firmware.rt
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ box-firmware.hash
    ‚îÇ   ‚îú‚îÄ‚îÄ libfw-uploader/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libfw-uploader.rt
    ‚îÇ   ‚îú‚îÄ‚îÄ libsupport/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libsupport.rt
    ‚îÇ   ‚îî‚îÄ‚îÄ rack-engine/
    ‚îÇ       ‚îî‚îÄ‚îÄ rack-engine.rt
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p class="rubric">Overview</p>
<p>There is no explicit limit on the total number of packages a project can have.
Package names are recommended to be lower-case with dash-separated (<code class="docutils literal notranslate"><span class="pre">-</span></code>)
separators (if needed). For example, <code class="docutils literal notranslate"><span class="pre">package-a</span></code> is recommended over <code class="docutils literal notranslate"><span class="pre">PackageA</span></code>
or <code class="docutils literal notranslate"><span class="pre">package_a</span></code>; however, the choice is up to the developer making the
releng-tool project.</p>
<p>When making a package, a container folder for the package as well as a package
definition file needs to be made. For example, for a package <code class="docutils literal notranslate"><span class="pre">package-a</span></code>,
the file <code class="docutils literal notranslate"><span class="pre">package/package-a/package-a.rt</span></code> should exist.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ package-a/                &lt;---- Container
    ‚îÇ       ‚îî‚îÄ‚îÄ package-a.rt          &lt;---- Definition
    ...
</pre></div>
</div>
<p>Package definition files are Python-based. Inside the definition file, a
series of configuration options can be set to tell releng-tool how to work
with the defined package. Each option is prefixed with a variable-safe
variant of the package name. The prefix value will be an uppercase string
based on the package name with special characters converted to underscores.
For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">package-a</span></code> will have a prefix <code class="docutils literal notranslate"><span class="pre">PACKAGE_A_</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libfoo</span></code> will have a prefix <code class="docutils literal notranslate"><span class="pre">LIBFOO_</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MyAwesomeModule</span></code> will have a prefix <code class="docutils literal notranslate"><span class="pre">MYAWESOMEMODULE_</span></code></p></li>
</ul>
<p>For a package to take advantage of a configuration option, the package
definition will add a variable entry with the package‚Äôs prefix followed by
the supported option name. Considering the same package with the name
<code class="docutils literal notranslate"><span class="pre">package-a</span></code> which has a prefix <code class="docutils literal notranslate"><span class="pre">PACKAGE_A_</span></code>; to use the
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a> configuration option, the option
<code class="docutils literal notranslate"><span class="pre">PACKAGE_A_VERSION</span></code> should be defined:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">PACKAGE_A_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.0.0&#39;</span>
</pre></div>
</div>
<p class="rubric">Topics</p>
<div class="toctree-wrapper compound">
<span id="document-guides/packages/common-pkg-options"></span><section id="common-package-options">
<h4>Common package options<a class="headerlink" href="#common-package-options" title="Link to this heading">¬∂</a></h4>
<p>The following outlines common configuration options available for packages.</p>
<section id="libfoo-install-type">
<span id="pkg-opt-install-type"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code><a class="headerlink" href="#libfoo-install-type" title="Link to this heading">¬∂</a></h5>
<p>Defines the installation type of this package. A package may be designed to be
built and installed for just the target area, the stage area, both or maybe in
the host directory. The following options are available for the installation
type:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Type</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p><code class="docutils literal notranslate"><span class="pre">host</span></code></p></td>
<td class="text-left"><p>The host directory.</p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><code class="docutils literal notranslate"><span class="pre">images</span></code></p></td>
<td class="text-left"><p>The images directory.</p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><code class="docutils literal notranslate"><span class="pre">staging</span></code></p></td>
<td class="text-left"><p>The staging area.</p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><code class="docutils literal notranslate"><span class="pre">staging_and_target</span></code></p></td>
<td class="text-left"><p>Both the staging an target area.</p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><code class="docutils literal notranslate"><span class="pre">target</span></code></p></td>
<td class="text-left"><p>The target area.</p></td>
</tr>
</tbody>
</table>
</div>
<p>The default installation type is <code class="docutils literal notranslate"><span class="pre">target</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;target&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-host-provides"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_HOST_PROVIDES</span></code></span></a>.</p>
</section>
<section id="libfoo-license">
<span id="pkg-opt-license"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE</span></code><a class="headerlink" href="#libfoo-license" title="Link to this heading">¬∂</a></h5>
<p>A string or list of strings outlining the license information for a package.
Outlining the license of a package is recommended.
It is recommended to use <a class="reference external" href="https://spdx.org/licenses/">SPDX registered licenses</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_LICENSE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;GPL-2.0-only&#39;</span><span class="p">,</span>
    <span class="s1">&#39;MIT&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_LICENSE</span> <span class="o">=</span> <span class="s1">&#39;GPL-2.0-or-later WITH Bison-exception-2.2&#39;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_LICENSE</span> <span class="o">=</span> <span class="s1">&#39;LicenseRef-MyCompanyLicense&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#pkg-opt-license-files"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE_FILES</span></code></span></a>.</p>
</section>
<section id="libfoo-license-files">
<span id="pkg-opt-license-files"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE_FILES</span></code><a class="headerlink" href="#libfoo-license-files" title="Link to this heading">¬∂</a></h5>
<p>A string or list of strings identifying the license files found inside the
package sources which typically would match up to the defined <code class="docutils literal notranslate"><span class="pre">LICENSE</span></code>
entries (respectively).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_LICENSE_FILES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;LICENSE.GPLv2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;LICENSE.MIT&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_LICENSE_FILES</span> <span class="o">=</span> <span class="s1">&#39;LICENSE&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#pkg-opt-license"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE</span></code></span></a>.</p>
</section>
<section id="libfoo-needs">
<span id="pkg-opt-needs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code><a class="headerlink" href="#libfoo-needs" title="Link to this heading">¬∂</a></h5>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>The option replaces the legacy
<a class="reference internal" href="#document-guides/packages/deprecated-pkg-options#pkg-opt-dependencies"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEPENDENCIES</span></code></span></a> option.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>List of package dependencies a given project has. If a project depends on
another package, the package name should be listed in this option. This ensures
releng-tool will process packages in the proper order. The following shows an
example package <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> being dependent on <code class="docutils literal notranslate"><span class="pre">liba</span></code> and <code class="docutils literal notranslate"><span class="pre">libb</span></code> being
processed first:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_NEEDS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;liba&#39;</span><span class="p">,</span>
    <span class="s1">&#39;libb&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-preextract"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREEXTRACT</span></code></span></a>.</p>
</section>
<section id="libfoo-site">
<span id="pkg-opt-site"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_SITE</span></code><a class="headerlink" href="#libfoo-site" title="Link to this heading">¬∂</a></h5>
<p>The site where package sources/assets can be found. The site can be a URL
of an archive, or describe a source control URL such as Git or SVN. The
following outline a series of supported site definitions:</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.10: </span>Support added for <code class="docutils literal notranslate"><span class="pre">rsync+</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.17: </span>Support added for <code class="docutils literal notranslate"><span class="pre">perforce+</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Support added for <code class="docutils literal notranslate"><span class="pre">brz+</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.0: </span>Support added for <code class="docutils literal notranslate"><span class="pre">file+</span></code>.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>Support for Bazaar sites is deprecated.</p>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Type</p></th>
<th class="head text-left"><p>Prefix/Postfix</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-breezy"><span class="std std-ref">Breezy</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">brz+</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-bazaar"><span class="std std-ref">Bazaar</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">bzr+</span></code> <em>(deprecated)</em></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-cvs"><span class="std std-ref">CVS</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">cvs+</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-file"><span class="std std-ref">File</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">file+</span></code> or <code class="docutils literal notranslate"><span class="pre">file://</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-git"><span class="std std-ref">Git</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">git+</span></code> or <code class="docutils literal notranslate"><span class="pre">.git</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-mercurial"><span class="std std-ref">Mercurial</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">hg+</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-perforce"><span class="std std-ref">Perforce</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">perforce+</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-rsync"><span class="std std-ref">rsync</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">rsync+</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-scp"><span class="std std-ref">SCP</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">scp+</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-svn"><span class="std std-ref">SVN</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">svn+</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/site-definitions#site-url"><span class="std std-ref">URL</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">(wildcard)</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>Examples include:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/libfoo.git&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;cvs+:pserver:anonymous@cvs.example.com:/var/lib/cvsroot mymodule&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;svn+https://svn.example.com/repos/libfoo/c/branches/libfoo-1.2&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://www.example.com/files/libfoo.tar.gz&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DEFAULT_SITE</span><span class="p">:</span> <span class="s1">&#39;https://pkgs.example.com/releases/libfoo-$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">.tar.gz&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&lt;mode&gt;&#39;</span><span class="p">:</span> <span class="s1">&#39;https://git.example.com/libfoo.git&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A developer can also use <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-vcs-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code></span></a> to
explicitly define the version control system type without the need for a
prefix hint. The use of a dictionary value is only useful when operating in
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>.</p>
<p>Using a specific type will create a dependency for a project that the
respective host tool is installed on the host system. For example, if a
Git site is set, the host system will need to have <code class="docutils literal notranslate"><span class="pre">git</span></code> installed on the
system.</p>
<p>If no site is defined for a package, it will be considered a virtual package
(i.e. has no content). If applicable, loaded extensions may provide support
for custom site protocols.</p>
<p>Specifying a <a class="reference internal" href="#document-guides/packages/site-definitions#site-local"><span class="std std-ref">local site</span></a> value with <code class="docutils literal notranslate"><span class="pre">local</span></code> will automatically
configure a VCS-type of <code class="docutils literal notranslate"><span class="pre">local</span></code>.</p>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-vcs-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code></span></a> and
<a class="reference internal" href="#document-guides/packages/site-definitions"><span class="doc std std-doc">site definitions</span></a>.</p>
</section>
<section id="libfoo-type">
<span id="pkg-opt-type"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_TYPE</span></code><a class="headerlink" href="#libfoo-type" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.13: </span>Support added for <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.16: </span>Support added for <code class="docutils literal notranslate"><span class="pre">meson</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.3: </span>Support added for <code class="docutils literal notranslate"><span class="pre">cargo</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.8: </span>Support added for <code class="docutils literal notranslate"><span class="pre">waf</span></code>.</p>
</div>
<p>The package type. The default package type is a (Python) script-based package.
releng-tool also provides a series of helper package types for common
frameworks. The following outline a series of supported type definitions:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Type</p></th>
<th class="head text-left"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-autotools"><span class="doc std std-doc">Autotools</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">autotools</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-cargo"><span class="doc std std-doc">Cargo</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">cargo</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-cmake"><span class="doc std std-doc">CMake</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">cmake</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-make"><span class="doc std std-doc">Make</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">make</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-meson"><span class="doc std std-doc">Meson</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">meson</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-python"><span class="doc std std-doc">Python</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">python</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-scons"><span class="doc std std-doc">SCons</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">scons</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-script"><span class="doc std std-doc">Script</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">script</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference internal" href="#document-guides/packages/pkg-type-waf"><span class="doc std std-doc">Waf</span></a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">waf</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;script&#39;</span>
</pre></div>
</div>
<p>If no type is defined for a package, it will be considered a script-based
package. If applicable, loaded extensions may provide support for custom
types.</p>
<p>Using a specific type will create a dependency for a project that the
respective host tool is installed on the host system. For example, if a
CMake type is set, the host system will need to have <code class="docutils literal notranslate"><span class="pre">cmake</span></code> installed on
the system.</p>
</section>
<section id="libfoo-version">
<span id="pkg-opt-version"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code><a class="headerlink" href="#libfoo-version" title="Link to this heading">¬∂</a></h5>
<p>The version of the package. Typically the version value should be formatted
in a semantic versioning style, but it is up to the developer to decide
the best version value to use for a package. It is important to note that
the version value is used to determine build output folder names, cache
files and more.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.0.0&#39;</span>
</pre></div>
</div>
<p>For some VCS types, the version value will be used to acquire a specific
revision of sources. If for some case the desired version value cannot be
gracefully defined (e.g. a version value <code class="docutils literal notranslate"><span class="pre">libfoo-v1.0</span></code> will produce output
directories such as <code class="docutils literal notranslate"><span class="pre">libfoo-libfoo-v1.0</span></code>),
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> can be used.</p>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_REVISION</span></code></span></a> and
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a>.</p>
</section>
</section>
<span id="document-guides/packages/advanced-pkg-options"></span><section id="advanced-package-options">
<h4>Advanced package options<a class="headerlink" href="#advanced-package-options" title="Link to this heading">¬∂</a></h4>
<p>The following outlines more advanced configuration options available for
packages.</p>
<section id="libfoo-build-subdir">
<span id="pkg-opt-build-subdir"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code><a class="headerlink" href="#libfoo-build-subdir" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Sub-directory where a package‚Äôs extracted sources holds its buildable content.
Sources for a package may be nested inside one or more directories. A package
can specify the sub-directory where the configuration, build and installation
processes are invoked from.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_SUBDIR</span> <span class="o">=</span> <span class="s1">&#39;subdir&#39;</span>
</pre></div>
</div>
</section>
<section id="libfoo-devmode-ignore-cache">
<span id="pkg-opt-devmode-ignore-cache"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span></code><a class="headerlink" href="#libfoo-devmode-ignore-cache" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.3.</span></p>
</div>
<p>Flag value to indicate that a package should ignore any generated cache
file when operating in <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>.
In most cases, users want to take advantage of cached sources to prevent
having to re-fetch the same content again between builds. However, some
packages may be configured in a way where their request for a package‚Äôs
contents varies from a fresh stage. For example, when pulling from a
branch, releng-tool will not attempt to re-fetch from a site since a
cached content has already been fetched. If a developer configures a
package to use a revision value with dynamic content, they may wish to use
this option to have a user always force fetching new content from a
clean state.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_IGNORE_CACHE</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>By default, this option is not defined and results can vary based off the site
type being fetched. In most cases, fetch operations will treat the default case
of this option as disabled (<code class="docutils literal notranslate"><span class="pre">False</span></code>). DVCS site types may elect to enable this
option by default (<code class="docutils literal notranslate"><span class="pre">True</span></code>) if the target revision is a branch.</p>
<p>See also <a class="reference internal" href="#document-guides/configuration#conf-default-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">default_devmode_ignore_cache</span></code></span></a>.</p>
</section>
<section id="libfoo-devmode-patches">
<span id="pkg-opt-devmode-patches"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_PATCHES</span></code><a class="headerlink" href="#libfoo-devmode-patches" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.9.</span></p>
</div>
<p>Allow configuring a package to apply patches when operating in
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>. Typically, patches are not
enabled for packages in development mode since they are primarily for helping
to patch fixed revisions that have issues. However, this option can be used
to allow a package in a development mode to have patches applied to them.
By default, patches are never applied to development mode packages with a
value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>To enable all patches to be applied when in development mode, the following
flag can be set:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_PATCHES</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>A developer can provide a pattern of patches to include:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_PATCHES</span> <span class="o">=</span> <span class="s1">&#39;*variable-shift*&#39;</span>
</pre></div>
</div>
<p>Or multiple patterns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_PATCHES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;007-add-mode-x.patch&#39;</span><span class="p">,</span>
    <span class="s1">&#39;*-experimental-shuffle-*&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>A developer can also configure the inclusion or patterns based on the
specific development mode being operated on:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_PATCHES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;custom-mode-2&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;custom-mode-3&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;002-disable-help.patch&#39;</span><span class="p">,</span>
        <span class="s1">&#39;*-ui-tweaks-*&#39;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#pkg-opt-ignore-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_IGNORE_PATCHES</span></code></span></a> and
<a class="reference internal" href="#document-guides/patching"><span class="doc std std-doc">patching</span></a>.</p>
</section>
<section id="libfoo-devmode-revision">
<span id="pkg-opt-devmode-revision"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_REVISION</span></code><a class="headerlink" href="#libfoo-devmode-revision" title="Link to this heading">¬∂</a></h5>
<p>Specifies a development revision for a package. When a project is being
built in <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>, the development
revision is used over the configured <a class="reference internal" href="#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a>
value. If a development revision is not defined for a project, a package
will still use the configured <a class="reference internal" href="#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> while
in development mode.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_REVISION</span> <span class="o">=</span> <span class="s1">&#39;feature/alpha&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> and
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a>.</p>
</section>
<section id="libfoo-devmode-skip-integrity-check">
<span id="pkg-opt-devmode-skip-integrity-check"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_SKIP_INTEGRITY_CHECK</span></code><a class="headerlink" href="#libfoo-devmode-skip-integrity-check" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.8.</span></p>
</div>
<p>Flag value to indicate that a package can skip an integrity check when fetching
a development revision when operating in
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>. This option can be used when
a package defines a static resource with an explicit hash but opts for an
alternative resource when in a development mode. Switching to an alternative
static resource can result in the fetch stage failing if no alternative
hashes are defined. Developers not wanting to maintain development hashes can
instead configure this option if not needing an integrity check.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_SKIP_INTEGRITY_CHECK</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="libfoo-extension">
<span id="pkg-opt-extension"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTENSION</span></code><a class="headerlink" href="#libfoo-extension" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.8: </span>Support an empty extension value.</p>
</div>
<p>Specifies a filename extension for the package. A package may be cached inside
the download directory to be used when the extraction phase is invoked.
releng-tool attempts to determine the most ideal extension for this cache file;
however some cases the detected extension may be incorrect. To deal with this
situation, a developer can explicitly specify the extension value using this
option.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_EXTENSION</span> <span class="o">=</span> <span class="s1">&#39;tgz&#39;</span>
</pre></div>
</div>
</section>
<section id="libfoo-external">
<span id="pkg-opt-external"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTERNAL</span></code><a class="headerlink" href="#libfoo-external" title="Link to this heading">¬∂</a></h5>
<p>Flag value to indicate that a package is an external package. External
packages will generate warnings if <a class="reference internal" href="#document-guides/packages/hash-file"><span class="doc std std-doc">hashes</span></a>, an
<a class="reference internal" href="#document-guides/packages/ascii-armor"><span class="doc std std-doc">ASCII-armor</span></a> or <a class="reference internal" href="#document-guides/licenses"><span class="doc std std-doc">licenses</span></a> are missing. By
default, packages are considered external unless explicitly configured to
be internal.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_EXTERNAL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/intern-extern-pkgs"><span class="doc std std-doc">internal and external packages</span></a>.</p>
</section>
<section id="libfoo-extopt">
<span id="pkg-opt-extopt"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTOPT</span></code><a class="headerlink" href="#libfoo-extopt" title="Link to this heading">¬∂</a></h5>
<p>Specifies extension-specific options. Packages wishing to take advantage of
extension-specific capabilities can forward options to extensions by defining
a dictionary of values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_EXTOPT</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;option-a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;option-b&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-extract-type">
<span id="pkg-opt-extract-type"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTRACT_TYPE</span></code><a class="headerlink" href="#libfoo-extract-type" title="Link to this heading">¬∂</a></h5>
<p>Specifies a custom extraction type for a package. If a configured extension
supports a custom extraction capability, the registered extraction type can
be explicitly registered in this option.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_EXTRACT_TYPE</span> <span class="o">=</span> <span class="s1">&#39;ext-custom-extract&#39;</span>
</pre></div>
</div>
</section>
<section id="libfoo-fetch-opts">
<span id="pkg-opt-fetch-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_FETCH_OPTS</span></code><a class="headerlink" href="#libfoo-fetch-opts" title="Link to this heading">¬∂</a></h5>
<p>Provides a means to pass command line options into the fetch process. This
option can be defined as a dictionary of string pairs or a list with strings
‚Äì either way defined will generate argument values which may be included
in a fetch event. This field is optional. Not all site types may support
this option.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_FETCH_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_FETCH_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-fixed-jobs">
<span id="pkg-opt-fixed-jobs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code><a class="headerlink" href="#libfoo-fixed-jobs" title="Link to this heading">¬∂</a></h5>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>It is recommended to use <a class="reference internal" href="#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a> instead.</p>
</div>
<p>Explicitly configure the total number of jobs a package will use. The
primary use case for this option is to help limit the total number of jobs
for a package that cannot support a large or any parallel build environment.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_FIXED_JOBS</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Note that this option will override the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a> and can
be used to exceed the jobs count (although not recommended in most scenarios).</p>
<p>See also the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a> and
<a class="reference internal" href="#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>.</p>
</section>
<section id="libfoo-git-config">
<span id="pkg-opt-git-config"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_CONFIG</span></code><a class="headerlink" href="#libfoo-git-config" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.6.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Apply additional repository-specific Git configuration settings
(<a class="reference external" href="https://git-scm.com/docs/git-config"><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span></code></a>) after a Git repository cache has been
initialized. By default, no repository-specific configurations are
introduced (i.e. all Git calls will use the global configuration set).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_GIT_CONFIG</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;core.example&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-git-depth">
<span id="pkg-opt-git-depth"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_DEPTH</span></code><a class="headerlink" href="#libfoo-git-depth" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.4.</span></p>
</div>
<p>Limit fetching for a Git-based source to the specified number of commits. The
value provided will be used with the <a class="reference external" href="https://git-scm.com/docs/git-clone#Documentation/git-clone.txt-code--depthltdepthgtcode"><code class="docutils literal notranslate"><span class="pre">--depth</span></code></a> argument. By
default, the depth will be set to a value of <code class="docutils literal notranslate"><span class="pre">1</span></code>. If a developer wishes use
fetch all commits from all refspecs, a developer can specify a value of <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>While the default depth is a value of <code class="docutils literal notranslate"><span class="pre">1</span></code>, an exception is made when the depth
is not explicitly set and the <a class="reference internal" href="#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> value
defined is a hash. For this case, if the revision is not found with the
implicitly-defined shallow depth of <code class="docutils literal notranslate"><span class="pre">1</span></code>, the entire history of the
repository will be fetched.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_GIT_DEPTH</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#pkg-opt-git-refspecs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_REFSPECS</span></code></span></a> and
<a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">configuration quirks</span></a>.</p>
</section>
<section id="libfoo-git-refspecs">
<span id="pkg-opt-git-refspecs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_REFSPECS</span></code><a class="headerlink" href="#libfoo-git-refspecs" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.4.</span></p>
</div>
<p>List of addition refspecs to fetch when using a <code class="docutils literal notranslate"><span class="pre">git</span></code> VCS type. By default,
a Git fetch request will acquire all <code class="docutils literal notranslate"><span class="pre">heads</span></code> and <code class="docutils literal notranslate"><span class="pre">tags</span></code> refspecs. If a
developer wishes use revisions from different refspecs (for example, a pull
request), a developer can specify the additional refspecs to acquire when
fetching.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_GIT_REFSPECS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pull/*&#39;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-git-submodules">
<span id="pkg-opt-git-submodules"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_SUBMODULES</span></code><a class="headerlink" href="#libfoo-git-submodules" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.8.</span></p>
</div>
<p>Flag value to indicate whether a package‚Äôs Git submodules should be
fetched/extracted during a package‚Äôs own fetch/extraction stages. By default,
submodules are not fetched. Ideally, any dependencies for a package are
recommended to be defined in their own individual package; however, this
may not be ideal for all environments. When configured, submodules will be
cached in the same fashion as other Git-based packages. Note that submodule
caching is specific to the repository being processed (i.e. they cannot be
‚Äûshared‚Äú between other packages). If multiple packages have the same
dependency defined through a submodule, it is recommended to create a new
package and reference its contents instead.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_GIT_SUBMODULES</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="libfoo-git-verify-revision">
<span id="pkg-opt-git-verify-revision"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_VERIFY_REVISION</span></code><a class="headerlink" href="#libfoo-git-verify-revision" title="Link to this heading">¬∂</a></h5>
<p>Flag value to indicate whether the target revision is required to be signed
before it can be used. When this value is set, the configured revision for a
repository will not be extracted unless the GPG signature is verified. This
includes if the public key for the author is not registered in the local
system or if the target revision is not signed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_GIT_VERIFY_REVISION</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="libfoo-host-provides">
<span id="pkg-opt-host-provides"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_HOST_PROVIDES</span></code><a class="headerlink" href="#libfoo-host-provides" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>Hints at what host tools this package may be providing. A project may have a
series of prerequisites, which are checked at the start of a run. This is to
help ensure required host tools are available before attempting to build a
project. If a package is designed to provide a host package (e.g. when using
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a> with the <code class="docutils literal notranslate"><span class="pre">host</span></code> option),
these packages can provide tools other packages may rely on. However,
prerequisites checks will occur before these packages may be built,
preventing a build from running. This option allows a developer to hint
at what tools a host package may provide. By specifying the name of a tool
in this option, an initial prerequisites check will not fail if a tool is
not available at the start of a run.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_HOST_PROVIDES</span> <span class="o">=</span> <span class="s1">&#39;some-tool&#39;</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_HOST_PROVIDES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;tool-a&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tool-b&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tool-c&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>.</p>
</section>
<section id="libfoo-ignore-patches">
<span id="pkg-opt-ignore-patches"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_IGNORE_PATCHES</span></code><a class="headerlink" href="#libfoo-ignore-patches" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.9.</span></p>
</div>
<p>Flag value to indicate that a package should ignore patches found alongside
the package definition. This option can be useful with
<a class="reference internal" href="#pkg-opt-devmode-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_PATCHES</span></code></span></a> to allow a package to
manage packages aimed for development mode over a primary build.
By default, this option is disabled with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>For example, to ignore all patches in a default run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_IGNORE_PATCHES</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Developers can also configure patterns of patches to ignore:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_IGNORE_PATCHES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;*-new-engine-*&#39;</span><span class="p">,</span>
    <span class="s1">&#39;006-custom-int.patch&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#pkg-opt-devmode-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_PATCHES</span></code></span></a> and
<a class="reference internal" href="#document-guides/patching"><span class="doc std std-doc">patching</span></a>.</p>
</section>
<section id="libfoo-internal">
<span id="pkg-opt-internal"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INTERNAL</span></code><a class="headerlink" href="#libfoo-internal" title="Link to this heading">¬∂</a></h5>
<p>Flag value to indicate that a package is an internal package. Internal
packages will not generate warnings if <a class="reference internal" href="#document-guides/packages/hash-file"><span class="doc std std-doc">hashes</span></a>, an
<a class="reference internal" href="#document-guides/packages/ascii-armor"><span class="doc std std-doc">ASCII-armor</span></a> or <a class="reference internal" href="#document-guides/licenses"><span class="doc std std-doc">licenses</span></a> are missing.
When configured in <a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>, package
sources are searched for in the local directory opposed to site fetched
sources. By default, packages are considered external unless explicitly
configured to be internal.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INTERNAL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/intern-extern-pkgs"><span class="doc std std-doc">internal and external packages</span></a>.</p>
</section>
<section id="libfoo-max-jobs">
<span id="pkg-opt-max-jobs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code><a class="headerlink" href="#libfoo-max-jobs" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.8.</span></p>
</div>
<p>Configure the maximum number of jobs a package can use. This option can be used
for packages that cannot support a large or any parallel build environment.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MAX_JOBS</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>This option also accepts negative values. When a negative option is provided,
the total number of jobs used for a package will be the default job count less
the provided value (to a minimum of one). For example, to use one less job than
the total number of cores, the following can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MAX_JOBS</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>See also the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a> and
<a class="reference internal" href="#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a>.</p>
</section>
<section id="libfoo-no-extraction">
<span id="pkg-opt-no-extraction"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_NO_EXTRACTION</span></code><a class="headerlink" href="#libfoo-no-extraction" title="Link to this heading">¬∂</a></h5>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>If <code class="docutils literal notranslate"><span class="pre">LIBFOO_NO_EXTRACTION</span></code> is configured for a package, the package cannot
define additional <a class="reference internal" href="#document-guides/packages/hash-file"><span class="doc std std-doc">hashes</span></a>, configure an
<a class="reference internal" href="#document-guides/packages/ascii-armor"><span class="doc std std-doc">ASCII-armor</span></a>, define a list of <code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE_FILES</span></code> to
manage or expect to support various actions (such as building, since no
sources are available).</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.3.</span></p>
</div>
<p>Flag value to indicate that a package should not extract the package
contents. This feature is primarily used when using releng-tool to fetch
content for one or more packages (into <code class="docutils literal notranslate"><span class="pre">DL_DIR</span></code>) to be used by another
package the releng-tool project defines.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_NO_EXTRACTION</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Limitations exist when using the <code class="docutils literal notranslate"><span class="pre">LIBFOO_NO_EXTRACTION</span></code> option. Since
releng-tool will not be used to extract a package‚Äôs archive (if any), hash
entries for files found inside the archive cannot be checked against. If
any files other than the archive itself is listed, releng-tool will stop
processing due to a hash check failure. In addition, since releng-tool does
not have the extracted contents of an archive, it is unable to acquire a
copy of the project‚Äôs license file. Specifying <code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE_FILES</span></code> for
projects with the no-extraction flag enabled will result in a warning. By
default, this option is disabled with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</section>
<section id="libfoo-only-devmode">
<span id="pkg-opt-only-devmode"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ONLY_DEVMODE</span></code><a class="headerlink" href="#libfoo-only-devmode" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.9.</span></p>
</div>
<p>Flag whether this package should only be used when running in a
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>. Typically, packages that are
registered in the releng-tool pipeline will get processed for a build. If a
developer wishes to introduced a new package that is aimed for development,
they may use various conditionals to avoid enabling a package in the main
pipeline.</p>
<p>This option aims to make a developers life a bit more flexible by allow a
package to be excluded even if registered in the package chain. This can
allow a project to easily prepare for a future package integration with a
single flag until the primary build is ready to enable the new package. By
default, this option is disabled with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ONLY_DEVMODE</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Developers can also hint specific development modes this package is enabled.
For example, if looking to target two specific development modes, the
following may be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ONLY_DEVMODE</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;mode-a&#39;</span><span class="p">,</span>
    <span class="s1">&#39;mode-c&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-patch-subdir">
<span id="pkg-opt-patch-subdir"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PATCH_SUBDIR</span></code><a class="headerlink" href="#libfoo-patch-subdir" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.15.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Sub-directory where any package patches should be applied to. By default,
patches are applied to the root of the extracted sources for a package. This
option can be useful for packages which utilize
<a class="reference internal" href="#pkg-opt-build-subdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code></span></a> to work in a container
directory for sources which contain multiple modules, but has prepared
patches tailored for the specific module being targeted.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PATCH_SUBDIR</span> <span class="o">=</span> <span class="s1">&#39;subdir&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#pkg-opt-build-subdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code></span></a>.</p>
</section>
<section id="libfoo-preextract">
<span id="pkg-opt-preextract"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREEXTRACT</span></code><a class="headerlink" href="#libfoo-preextract" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>Flag value to indicate that a package should attempt to extract the package
contents before any configuration stage of all other packages are performed.
By default, this option is disabled with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PREEXTRACT</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Ideally, package configurations can utilize <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-needs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code></span></a> to
manage the order of processed packages. However, in the scenario where package
dependencies result in a cyclic dependency, releng-tool will report an error
since a known dependency order is require for a consistent build pipeline.</p>
<p>In situations where two or more packages do depend on each other, developers
can utilize this pre-extraction flag to hint that packages should already be
extracted before any other package attempts to configure/build. For example,
if <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> and <code class="docutils literal notranslate"><span class="pre">libbar</span></code> both depend on each other, developers can configure
<code class="docutils literal notranslate"><span class="pre">LIBFOO_PREEXTRACT</span> <span class="pre">=</span> <span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">LIBBAR_PREEXTRACT</span> <span class="pre">=</span> <span class="pre">True</span></code> in each package‚Äôs
respective definition. The processed order of packages will still be driven by
any <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-needs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code></span></a> options set (that do not result in a
cyclic error) and the order defined by <a class="reference internal" href="#document-guides/configuration#conf-packages"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">packages</span></code></span></a>.</p>
</section>
<section id="libfoo-prefix">
<span id="pkg-opt-prefix"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREFIX</span></code><a class="headerlink" href="#libfoo-prefix" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Specifies the sysroot prefix value to use for the package. An explicitly
provided prefix value will override the project-defined or default sysroot
prefix value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PREFIX</span> <span class="o">=</span> <span class="s1">&#39;/usr&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/environment#env-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PREFIX</span></code></span></a> and <a class="reference internal" href="#document-guides/configuration#conf-sysroot-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sysroot_prefix</span></code></span></a>.</p>
</section>
<section id="libfoo-remote-config">
<span id="pkg-opt-remote-config"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_REMOTE_CONFIG</span></code><a class="headerlink" href="#libfoo-remote-config" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.9: </span>This feature is planned to be removed in the future.</p>
</div>
<p>Flag value to indicate that a package should attempt to load any package
configurations which may be defined in the package‚Äôs source. If the package
includes a <code class="docutils literal notranslate"><span class="pre">.releng-tool</span></code> file at the root of their sources, supported
configuration options that have not been populated will be registered into
the package before invoking a package‚Äôs configuration stage.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REMOTE_CONFIG</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>See also
<a class="reference internal" href="#document-guides/quirks/quirk-disable_remote_configs#quirk-releng-disable-remote-configs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_remote_configs</span></code> quirk</span></a>.</p>
</section>
<section id="libfoo-remote-scripts">
<span id="pkg-opt-remote-scripts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_REMOTE_SCRIPTS</span></code><a class="headerlink" href="#libfoo-remote-scripts" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.9: </span>This feature is planned to be removed in the future.</p>
</div>
<p>Flag value to indicate that a package should attempt to load any package
scripts which may be defined in the package‚Äôs source. Typically, a
script-based package will load configuration, build, etc. scripts from its
package definition folder. If a script-based package is missing a stage script
to invoke and finds an associated script in the package‚Äôs source, the detected
script will be invoked. For example, if <code class="docutils literal notranslate"><span class="pre">libfoo.rt</span></code> package may attempt to load
a <code class="docutils literal notranslate"><span class="pre">libfoo-configure.rt</span></code> script for a configuration stage. In the event that the
script cannot be found and remote scripting is permitted for a package, the
script (if exists) <code class="docutils literal notranslate"><span class="pre">releng-configure.rt</span></code> will be loaded from the root of the
package‚Äôs contents.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REMOTE_CONFIG</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>See also
<a class="reference internal" href="#document-guides/quirks/quirk-disable_remote_scripts#quirk-releng-disable-remote-scripts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_remote_scripts</span></code> quirk</span></a>.</p>
</section>
<section id="libfoo-revision">
<span id="pkg-opt-revision"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code><a class="headerlink" href="#libfoo-revision" title="Link to this heading">¬∂</a></h5>
<p>Specifies a revision value for a package. When a package fetches content
using source management tools, the revision value is used to determine
which sources should be acquired (e.g. a tag). If a revision is not
defined package, a package will use the configured
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;libfoo-v2.1&#39;</span>
</pre></div>
</div>
<p>For users planning to take advantage of
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a> capabilities, multiple
revisions can be configured based off the mode:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DEFAULT_REVISION</span><span class="p">:</span> <span class="s1">&#39;libfoo-v2.1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;develop&#39;</span><span class="p">:</span> <span class="s1">&#39;main&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#pkg-opt-devmode-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_REVISION</span></code></span></a>,
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a> and <a class="reference internal" href="#document-guides/configuration#conf-revisions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">revisions</span></code></span></a>.</p>
</section>
<section id="libfoo-strip-count">
<span id="pkg-opt-strip-count"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_STRIP_COUNT</span></code><a class="headerlink" href="#libfoo-strip-count" title="Link to this heading">¬∂</a></h5>
<p>Specifies the strip count to use when attempting to extract sources from an
archive. By default, the extraction process will strip a single directory
from an archive (value: <code class="docutils literal notranslate"><span class="pre">1</span></code>). If a package‚Äôs archive has no container
directory, a strip count of zero can be set; likewise if an archive
contains multiple container directories, a higher strip count can be set.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_STRIP_COUNT</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</section>
<section id="libfoo-vcs-type">
<span id="pkg-opt-vcs-type"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code><a class="headerlink" href="#libfoo-vcs-type" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.4: </span>Support added for <code class="docutils literal notranslate"><span class="pre">local</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.10: </span>Support added for <code class="docutils literal notranslate"><span class="pre">rsync</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.17: </span>Support added for <code class="docutils literal notranslate"><span class="pre">perforce</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Support added for <code class="docutils literal notranslate"><span class="pre">brz</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.0: </span>Support added for <code class="docutils literal notranslate"><span class="pre">file</span></code>.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>Support for <code class="docutils literal notranslate"><span class="pre">bzr</span></code> (Bazaar) sites is deprecated.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>URL types no longer accept <code class="docutils literal notranslate"><span class="pre">file://</span></code> URIs. Packages explicitly defining
a <code class="docutils literal notranslate"><span class="pre">url</span></code> type with a file URI will automatically be converted into a <code class="docutils literal notranslate"><span class="pre">file</span></code>
type. Projects should switch to defining <code class="docutils literal notranslate"><span class="pre">file</span></code> if they wish to explicitly
set the VCS type.</p>
</div>
<p>Explicitly sets the version control system type to use when acquiring
sources. releng-tool attempts to automatically determine the VCS type of
a package based off a <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-site"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_SITE</span></code></span></a> value. In some
scenarios, a site value may be unable to specify a desired prefix/postfix.
A developer can instead explicitly set the VCS type to be used no matter
what the site value is configured as.</p>
<p>Supported types are as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">brz</span></code> (Breezy)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span></code> (Bazaar) <em>(deprecated)</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cvs</span></code> (CVS)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file</span></code> (File URI)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span></code> (Git)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hg</span></code>  (Mercurial)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">local</span></code> (no VCS; local interim-development package)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code> (no VCS; virtual package)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">perforce</span></code> (Perforce)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rsync</span></code> (rsync)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scp</span></code> (SCP)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">svn</span></code> (SVN)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">url</span></code> (URL)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_VCS_TYPE</span> <span class="o">=</span> <span class="s1">&#39;git&#39;</span>
</pre></div>
</div>
<p>If a project registers a custom extension which provides a custom VCS
type, the extension type can be set in this option.</p>
<p>For users planning to take advantage of
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a> capabilities with mode-specific
sites, users can provide an explicit VCS type based off a configured mode:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_VCS_TYPE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DEFAULT_REVISION</span><span class="p">:</span> <span class="s1">&#39;git&#39;</span><span class="p">,</span>
    <span class="s1">&#39;legacy&#39;</span><span class="p">:</span> <span class="s1">&#39;cvs&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Using a specific type will create a dependency for a project that the
respective host tool is installed on the host system. For example, if a
Git VCS-type is set, the host system will need to have <code class="docutils literal notranslate"><span class="pre">git</span></code> installed on
the system.</p>
<p>The use of the <code class="docutils literal notranslate"><span class="pre">local</span></code> type is designed to be a special/development-helper
type only. When set, this option allows placing the sources of a package
directly inside a <code class="docutils literal notranslate"><span class="pre">local</span></code> folder inside the definition folder. For example,
a package <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> configured with a local type would be structured as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ local/                &lt;----
    ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ src/
    ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Makefile
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ...
</pre></div>
</div>
<p>This approach is similar to using
<a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>, where it avoids the
need to have the module content located in a site to be fetched ‚Äì
specifically, for initial development/testing/training scenarios.
It is never recommended to store the package‚Äôs ‚Äûmain content‚Äú inside a
releng-tool project, thus using the <code class="docutils literal notranslate"><span class="pre">local</span></code> type will always generate a
warning message.</p>
</section>
</section>
<span id="document-guides/packages/system-pkg-options"></span><section id="system-specific-package-options">
<h4>System-specific package options<a class="headerlink" href="#system-specific-package-options" title="Link to this heading">¬∂</a></h4>
<p>The following outlines system-specific configuration options available for
packages.</p>
<section id="libfoo-vsdevcmd">
<span id="pkg-opt-vsdevcmd"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD</span></code><a class="headerlink" href="#libfoo-vsdevcmd" title="Link to this heading">¬∂</a></h5>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>The option is ignored in non-Windows environments.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>Allows a package to automatically load Visual Studio Developer Command
Prompt (<code class="docutils literal notranslate"><span class="pre">VsDevCmd.bat</span></code>) variables into the releng-tool process. This will
allow a package to invoke commands as if releng-tool was started from
within a Visual Studio Developer Command Prompt.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_VSDEVCMD</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>A package looking to use an explicit version of Visual Studio can specify a
version string that is compatible with <a class="reference external" href="https://github.com/microsoft/vswhere">Visual Studio Locator‚Äôs</a>
(vswhere) <code class="docutils literal notranslate"><span class="pre">-version</span></code> argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_VSDEVCMD</span> <span class="o">=</span> <span class="s1">&#39;[17.0,18.0)&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/configuration#conf-vsdevcmd"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd</span></code></span></a> and
<a class="reference internal" href="#pkg-opt-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD_PRODUCTS</span></code></span></a>.</p>
</section>
<section id="libfoo-vsdevcmd-products">
<span id="pkg-opt-vsdevcmd-products"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD_PRODUCTS</span></code><a class="headerlink" href="#libfoo-vsdevcmd-products" title="Link to this heading">¬∂</a></h5>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>The option is ignored in non-Windows environments.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.4.</span></p>
</div>
<p>Allows a package to configure which products to search for when releng-tool
invokes <a class="reference external" href="https://github.com/microsoft/vswhere">Visual Studio Locator</a> to find which Visual Studio tooling
to use. By default, releng-tool operates as if <code class="docutils literal notranslate"><span class="pre">vswhere</span></code> is invoked with the
<code class="docutils literal notranslate"><span class="pre">-products</span> <span class="pre">*</span></code> argument. Providing a string in this option replaces the
asterisk value with the configured value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_VSDEVCMD_PRODUCTS</span> <span class="o">=</span> <span class="s1">&#39;Microsoft.VisualStudio.Product.BuildTools&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/configuration#conf-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd_products</span></code></span></a> and
<a class="reference internal" href="#pkg-opt-vsdevcmd"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD</span></code></span></a>.</p>
</section>
</section>
<span id="document-guides/packages/bootstrapping"></span><section id="package-bootstrapping">
<h4>Package bootstrapping<a class="headerlink" href="#package-bootstrapping" title="Link to this heading">¬∂</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.3.</span></p>
</div>
<p>Every package, no matter which package <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_TYPE</span></code></span></a> is
defined, can create a bootstrapping script to invoke before a package
starts a configuration stage. The existence of a <code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-bootstrap.rt</span></code>
inside a package directory will trigger the bootstrapping stage for the
package. An example bootstrapping script for a package <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> would be
named <code class="docutils literal notranslate"><span class="pre">libfoo-bootstrap.rt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.rt
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-bootstrap.rt   &lt;----
    ...
</pre></div>
</div>
<p>With the contents of <code class="docutils literal notranslate"><span class="pre">libfoo-bootstrap.rt</span></code> being set to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;perform bootstrapping work&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>May generate an output such as follows:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>libfoo
<span class="go">patching libfoo...</span>
<span class="go">perform bootstrapping work</span>
<span class="go">configuring libfoo...</span>
<span class="go">building libfoo...</span>
<span class="go">installing libfoo...</span>
</pre></div>
</div>
<p>Bootstrapping scripts for a package are optional. If no bootstrapping
script is provided for a package, no bootstrapping stage will be performed
for the package.</p>
<p>See <a class="reference internal" href="#document-guides/script-helpers"><span class="doc std std-doc">script helpers</span></a> for helper functions and
variables available for use. Developers may also be interested in using a
<a class="reference internal" href="#document-guides/packages/post-processing"><span class="doc std std-doc">post-processing script</span></a>.</p>
</section>
<span id="document-guides/packages/post-processing"></span><section id="package-post-processing">
<h4>Package post-processing<a class="headerlink" href="#package-post-processing" title="Link to this heading">¬∂</a></h4>
<p>Every package, no matter which package <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_TYPE</span></code></span></a> is
defined, can create a post-processing script to invoke after a package
has completed an installation stage. The existence of a <code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-post.rt</span></code>
inside a package directory will trigger the post-processing stage for
the package. An example post-processing script for a package <code class="docutils literal notranslate"><span class="pre">libfoo</span></code>
would be named <code class="docutils literal notranslate"><span class="pre">libfoo-post.rt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.rt
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-post.rt        &lt;----
    ...
</pre></div>
</div>
<p>With the contents of <code class="docutils literal notranslate"><span class="pre">libfoo-post.rt</span></code> being set to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;perform post-processing work&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>May generate an output such as follows:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>libfoo
<span class="go">patching libfoo...</span>
<span class="go">configuring libfoo...</span>
<span class="go">building libfoo...</span>
<span class="go">installing libfoo...</span>
<span class="go">perform post-processing work</span>
</pre></div>
</div>
<p>Post-processing scripts for a package are optional. If no post-processing
script is provided for a package, no post-processing stage will be performed
for the package.</p>
<p>See <a class="reference internal" href="#document-guides/script-helpers"><span class="doc std std-doc">script helpers</span></a> for helper functions and
variables available for use. Developers may also be interested in using a
<a class="reference internal" href="#document-guides/packages/bootstrapping"><span class="doc std std-doc">bootstrapping script</span></a>.</p>
</section>
<span id="document-guides/packages/site-definitions"></span><section id="site-definitions">
<h4>Site definitions<a class="headerlink" href="#site-definitions" title="Link to this heading">¬∂</a></h4>
<p>The following outlines the details for defining supported site definitions.
If attempting to use an extension-provided site type, please refer to the
documentation provided by the extension.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>All site values can be defined with a unique prefix value (e.g. <code class="docutils literal notranslate"><span class="pre">git+</span></code> for
Git sources); however, this is optional if a package wishes to use the
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-vcs-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code></span></a> option.</p>
</div>
<section id="breezy-site">
<span id="site-breezy"></span><h5>Breezy site<a class="headerlink" href="#breezy-site" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<p>To define a <a class="reference external" href="https://www.breezy-vcs.org/">Breezy</a>-based location, the site value must be
prefixed with a <code class="docutils literal notranslate"><span class="pre">brz+</span></code> value. A site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;brz+https://example.com/project/trunk&#39;</span>
<span class="c1"># (or)</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;brz+lp:&lt;project&gt;&#39;</span>
</pre></div>
</div>
<p>The value after the prefix is a path which will be provided to a <code class="docutils literal notranslate"><span class="pre">brz</span> <span class="pre">export</span></code>
call <a class="footnote-reference brackets" href="#brzexport" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. Content from a Bazaar or Git repository will be fetched and
archived into a file during fetch stage. Once a cached archive is made, the
fetch stage will be skipped unless the archive is manually removed.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio" /><label class="tab-label" for="tab-set--2-input--1">Tagged Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.0 tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;tag:v$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;brz+https://example.com/project/trunk&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.0&#39;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio" /><label class="tab-label" for="tab-set--2-input--2">Branch Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning the latest trunk branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;-1&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;brz+https://example.com/project/trunk&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="bazaar-site">
<span id="site-bazaar"></span><h5>Bazaar site<a class="headerlink" href="#bazaar-site" title="Link to this heading">¬∂</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>Support for Bazaar sites is deprecated.</p>
</div>
<p>To define a <a class="reference external" href="https://wikipedia.org/wiki/GNU_Bazaar">Bazaar</a>-based location, the site value must be
prefixed with a <code class="docutils literal notranslate"><span class="pre">bzr+</span></code> value. A site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;bzr+ssh://example.com/project/trunk&#39;</span>
<span class="c1"># (or)</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;bzr+lp:&lt;project&gt;&#39;</span>
</pre></div>
</div>
<p>The value after the prefix is a path which will be provided to a <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">export</span></code>
call <a class="footnote-reference brackets" href="#bzrexport" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>. Content from a Bazaar repository will be fetched and
archived into a file during fetch stage. Once a cached archive is made, the
fetch stage will be skipped unless the archive is manually removed.</p>
</section>
<section id="cvs-site">
<span id="site-cvs"></span><h5>CVS site<a class="headerlink" href="#cvs-site" title="Link to this heading">¬∂</a></h5>
<p>To define a <a class="reference external" href="http://cvs.nongnu.org/">CVS</a>-based location, the site value must be prefixed
with a <code class="docutils literal notranslate"><span class="pre">cvs+</span></code> or other common CVSROOT value. A site can be defined as
follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;:pserver:anonymous@cvs.example.com:/var/lib/cvsroot mymodule&#39;</span>
<span class="c1"># (or)</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;cvs+:ext:cvs@cvs.example.org:/usr/local/cvsroot mymodule&#39;</span>
</pre></div>
</div>
<p>The value after the prefix is a space-separated pair, where the first part
represents the CVSROOT <a class="footnote-reference brackets" href="#cvsroot" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> to use and the second part specifies the
CVS module <a class="footnote-reference brackets" href="#cvsmodule" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>  to use. Content from a CVS repository will be
fetched and archived into a file during fetch stage. Once a cached archive
is made, the fetch stage will be skipped unless the archive is manually
removed.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio" /><label class="tab-label" for="tab-set--3-input--1">Tagged Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a libfoo-1.2.3 tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;libfoo-$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;:pserver:anonymous@cvs.example.com:/var/lib/cvsroot libfoo&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.2.3&#39;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio" /><label class="tab-label" for="tab-set--3-input--2">Branch Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.x LTS branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;lts-1.x&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;:pserver:anonymous@cvs.example.com:/var/lib/cvsroot libfoo&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="file-site">
<span id="site-file"></span><h5>File site<a class="headerlink" href="#file-site" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.0.</span></p>
</div>
<p>Site type dedicated for accepting a file uniform resource identifier
(<code class="docutils literal notranslate"><span class="pre">file://</span></code>). The site value also accepts the <code class="docutils literal notranslate"><span class="pre">file+</span></code> prefix.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;file:///mnt/share/libfoo.tgz&#39;</span>
<span class="c1"># (or)</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;file+/mnt/share/libfoo.tgz&#39;</span>
</pre></div>
</div>
</section>
<section id="git-site">
<span id="site-git"></span><h5>Git site<a class="headerlink" href="#git-site" title="Link to this heading">¬∂</a></h5>
<p>To define a <a class="reference external" href="https://git-scm.com/">Git</a>-based location, the site value must be prefixed with
a <code class="docutils literal notranslate"><span class="pre">git+</span></code> value or postfixed with the <code class="docutils literal notranslate"><span class="pre">.git</span></code> value. A site can be defined
as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/libfoo.git&#39;</span>
<span class="c1"># (or)</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git+git@example.com:base/libfoo.git&#39;</span>
</pre></div>
</div>
<p>The site value (less prefix, if used) is used as a Git remote <a class="footnote-reference brackets" href="#gitremote" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a>
for a locally managed cache source. Git sources will be cached inside the
<code class="docutils literal notranslate"><span class="pre">cache</span></code> directory on first-run. Future runs to fetch a project‚Äôs source
will use the cached Git file system. If a desired revision exists, content
will be acquired from the cache location. If a desired revision does not
exist, the origin remote will be fetched for the new revision (if it exists).</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio" /><label class="tab-label" for="tab-set--4-input--1">Tagged Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.2.3 tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git+git@example.com:base/libfoo.git&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.2.3&#39;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio" /><label class="tab-label" for="tab-set--4-input--2">Branch Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.x LTS branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;lts-1.x&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/libfoo.git&#39;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--3" name="tab-set--4" type="radio" /><label class="tab-label" for="tab-set--4-input--3">Commit Hash Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning with a commit hash:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;da39a3ee5e6b4b0d3255bfef95601890afd80709&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git+ssh://git.example.com/group/libfoo.git&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="local-site">
<span id="site-local"></span><h5>Local site<a class="headerlink" href="#local-site" title="Link to this heading">¬∂</a></h5>
<p>To define a package to use local site/sources, the site value can be set
to <code class="docutils literal notranslate"><span class="pre">local</span></code>. A local site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;local&#39;</span>
</pre></div>
</div>
<p>This is equivalent to configuring <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-vcs-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code></span></a>
to a <code class="docutils literal notranslate"><span class="pre">local</span></code> VCS type as well. Note that a local package is intended for
development/testing/training purposes. See
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-vcs-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code></span></a> for more information.</p>
</section>
<section id="mercurial-site">
<span id="site-mercurial"></span><h5>Mercurial site<a class="headerlink" href="#mercurial-site" title="Link to this heading">¬∂</a></h5>
<p>To define a <a class="reference external" href="https://www.mercurial-scm.org/">Mercurial</a>-based location, the site value must be
prefixed with a <code class="docutils literal notranslate"><span class="pre">hg+</span></code> value. A site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;hg+https://example.com/project&#39;</span>
</pre></div>
</div>
<p>The value after the prefix is used as the <code class="docutils literal notranslate"><span class="pre">SOURCE</span></code> in an <code class="docutils literal notranslate"><span class="pre">hg</span> <span class="pre">clone</span></code> call
<a class="footnote-reference brackets" href="#hgclone" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>6<span class="fn-bracket">]</span></a>. Mercurial sources will be cached inside the <code class="docutils literal notranslate"><span class="pre">cache</span></code> directory on
first-run. Future runs to fetch a project‚Äôs source will use the cached Mercurial
repository. If a desired revision exists, content will be acquired from the
cache location. If a desired revision does not exist, the origin remote will be
pulled for the new revision (if it exists).</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio" /><label class="tab-label" for="tab-set--5-input--1">Tagged Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.2.3 tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;hg+https://hg.example.org/repo/hello&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.2.3&#39;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio" /><label class="tab-label" for="tab-set--5-input--2">Branch Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.x LTS branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;lts-1.x&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;hg+https://hg.example.org/repo/hello&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="perforce-site">
<span id="site-perforce"></span><h5>Perforce site<a class="headerlink" href="#perforce-site" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<p>To define a Perforce-based location, the site value must be prefixed with
an <code class="docutils literal notranslate"><span class="pre">perforce+</span></code> value. A site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;perforce+srcs.example.com:1666 //base/libfoo/main&#39;</span>
<span class="c1"># (or)</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;perforce+guest@tcp4:perforce.example.org:1666 //guest/libfoo&#39;</span>
</pre></div>
</div>
<p>The value after the prefix is a space-separated pair, where the first part
represents the Perforce service (<code class="docutils literal notranslate"><span class="pre">P4PORT</span></code> <a class="footnote-reference brackets" href="#p4port" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>7<span class="fn-bracket">]</span></a>) to use and the second
part specifies the Perforce depot path. Perforce data is fetched using
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">p4</span> <span class="pre">&lt;option&gt;</span></code> <a class="footnote-reference brackets" href="#git-p4" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>8<span class="fn-bracket">]</span></a> command. This requires a host to have both
<a class="reference external" href="https://git-scm.com/">Git</a> and Perforce‚Äôs <a class="reference external" href="https://www.perforce.com/manuals/p4guide/Content/P4Guide/chapter.install.html">Helix Command-Line Client (P4)</a>
installed. Content from a Perforce depot will be fetched and archived into
a file during fetch stage. Once a cached archive is made, the fetch stage
ill be skipped unless the archive is manually removed.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio" /><label class="tab-label" for="tab-set--6-input--1">Revision Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning the 27574 revision:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;perforce+srcs.example.com:1666 //base/libfoo/main&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;27574&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="rsync-site">
<span id="site-rsync"></span><h5>rsync site<a class="headerlink" href="#rsync-site" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.</span></p>
</div>
<p>To define an rsync-based location, the site value must be prefixed with an
<code class="docutils literal notranslate"><span class="pre">rsync+</span></code> value. A site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;rsync+&lt;source&gt;&#39;</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">&lt;source&gt;</span></code> will be provided to a <code class="docutils literal notranslate"><span class="pre">rsync</span></code> call‚Äôs <a class="footnote-reference brackets" href="#rsynccommand" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>9<span class="fn-bracket">]</span></a>
<code class="docutils literal notranslate"><span class="pre">SRC</span></code> value. Fetched content will be stored in an archive inside the <code class="docutils literal notranslate"><span class="pre">dl</span></code>
directory. Once fetched, the fetch stage will be skipped unless the archive
is manually removed. By default, the <code class="docutils literal notranslate"><span class="pre">--recursive</span></code> argument is applied.
Adding or replacing options can be done by using the
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fetch-opts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FETCH_OPTS</span></code></span></a> option.</p>
</section>
<section id="scp-site">
<span id="site-scp"></span><h5>SCP site<a class="headerlink" href="#scp-site" title="Link to this heading">¬∂</a></h5>
<p>To define an SCP-based location, the site value must be prefixed with a <code class="docutils literal notranslate"><span class="pre">scp+</span></code>
value. A site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;scp+[user@]host:]file&#39;</span>
</pre></div>
</div>
<p>The value after the prefix is a path which will be provided to a <code class="docutils literal notranslate"><span class="pre">scp</span></code> call‚Äôs
<a class="footnote-reference brackets" href="#scpcommand" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>10<span class="fn-bracket">]</span></a> source host value. The SCP site only supports copying a file from
a remote host. The fetched file will be stored inside the <code class="docutils literal notranslate"><span class="pre">dl</span></code> directory. Once
fetched, the fetch stage will be skipped unless the file is manually removed.</p>
</section>
<section id="svn-site">
<span id="site-svn"></span><h5>SVN site<a class="headerlink" href="#svn-site" title="Link to this heading">¬∂</a></h5>
<p>To define a <a class="reference external" href="https://subversion.apache.org/">Subversion</a>-based location, the site value must be
prefixed with a <code class="docutils literal notranslate"><span class="pre">svn+</span></code> value. A site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;svn+https://svn.example.com/repos/libfoo/c/branches/libfoo-1.2&#39;</span>
</pre></div>
</div>
<p>The value after the prefix is a path which will be provided to a
<code class="docutils literal notranslate"><span class="pre">svn</span> <span class="pre">checkout</span></code> call <a class="footnote-reference brackets" href="#svncheckout" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>11<span class="fn-bracket">]</span></a>. Content from a Subversion repository will
be fetched and archived into a file during fetch stage. Once a cached archive
is made, the fetch stage will be skipped unless the archive is manually removed.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio" /><label class="tab-label" for="tab-set--7-input--1">Explicit Tagged Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.2.3 tag with a fixed SVN
revision value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="mi">46801</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;svn+https://svn.example.com/repos/libfoo/c/tags/$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.2.3&#39;</span>
</pre></div>
</div>
<p>This ensures a fixed/repeatable clone experience.</p>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio" /><label class="tab-label" for="tab-set--7-input--2">Flexible Tagged Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.2.3 tag with a flexible
revision value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;HEAD&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;svn+https://svn.example.com/repos/libfoo/c/tags/$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.2.3&#39;</span>
</pre></div>
</div>
<p>Provides a simple definition to clone a tag without needing to determine an
explicit SVN revision. This approach supports moved tags.</p>
</div>
<input class="tab-input" id="tab-set--7-input--3" name="tab-set--7" type="radio" /><label class="tab-label" for="tab-set--7-input--3">Branch Clone</label><div class="tab-content docutils">
<p>The following shows an example of cloning a v1.x LTS branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;HEAD&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;svn+https://svn.example.com/repos/libfoo/c/branches/1.x-lts&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="url-site-default">
<span id="site-url"></span><h5>URL site (default)<a class="headerlink" href="#url-site-default" title="Link to this heading">¬∂</a></h5>
<p>All packages that do not define a helper prefix/postfix value (as seen
in other site definitions) or do not explicitly set a
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-vcs-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code></span></a> value (other than <code class="docutils literal notranslate"><span class="pre">url</span></code>), will be
considered a URL site. A URL site can be defined as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/my-file&#39;</span>
</pre></div>
</div>
<p>The site value provided will be directly used in a URL request. URL values
supported are defined by the Python‚Äôs <code class="docutils literal notranslate"><span class="pre">urlopen</span></code> implementation <a class="footnote-reference brackets" href="#urlopen" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>12<span class="fn-bracket">]</span></a>,
which includes (but not limited to) <code class="docutils literal notranslate"><span class="pre">http(s)://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp://</span></code> and more.</p>
<p>See also <a class="reference internal" href="#document-guides/configuration#conf-urlopen-context"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">urlopen_context</span></code></span></a>.</p>
</section>
</section>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="brzexport" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.breezy-vcs.org/doc/en/user-reference/export-help.html">https://www.breezy-vcs.org/doc/en/user-reference/export-help.html</a></p>
</aside>
<aside class="footnote brackets" id="bzrexport" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://web.archive.org/web/http://doc.bazaar.canonical.com/bzr.2.7/en/user-reference/export-help.html">https://web.archive.org/web/http://doc.bazaar.canonical.com/bzr.2.7/en/user-reference/export-help.html</a></p>
</aside>
<aside class="footnote brackets" id="cvsroot" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.gnu.org/software/trans-coord/manual/cvs/html_node/Specifying-a-repository.html">https://www.gnu.org/software/trans-coord/manual/cvs/html_node/Specifying-a-repository.html</a></p>
</aside>
<aside class="footnote brackets" id="cvsmodule" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">4</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.gnu.org/software/trans-coord/manual/cvs/html_node/checkout.html#checkout">https://www.gnu.org/software/trans-coord/manual/cvs/html_node/checkout.html#checkout</a></p>
</aside>
<aside class="footnote brackets" id="gitremote" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">5</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://git-scm.com/docs/git-remote">https://git-scm.com/docs/git-remote</a></p>
</aside>
<aside class="footnote brackets" id="hgclone" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">6</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.mercurial-scm.org/help/commands/clone">https://www.mercurial-scm.org/help/commands/clone</a></p>
</aside>
<aside class="footnote brackets" id="p4port" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">7</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.perforce.com/manuals/cmdref/Content/CmdRef/P4PORT.html">https://www.perforce.com/manuals/cmdref/Content/CmdRef/P4PORT.html</a></p>
</aside>
<aside class="footnote brackets" id="git-p4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">8</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://git-scm.com/docs/git-p4">https://git-scm.com/docs/git-p4</a></p>
</aside>
<aside class="footnote brackets" id="rsynccommand" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">9</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://linux.die.net/man/1/rsync">https://linux.die.net/man/1/rsync</a></p>
</aside>
<aside class="footnote brackets" id="scpcommand" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">10</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://linux.die.net/man/1/scp">https://linux.die.net/man/1/scp</a></p>
</aside>
<aside class="footnote brackets" id="svncheckout" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">11</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.checkout.html">http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.checkout.html</a></p>
</aside>
<aside class="footnote brackets" id="urlopen" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id12">12</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://docs.python.org/library/urllib.request.html#urllib.request.urlopen">https://docs.python.org/library/urllib.request.html#urllib.request.urlopen</a></p>
</aside>
</aside>
<span id="document-guides/packages/hash-file"></span><section id="hash-file">
<h4>Hash file<a class="headerlink" href="#hash-file" title="Link to this heading">¬∂</a></h4>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>An alternative to using a hash to validate a package‚Äôs cache is to use an
<a class="reference internal" href="#document-guides/packages/ascii-armor"><span class="doc std std-doc">ASCII-armor</span></a> instead. Although users can benefit from
using both validation methods, if desired.</p>
</div>
<p>When downloading assets from a remote instance, a package‚Äôs hash file can be
used to help verify the integrity of any fetched content. For example, if a
package lists a site with a <code class="docutils literal notranslate"><span class="pre">my-archive.tgz</span></code> to download, the fetch process
will download the archive and verify its hash to a listed entry before
continuing. If a hash does not match, the build process stops indicating an
unexpected asset was downloaded.</p>
<p>It is recommended that:</p>
<ul class="simple">
<li><p>Any URL-based site asset have a hash entry defined for the asset (to ensure
the package sources are not corrupted or have been unexpectedly replaced).</p></li>
<li><p>A hash entry should exist for license files (additional sanity check if a
package‚Äôs license has change).</p></li>
</ul>
<p>To create a hash file for a package, add a <code class="docutils literal notranslate"><span class="pre">&lt;my-package&gt;.hash</span></code> file
inside the package‚Äôs directory. For example, for a <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> package, the
following would be expected:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.hash           &lt;----
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ...
</pre></div>
</div>
<p>The hash file should be a UTF-8 encoded file and can contain multiple hash
entries. A hash entry is a 3-tuple defining the type of hash algorithm
used, the hash value expected and the asset associated with the hash. A
tuple entry is defined on a single line with each entry separated by
whitespace characters. For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># from project&#39;s release notes: https://example.com/release-notes
sha1 f606cb022b86086407ad735bf4ec83478dc0a2c5 my-archive.tgz
# locally computed
sha1 602effb4893c7504ffee8a8efcd265d86cd21609 LICENSE
</pre></div>
</div>
<p>Comments are permitted in the file. Lines leading with a <code class="docutils literal notranslate"><span class="pre">#</span></code> character or
inlined leading <code class="docutils literal notranslate"><span class="pre">#</span></code> character after a whitespace character will be ignored.</p>
<p>Supported hash types will vary on the Python interpreter <a class="footnote-reference brackets" href="#hashlib" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> used.
Typically, this include FIPS secure hash algorithms (e.g. <code class="docutils literal notranslate"><span class="pre">sha1</span></code>,
<code class="docutils literal notranslate"><span class="pre">sha224</span></code>, <code class="docutils literal notranslate"><span class="pre">sha256</span></code>, <code class="docutils literal notranslate"><span class="pre">sha384</span></code> and <code class="docutils literal notranslate"><span class="pre">sha512</span></code>) as well as (but not
recommended) RSA‚ÄôS MD5 algorithm. For hash algorithms requiring a key length,
a user can define a hash entry using the format <code class="docutils literal notranslate"><span class="pre">&lt;hash-type&gt;:&lt;key-length&gt;</span></code>.
For example, <code class="docutils literal notranslate"><span class="pre">shake_128:32</span></code>. Other algorithms may be used if provided by
the system‚Äôs OpenSSL library.</p>
<p>Multiple hash entries can be provided for the same file if desired. This
is to assist in scenarios where a checked out asset‚Äôs content changes based
on the system it is checked out on. For example, a text file checked out
from Git may use Windows line-ending on Windows system, and Unix-line
endings on other systems:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sha1 602effb4893c7504ffee8a8efcd265d86cd21609 LICENSE
sha1 9e79b84ef32e911f8056d80a311cf281b2121469 LICENSE
</pre></div>
</div>
<p>If operating in a <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a> where an
external package is configured with an alternative revision, hash checks
for a package can fail. A developer can override hash checks for a
specific revision by adding an additional file in the package directory.
The format is <code class="docutils literal notranslate"><span class="pre">libfoo.hash-&lt;revision&gt;</span></code>. For example, if a development
run points to a package revision <code class="docutils literal notranslate"><span class="pre">canary</span></code>, if a file named
<code class="docutils literal notranslate"><span class="pre">libfoo.hash-canary</span></code> exists, it will be used as the source of hashes for
this revision.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.hash
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.hash-canary    &lt;----
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ...
</pre></div>
</div>
</section>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="hashlib" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://docs.python.org/library/hashlib.html">https://docs.python.org/library/hashlib.html</a></p>
</aside>
</aside>
<span id="document-guides/packages/ascii-armor"></span><section id="ascii-armor">
<h4>ASCII armor<a class="headerlink" href="#ascii-armor" title="Link to this heading">¬∂</a></h4>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>An alternative to using an ASCII-armor to validate a package‚Äôs cache is to
use <a class="reference internal" href="#document-guides/packages/hash-file"><span class="doc std std-doc">hashes</span></a> instead.</p>
</div>
<p>When downloading assets from a remote instance, an ASCII-armor file can be
used to help verify the integrity of any fetched content. For example, if
a package lists a site with a <code class="docutils literal notranslate"><span class="pre">my-archive.tgz</span></code> to download, the fetch
process will download the archive and verify its contents with an associated
ASCII-armor file (if one is provided). If the integrity of the file cannot
be verified, the build process stops indicating an unexpected asset was
downloaded.</p>
<p>To include an ASCII-armor file for a package, add a <code class="docutils literal notranslate"><span class="pre">&lt;my-package&gt;.asc</span></code>
file inside the package‚Äôs directory. For example, for a <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> package,
the following would be expected:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.asc            &lt;----
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.rt
    ...
</pre></div>
</div>
<p>Verification is performed using the host system‚Äôs <code class="docutils literal notranslate"><span class="pre">gpg</span></code>. For
verification‚Äôs to succeed, the system must already have the required
public keys registered.</p>
</section>
<span id="document-guides/packages/pkg-type-script"></span><section id="script-package-default">
<h4>Script package (default)<a class="headerlink" href="#script-package-default" title="Link to this heading">¬∂</a></h4>
<p>A script-based package is the most basic package type available. By default,
packages are considered to be script packages unless explicitly configured
to be another package type (<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_TYPE</span></code></span></a>). If a developer
wishes to explicitly configure a project as script-based, the following
configuration can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;script&#39;</span>
</pre></div>
</div>
<p>A script package has the ability to define three Python stage scripts:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-configure.rt</span></code> - script to invoke during the configuration stage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-build.rt</span></code> - script to invoke during the build stage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-install.rt</span></code> - script to invoke during the installation stage</p></li>
</ul>
<p>For example, a <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> package would have the following files for a
script-based package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.rt
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo-build.rt
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo-configure.rt
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-install.rt
    ...
</pre></div>
</div>
<p>An example build script (<code class="docutils literal notranslate"><span class="pre">libfoo-build.rt</span></code>) can be as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_execute</span><span class="p">([</span><span class="s1">&#39;make&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>When a package performs a configuration, build or installation stage; the
respective script (mentioned above) will be invoked. Package scripts are
optional. If a script is not provided for a stage, the stage will be
skipped.</p>
<p>See also <a class="reference internal" href="#document-guides/script-helpers"><span class="doc std std-doc">script helpers</span></a> for helper functions and
variables available for use, as well as <a class="reference internal" href="#document-guides/packages/bootstrapping"><span class="doc std std-doc">bootstrapping</span></a> or
<a class="reference internal" href="#document-guides/packages/post-processing"><span class="doc std std-doc">post-processing</span></a> for more stage script support.</p>
</section>
<span id="document-guides/packages/pkg-type-autotools"></span><section id="autotools-package">
<h4>Autotools package<a class="headerlink" href="#autotools-package" title="Link to this heading">¬∂</a></h4>
<p>An Autotools package provides support for processing a
<a class="reference external" href="https://www.gnu.org/software/automake/manual/html_node/index.html">GNU Build System</a> supported module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;autotools&#39;</span>
</pre></div>
</div>
<p>The following shows the default arguments used in stages and outlines
configuration options that are available for an Autotools package to set.
See also the <a class="reference internal" href="#document-examples/examples-autotools"><span class="doc std std-doc">Autotools package examples</span></a>.
All stages are invoked with a <a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a>
working directory.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio" /><label class="tab-label" for="tab-set--8-input--1">Configuration</label><div class="tab-content docutils">
<p>The configuration stage will invoke <code class="docutils literal notranslate"><span class="pre">./configure</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>./configure --exec-prefix &lt;PREFIX&gt; --prefix &lt;PREFIX&gt;
</pre></div>
</div>
<p>The prefix arguments are configured to <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREFIX</span></code></span></a>.</p>
<p>If <a class="reference internal" href="#pkg-opt-autotools-autoreconf"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_AUTOTOOLS_AUTORECONF</span></code></span></a> is configured,
<code class="docutils literal notranslate"><span class="pre">autoreconf</span></code> will be invoked before <code class="docutils literal notranslate"><span class="pre">./configure</span></code> is started:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>autoreconf
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio" /><label class="tab-label" for="tab-set--8-input--2">Build</label><div class="tab-content docutils">
<p>The build stage invokes <code class="docutils literal notranslate"><span class="pre">make</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make --jobs &lt;NJOBS&gt;
</pre></div>
</div>
<p>The number of jobs is populated by either the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a>,
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>. Although, if the configuration results
in a single job, the argument will not be used.</p>
</div>
<input class="tab-input" id="tab-set--8-input--3" name="tab-set--8" type="radio" /><label class="tab-label" for="tab-set--8-input--3">Install</label><div class="tab-content docutils">
<p>The install stage invokes <code class="docutils literal notranslate"><span class="pre">make</span></code> with an <code class="docutils literal notranslate"><span class="pre">install</span></code> target:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make install
</pre></div>
</div>
<p>With the following environment variables set:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DESTDIR=&lt;TARGET_DIR&gt;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code> path will be set to the target sysroot the package should
install into (see also <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>).
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> may be invoked multiple times for each target it needs to
install into.</p>
<p>If a package defines install options, the <code class="docutils literal notranslate"><span class="pre">install</span></code> target is not provided
by default.</p>
</div>
</div>
<section id="libfoo-autotools-autoreconf">
<span id="pkg-opt-autotools-autoreconf"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_AUTOTOOLS_AUTORECONF</span></code><a class="headerlink" href="#libfoo-autotools-autoreconf" title="Link to this heading">¬∂</a></h5>
<p>Specifies whether the package needs to perform an Autotools
re-configuration. This is to assist in the rebuilding of GNU Build System
files which may be broken or a patch has introduced new build script
changes that need to be applied. This field is optional. By default,
<code class="docutils literal notranslate"><span class="pre">autoreconf</span></code> is not invoked.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_AUTOTOOLS_AUTORECONF</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-defs">
<span id="pkg-opt-autotools-build-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code><a class="headerlink" href="#libfoo-build-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the build process. This option
can is defined as a dictionary of string pairs. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-env">
<span id="pkg-opt-autotools-build-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code><a class="headerlink" href="#libfoo-build-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the build process. This
option is defined as a dictionary with key-value pairs where the key is the
environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-opts">
<span id="pkg-opt-autotools-build-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code><a class="headerlink" href="#libfoo-build-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the build process. This
option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the build event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-defs">
<span id="pkg-opt-autotools-conf-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code><a class="headerlink" href="#libfoo-conf-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the configuration process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-env">
<span id="pkg-opt-autotools-conf-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code><a class="headerlink" href="#libfoo-conf-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the configuration process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-opts">
<span id="pkg-opt-autotools-conf-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code><a class="headerlink" href="#libfoo-conf-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the configuration process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in the
configuration event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-env">
<span id="pkg-opt-autotools-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code><a class="headerlink" href="#libfoo-env" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into all stages for a
package. This option is defined as a dictionary with key-value pairs where
the key is the environment name and the value is the environment variable‚Äôs
value. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-defs">
<span id="pkg-opt-autotools-install-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code><a class="headerlink" href="#libfoo-install-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the installation process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-env">
<span id="pkg-opt-autotools-install-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code><a class="headerlink" href="#libfoo-install-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the installation process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-opts">
<span id="pkg-opt-autotools-install-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code><a class="headerlink" href="#libfoo-install-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the installation process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the installation event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># include the &quot;install&quot; target to the command</span>
    <span class="s1">&#39;install&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># include the &quot;install&quot; target to the command</span>
    <span class="s1">&#39;install&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Defining custom install options will prevent the default <code class="docutils literal notranslate"><span class="pre">install</span></code> target from
being added. Users looking to utilize the <code class="docutils literal notranslate"><span class="pre">install</span></code> target for the install
stage with custom arguments should explicitly include the <code class="docutils literal notranslate"><span class="pre">install</span></code> target in
their options.</p>
</section>
</section>
<span id="document-guides/packages/pkg-type-cargo"></span><section id="cargo-package">
<h4>Cargo package<a class="headerlink" href="#cargo-package" title="Link to this heading">¬∂</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Added support for dependency patching.</p>
</div>
<p>A Cargo package provides support for processing a <a class="reference external" href="https://doc.rust-lang.org/cargo/">Cargo</a> supported
module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;cargo&#39;</span>
</pre></div>
</div>
<p>During the configuration stage of a Cargo package, <code class="docutils literal notranslate"><span class="pre">cargo</span></code> will be invoked to
generate build files for the module. After fetching and extracting a package,
<code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">vendor</span></code> will be invoked to download any defined dependencies defined
in <code class="docutils literal notranslate"><span class="pre">Cargo.toml</span></code>. After all dependencies are acquired, a build stage will
be triggered using <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span></code>, followed by an installation stage using
<code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">install</span></code>. Each stage can be configured to manipulate environment
variables and options used by the Cargo executable.</p>
<p>Cargo packages are handled a bit differently compared to other package
types. In order to support having Cargo application packages work with
library dependencies managed in a releng-tool project, all Cargo packages
in play will need to be extracted ahead of time before any individual
Cargo package can be built.</p>
<p>For any Cargo package that defines a dependency to another Cargo package
that is defined inside a releng-tool project, dependencies will be
automatically <a class="reference external" href="https://doc.rust-lang.org/cargo/reference/config.html#patch">patched</a> to use the local package definition.</p>
<p>The following shows the default arguments used in stages and outlines
configuration options that are available for an Cargo package to set.
See also the <a class="reference internal" href="#document-examples/examples-cargo"><span class="doc std std-doc">Cargo package examples</span></a>. All stages
are invoked with:</p>
<ul class="simple">
<li><p>A <a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a> working directory.</p></li>
<li><p>The environment variable <code class="docutils literal notranslate"><span class="pre">CARGO_HOME</span></code> set to <code class="docutils literal notranslate"><span class="pre">&lt;CACHE_DIR&gt;/.cargo</span></code>
(see also <a class="reference internal" href="#document-guides/environment#env-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">CACHE_DIR</span></code></span></a>).</p></li>
</ul>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--9-input--1" name="tab-set--9" type="radio" /><label class="tab-label" for="tab-set--9-input--1">Configuration</label><div class="tab-content docutils">
<p>Cargo package do not have a configuration stage.</p>
</div>
<input class="tab-input" id="tab-set--9-input--2" name="tab-set--9" type="radio" /><label class="tab-label" for="tab-set--9-input--2">Build</label><div class="tab-content docutils">
<p>The build stage invokes <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">build</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cargo build \
    --locked \
    --manifest-path Cargo.toml \
    --offline \
    --release \
    --target-dir &lt;CARGO_STAGING_DIR&gt;
</pre></div>
</div>
<p>With the following environment variables set:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CARGO_BUILD_JOBS=&lt;NJOBS&gt;
</pre></div>
</div>
<p>If <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-vcs-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code></span></a> is configured to <code class="docutils literal notranslate"><span class="pre">local</span></code>, the
<code class="docutils literal notranslate"><span class="pre">--locked</span></code> argument is not provided by default.</p>
<p>If a package defines build options that define a build profile (<code class="docutils literal notranslate"><span class="pre">--profile</span></code>),
the <code class="docutils literal notranslate"><span class="pre">--release</span></code> argument is not provided by default.</p>
<p>The Cargo target directory is based on <a class="reference internal" href="#document-guides/environment#env-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">BUILD_DIR</span></code></span></a> and
<code class="docutils literal notranslate"><span class="pre">.releng-tool-cargo-target</span></code> folder:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/build/.releng-tool-cargo-target
</pre></div>
</div>
<p>The environment variable <code class="docutils literal notranslate"><span class="pre">CARGO_BUILD_JOBS</span></code> is populated by either the
<a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a>, <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>.</p>
</div>
<input class="tab-input" id="tab-set--9-input--3" name="tab-set--9" type="radio" /><label class="tab-label" for="tab-set--9-input--3">Install</label><div class="tab-content docutils">
<p>The install stage invokes <code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">install</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cargo install \
    --force \
    --locked \
    --no-track \
    --offline \
    --path . \
    --root &lt;TARGET_DIR&gt; \
    --target-dir &lt;CARGO_STAGING_DIR&gt;
</pre></div>
</div>
<p>The Cargo target directory is based on <a class="reference internal" href="#document-guides/environment#env-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">BUILD_DIR</span></code></span></a> and
<code class="docutils literal notranslate"><span class="pre">.releng-tool-cargo-target</span></code> folder:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/build/.releng-tool-cargo-target
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--root</span></code> path will be set to the target sysroot the package should
install into (see also <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>).
<code class="docutils literal notranslate"><span class="pre">cargo</span> <span class="pre">install</span></code> may be invoked multiple times for each target it needs to
install into. Although, if a package defines build options that define a root
path (<code class="docutils literal notranslate"><span class="pre">--root</span></code>), an install is only invoked once with the provided path.</p>
<p>The installation stage can be skipped by configuring
<a class="reference internal" href="#pkg-opt-cargo-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CARGO_NOINSTALL</span></code></span></a>.</p>
</div>
</div>
<section id="libfoo-build-defs">
<span id="pkg-opt-cargo-build-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code><a class="headerlink" href="#libfoo-build-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the build process. This option
can is defined as a dictionary of string pairs. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;-Doption=value&quot; to the command</span>
    <span class="s1">&#39;option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-env">
<span id="pkg-opt-cargo-build-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code><a class="headerlink" href="#libfoo-build-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the build process. This
option is defined as a dictionary with key-value pairs where the key is the
environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-opts">
<span id="pkg-opt-cargo-build-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code><a class="headerlink" href="#libfoo-build-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the build process. This
option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the build event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-cargo-name">
<span id="pkg-opt-cargo-name"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CARGO_NAME</span></code><a class="headerlink" href="#libfoo-cargo-name" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<p>Provides an explicit name to use for a Cargo package. By default, the used
Cargo name is assumed to be the same as the package name used in releng-tool.
If the names do not match, it is recommended to explicitly set the package
name as it will be used to patch package dependencies together.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CARGO_NAME</span> <span class="o">=</span> <span class="s1">&#39;example-name&#39;</span>
</pre></div>
</div>
</section>
<section id="libfoo-cargo-noinstall">
<span id="pkg-opt-cargo-noinstall"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CARGO_NOINSTALL</span></code><a class="headerlink" href="#libfoo-cargo-noinstall" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<p>Specifies whether the Cargo package should skip an attempt to invoke the
install command. This option can be helpful when defining a Cargo package
that is used as a library (instead of a full application).
By default, the installation stage is invoked with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CARGO_NOINSTALL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="libfoo-env">
<span id="pkg-opt-cargo-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code><a class="headerlink" href="#libfoo-env" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into all stages for a
package. This option is defined as a dictionary with key-value pairs where
the key is the environment name and the value is the environment variable‚Äôs
value. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-defs">
<span id="pkg-opt-cargo-install-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code><a class="headerlink" href="#libfoo-install-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the installation process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-env">
<span id="pkg-opt-cargo-install-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code><a class="headerlink" href="#libfoo-install-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the installation process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-opts">
<span id="pkg-opt-cargo-install-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code><a class="headerlink" href="#libfoo-install-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the installation process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the installation event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<span id="document-guides/packages/pkg-type-cmake"></span><section id="cmake-package">
<h4>CMake package<a class="headerlink" href="#cmake-package" title="Link to this heading">¬∂</a></h4>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.6: </span>releng-tool now populates <code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code>.</p>
</div>
<p>A CMake package provides support for processing a <a class="reference external" href="https://cmake.org/">CMake</a> supported
module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;cmake&#39;</span>
</pre></div>
</div>
<p>During the configuration stage of a CMake package, <code class="docutils literal notranslate"><span class="pre">cmake</span></code> will be invoked to
generate build files for the module. For the build stage, <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--build</span></code> will
invoke the generated build files. Similar approach for the installation stage
where the build option is invoked again but with the <code class="docutils literal notranslate"><span class="pre">install</span></code> target invoked:
<code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--build</span> <span class="pre">--target</span> <span class="pre">install</span></code>. Each stage can be configured to manipulate
environment variables and options used by the CMake executable.</p>
<p>The default configuration built for projects is <code class="docutils literal notranslate"><span class="pre">RelWithDebInfo</span></code>. A developer
can override this option by explicitly adjusting the configuration option
<code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code> to, for example, <code class="docutils literal notranslate"><span class="pre">Debug</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CMAKE_BUILD_TYPE</span> <span class="o">=</span> <span class="s1">&#39;Debug&#39;</span>
</pre></div>
</div>
<p>Packages can be configured with a toolchain using with the define
<a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_TOOLCHAIN_FILE.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_TOOLCHAIN_FILE</span></code></a> (via
<a class="reference internal" href="#pkg-opt-cmake-conf-defs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code></span></a>) or using the command line option
<a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake.1.html#cmdoption-cmake-toolchain"><code class="docutils literal notranslate"><span class="pre">--toolchain</span></code></a> (via
<a class="reference internal" href="#pkg-opt-cmake-conf-opts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code></span></a>). releng-tool will provide
required staging/target paths through the
<a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_FIND_ROOT_PATH.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code></a> configuration. Ensure the
toolchain configuration accepts <code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code> hints. For example,
using either:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">APPEND</span> <span class="n">CMAKE_FIND_ROOT_PATH</span> <span class="s2">&quot;INTERNAL_SDK_PATH&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="n">NOT</span> <span class="n">DEFINED</span> <span class="n">CMAKE_FIND_ROOT_PATH</span><span class="p">)</span>
    <span class="nb">set</span><span class="p">(</span><span class="n">CMAKE_FIND_ROOT_PATH</span> <span class="s2">&quot;INTERNAL_SDK_PATH&quot;</span><span class="p">)</span>
<span class="n">endif</span><span class="p">()</span>
</pre></div>
</div>
<p>The following shows the default arguments used in stages and outlines
configuration options that are available for an CMake package to set.
See also the <a class="reference internal" href="#document-examples/examples-cmake"><span class="doc std std-doc">CMake package examples</span></a>. All stages
are invoked with a <a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a> working directory.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--10-input--1" name="tab-set--10" type="radio" /><label class="tab-label" for="tab-set--10-input--1">Configuration</label><div class="tab-content docutils">
<p>The configuration stage invokes <code class="docutils literal notranslate"><span class="pre">cmake</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmake -C &lt;RELENG-TOOL-CONFIG-CACHE&gt; &lt;PROJECT_DIR&gt;
</pre></div>
</div>
<p>With the configuration cache that populates the options:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CMAKE_&lt;LANG&gt;_STANDARD_INCLUDE_DIRECTORIES=&lt;INCLUDE_PATHS&gt;
CMAKE_BUILD_TYPE=&lt;BUILD_TYPE&gt;
CMAKE_FIND_ROOT_PATH=&lt;SYSROOT_PATHS&gt;
CMAKE_FIND_ROOT_PATH_MODE_PROGRAM=NEVER
CMAKE_INCLUDE_PATH=&lt;INCLUDE_PATHS&gt;
CMAKE_INSTALL_LIBDIR=&quot;lib&quot;
CMAKE_INSTALL_PREFIX=&lt;PREFIX&gt;
CMAKE_LIBRARY_PATH=&lt;LIBRARY_PATHS&gt;
CMAKE_MODULE_PATH=&lt;MODULE_PATHS&gt;
CMAKE_SKIP_INSTALL_ALL_DEPENDENCY=ON
</pre></div>
</div>
<p>The project directory is configured to <a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a>.</p>
<p>The build type is configured by
<a class="reference internal" href="#pkg-opt-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code></span></a>.</p>
<p>Paths may vary based on how the package‚Äôs
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a> is configured. System root paths
provided will only include the staging directory if <code class="docutils literal notranslate"><span class="pre">staging</span></code> is configured.
Both the staging and target directories are provided is the <code class="docutils literal notranslate"><span class="pre">target</span></code> is
configured. Likewise with the host directory if <code class="docutils literal notranslate"><span class="pre">host</span></code> is configured.</p>
<p>The same concepts apply for defined include (<code class="docutils literal notranslate"><span class="pre">&lt;sysroot&gt;[/&lt;prefix&gt;]/include</span></code>),
library (<code class="docutils literal notranslate"><span class="pre">&lt;sysroot&gt;[/&lt;prefix&gt;]/lib</span></code>) and module paths
(<code class="docutils literal notranslate"><span class="pre">&lt;sysroot&gt;[/&lt;prefix&gt;]/share/cmake/Modules</span></code>).</p>
<p>Packages may override default defines using the
<a class="reference internal" href="#pkg-opt-cmake-conf-defs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code></span></a> option.</p>
<p>A package may opt-out of configuring <code class="docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_STANDARD_INCLUDE_DIRECTORIES</span></code>
variables using the
<a class="reference internal" href="#document-guides/quirks/quirk-cmake-disable_direct_includes#quirk-releng-cmake-disable-direct-includes"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.cmake.disable_direct_includes</span></code></span></a>
quirk.</p>
</div>
<input class="tab-input" id="tab-set--10-input--2" name="tab-set--10" type="radio" /><label class="tab-label" for="tab-set--10-input--2">Build</label><div class="tab-content docutils">
<p>The build stage invokes <code class="docutils literal notranslate"><span class="pre">cmake</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmake --build &lt;BUILD_OUTPUT_DIR&gt; --config &lt;BUILD_TYPE&gt;
</pre></div>
</div>
<p>With the following environment variables set:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CMAKE_BUILD_PARALLEL_LEVEL=&lt;NJOBS&gt;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--build</span></code> directory is configured to
<a class="reference internal" href="#document-guides/environment#env-pkg-build-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code></span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--config</span></code> type is configured to the value defined for
<a class="reference internal" href="#pkg-opt-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code></span></a>. Although, this option
may not be applicable/used in all build environments.</p>
<p>The environment variable <code class="docutils literal notranslate"><span class="pre">CMAKE_BUILD_PARALLEL_LEVEL</span></code> is populated by either
the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a>, <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>. Although, if the configuration results
in a single job, the environment variable will not be set.</p>
</div>
<input class="tab-input" id="tab-set--10-input--3" name="tab-set--10" type="radio" /><label class="tab-label" for="tab-set--10-input--3">Install</label><div class="tab-content docutils">
<p>The install stage invokes <code class="docutils literal notranslate"><span class="pre">cmake</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmake \
    --build &lt;BUILD_OUTPUT_DIR&gt; \
    --config &lt;BUILD_TYPE&gt; \
    --target install
</pre></div>
</div>
<p>With the following environment variables set:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CMAKE_INSTALL_ALWAYS=1
DESTDIR=&lt;TARGET_DIR&gt;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--build</span></code> directory is configured to
<a class="reference internal" href="#document-guides/environment#env-pkg-build-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code></span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--config</span></code> type is configured to the value defined for
<a class="reference internal" href="#pkg-opt-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code></span></a>. Although, this option
may not be applicable/used in all build environments.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code> path will be set to the target sysroot the package should
install into (see also <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>).
<code class="docutils literal notranslate"><span class="pre">cmake</span></code> may be invoked multiple times for each target it needs to install into.</p>
<p>The installation stage can be skipped by configuring
<a class="reference internal" href="#pkg-opt-cmake-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_NOINSTALL</span></code></span></a>.</p>
</div>
</div>
<section id="libfoo-build-defs">
<span id="pkg-opt-cmake-build-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code><a class="headerlink" href="#libfoo-build-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the build process. This option
can is defined as a dictionary of string pairs. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;-Doption=value&quot; to the command</span>
    <span class="s1">&#39;option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-env">
<span id="pkg-opt-cmake-build-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code><a class="headerlink" href="#libfoo-build-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the build process. This
option is defined as a dictionary with key-value pairs where the key is the
environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-opts">
<span id="pkg-opt-cmake-build-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code><a class="headerlink" href="#libfoo-build-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the build process. This
option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the build event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-cmake-build-type">
<span id="pkg-opt-cmake-build-type"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code><a class="headerlink" href="#libfoo-cmake-build-type" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<p>Specifies the <a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html">build type</a> used for the CMake package.
A package may use a common build type (<code class="docutils literal notranslate"><span class="pre">Debug</span></code>, <code class="docutils literal notranslate"><span class="pre">Release</span></code>, <code class="docutils literal notranslate"><span class="pre">RelWithDebInfo</span></code>
or <code class="docutils literal notranslate"><span class="pre">MinSizeRel</span></code>), or may have a custom build type defined. A developer
needing to use a specific build type can configure this option with the
name of the configuration. By default, the <code class="docutils literal notranslate"><span class="pre">RelWithDebInfo</span></code> build type is
used for all CMake packages.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CMAKE_BUILD_TYPE</span> <span class="o">=</span> <span class="s1">&#39;Debug&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/configuration#conf-default-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">default_cmake_build_type</span></code></span></a>.</p>
</section>
<section id="libfoo-cmake-noinstall">
<span id="pkg-opt-cmake-noinstall"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_NOINSTALL</span></code><a class="headerlink" href="#libfoo-cmake-noinstall" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.10.</span></p>
</div>
<p>Specifies whether the CMake package should skip an attempt to invoke the
install command. Ideally, projects will have an <a class="reference external" href="https://cmake.org/cmake/help/latest/command/install.html">install</a>
rule configured to define how a project will install files into a target (or
staging) environment. Not all CMake projects may have this rule defined, which
can cause the installation stage for a package to fail. A developer can
specify this no-install flag to skip a CMake-driven install request and
manage installation actions through other means (such as post-processing).
By default, the installation stage is invoked with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CMAKE_NOINSTALL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-defs">
<span id="pkg-opt-cmake-conf-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code><a class="headerlink" href="#libfoo-conf-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the configuration process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;-Doption=value&quot; to the command</span>
    <span class="s1">&#39;option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-env">
<span id="pkg-opt-cmake-conf-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code><a class="headerlink" href="#libfoo-conf-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the configuration process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-opts">
<span id="pkg-opt-cmake-conf-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code><a class="headerlink" href="#libfoo-conf-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the configuration process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in the
configuration event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-env">
<span id="pkg-opt-cmake-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code><a class="headerlink" href="#libfoo-env" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into all stages for a
package. This option is defined as a dictionary with key-value pairs where
the key is the environment name and the value is the environment variable‚Äôs
value. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-defs">
<span id="pkg-opt-cmake-install-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code><a class="headerlink" href="#libfoo-install-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the installation process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;-Doption=value&quot; to the command</span>
    <span class="s1">&#39;option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-env">
<span id="pkg-opt-cmake-install-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code><a class="headerlink" href="#libfoo-install-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the installation process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-opts">
<span id="pkg-opt-cmake-install-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code><a class="headerlink" href="#libfoo-install-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the installation process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the installation event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<span id="document-guides/packages/pkg-type-make"></span><section id="make-package">
<h4>Make package<a class="headerlink" href="#make-package" title="Link to this heading">¬∂</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>A Make package provides support to easily invoke <a class="reference external" href="https://www.gnu.org/software/make/manual/html_node/index.html">GNU Make</a>
commands at various stages of a package.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;make&#39;</span>
</pre></div>
</div>
<p>Make-based projects by default will invoke the default target during the build
stage, and invoke the <code class="docutils literal notranslate"><span class="pre">install</span></code> target for the installation stage.</p>
<p>The following shows the default arguments used in stages and outlines
configuration options that are available for a Make package to set.
See also the <a class="reference internal" href="#document-examples/examples-make"><span class="doc std std-doc">Make package examples</span></a>. All stages
are invoked with a <a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a> working directory.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--11-input--1" name="tab-set--11" type="radio" /><label class="tab-label" for="tab-set--11-input--1">Configuration</label><div class="tab-content docutils">
<p>Default configurations for make packages will not run a configuration stage.
However, if a user wants to run a specific target during this stage, a
target can be added into the configuration options. For example, if the
Makefile configuration has a target <code class="docutils literal notranslate"><span class="pre">prework</span></code> that should be invoked
during the configuration stage, the following can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;prework&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Which will invoke <code class="docutils literal notranslate"><span class="pre">make</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make prework
</pre></div>
</div>
<p>Alternatively, if no configuration options are specified, a
<code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-configure</span></code> <a class="reference internal" href="#document-guides/packages/pkg-type-script"><span class="doc std std-doc">script</span></a> can be invoked if available.</p>
</div>
<input class="tab-input" id="tab-set--11-input--2" name="tab-set--11" type="radio" /><label class="tab-label" for="tab-set--11-input--2">Build</label><div class="tab-content docutils">
<p>The build stage invokes <code class="docutils literal notranslate"><span class="pre">make</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make --jobs &lt;NJOBS&gt;
</pre></div>
</div>
<p>This will trigger the default target for the Makefile configuration.
Developers can configure a specific target to invoke during the build stage by
specifying a <a class="reference internal" href="#pkg-opt-make-build-opts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code></span></a> configuration. For
example, if a package uses the target <code class="docutils literal notranslate"><span class="pre">release</span></code> for standard release builds,
the following can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;release&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The number of jobs is populated by either the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a>,
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>. Although, if the configuration results
in a single job, the argument will not be used.</p>
</div>
<input class="tab-input" id="tab-set--11-input--3" name="tab-set--11" type="radio" /><label class="tab-label" for="tab-set--11-input--3">Install</label><div class="tab-content docutils">
<p>The install stage invokes <code class="docutils literal notranslate"><span class="pre">make</span></code> with an <code class="docutils literal notranslate"><span class="pre">install</span></code> target:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make install
</pre></div>
</div>
<p>With the following environment variables set:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DESTDIR=&lt;TARGET_DIR&gt;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code> path will be set to the target sysroot the package should
install into (see also <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>).
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">install</span></code> may be invoked multiple times for each target it needs to
install into.</p>
<p>If a package defines install options, the <code class="docutils literal notranslate"><span class="pre">install</span></code> target is not provided
by default. Developers can override what target to invoke by adding it into
the install options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;install-minimal&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The installation stage can be skipped by configuring
<a class="reference internal" href="#pkg-opt-make-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAKE_NOINSTALL</span></code></span></a>.</p>
</div>
</div>
<section id="libfoo-build-defs">
<span id="pkg-opt-make-build-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code><a class="headerlink" href="#libfoo-build-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the build process. This option
can is defined as a dictionary of string pairs. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-env">
<span id="pkg-opt-make-build-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code><a class="headerlink" href="#libfoo-build-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the build process. This
option is defined as a dictionary with key-value pairs where the key is the
environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-opts">
<span id="pkg-opt-make-build-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code><a class="headerlink" href="#libfoo-build-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the build process. This
option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the build event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-defs">
<span id="pkg-opt-make-conf-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code><a class="headerlink" href="#libfoo-conf-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the configuration process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-env">
<span id="pkg-opt-make-conf-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code><a class="headerlink" href="#libfoo-conf-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the configuration process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-opts">
<span id="pkg-opt-make-conf-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code><a class="headerlink" href="#libfoo-conf-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the configuration process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in the
configuration event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-env">
<span id="pkg-opt-make-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code><a class="headerlink" href="#libfoo-env" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into all stages for a
package. This option is defined as a dictionary with key-value pairs where
the key is the environment name and the value is the environment variable‚Äôs
value. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-defs">
<span id="pkg-opt-make-install-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code><a class="headerlink" href="#libfoo-install-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the installation process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-env">
<span id="pkg-opt-make-install-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code><a class="headerlink" href="#libfoo-install-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the installation process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-opts">
<span id="pkg-opt-make-install-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code><a class="headerlink" href="#libfoo-install-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the installation process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the installation event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># include the &quot;install&quot; target to the command</span>
    <span class="s1">&#39;install&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># include the &quot;install&quot; target to the command</span>
    <span class="s1">&#39;install&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Defining custom install options will prevent the default <code class="docutils literal notranslate"><span class="pre">install</span></code> target from
being added. Users looking to utilize the <code class="docutils literal notranslate"><span class="pre">install</span></code> target for the install
stage with custom arguments should explicitly include the <code class="docutils literal notranslate"><span class="pre">install</span></code> target in
their options.</p>
</section>
<section id="libfoo-make-noinstall">
<span id="pkg-opt-make-noinstall"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAKE_NOINSTALL</span></code><a class="headerlink" href="#libfoo-make-noinstall" title="Link to this heading">¬∂</a></h5>
<p>Specifies whether a make package should skip an attempt to invoke the
install target. Ideally, projects will have an <code class="docutils literal notranslate"><span class="pre">install</span></code> target configured
to define how a project will install files into a target (or staging)
environment. Not all make projects may have this target defined, which
can cause the installation stage for a package to fail. A developer can
specify this no-install flag to skip a make install target request and
manage installation actions through other means (such as post-processing).
By default, the installation stage is invoked with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MAKE_NOINSTALL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
</section>
<span id="document-guides/packages/pkg-type-meson"></span><section id="meson-package">
<h4>Meson package<a class="headerlink" href="#meson-package" title="Link to this heading">¬∂</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.16.</span></p>
</div>
<p>A Meson package provides support for processing a <a class="reference external" href="https://mesonbuild.com/">Meson</a> supported
module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;meson&#39;</span>
</pre></div>
</div>
<p>During the configuration stage of a Meson package, <code class="docutils literal notranslate"><span class="pre">meson</span> <span class="pre">setup</span></code> will be
invoked to generate build files for the module. For the build stage,
<code class="docutils literal notranslate"><span class="pre">meson</span> <span class="pre">compile</span></code> will invoke the generated build files. For the installation
stage (if enabled), <code class="docutils literal notranslate"><span class="pre">meson</span> <span class="pre">install</span></code> will be used. Each stage can be
configured to manipulate environment variables and options used by Meson.</p>
<p>The default configuration built for projects is <code class="docutils literal notranslate"><span class="pre">debugoptimized</span></code>. A developer
can override this option by explicitly adjusting the configuration option
<code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_BUILD_TYPE</span></code> to, for example, <code class="docutils literal notranslate"><span class="pre">debug</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MESON_BUILD_TYPE</span> <span class="o">=</span> <span class="s1">&#39;debug&#39;</span>
</pre></div>
</div>
<p>The following shows the default arguments used in stages and outlines
configuration options that are available for a Meson package to set.
See also the <a class="reference internal" href="#document-examples/examples-meson"><span class="doc std std-doc">Meson package examples</span></a>. All stages
are invoked with a <a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a> working directory.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--12-input--1" name="tab-set--12" type="radio" /><label class="tab-label" for="tab-set--12-input--1">Configuration</label><div class="tab-content docutils">
<p>The configuration stage invokes <code class="docutils literal notranslate"><span class="pre">meson</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>meson setup \
    --buildtype debugoptimized \
    -Dcmake_prefix_path=&lt;SYSROOT_PATHS&gt; \
    -Dlibdir=lib \
    -Dpkg_config_path=&lt;SYSROOT_PKGCFG_PATHS&gt; \
    -Dprefix=&lt;PREFIX&gt; \
    -Dwrap_mode=nodownload \
    &lt;BUILD_OUTPUT_DIR&gt;
</pre></div>
</div>
<p>The build type is configured by
<a class="reference internal" href="#pkg-opt-meson-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_BUILD_TYPE</span></code></span></a>.</p>
<p>The build output directory is configured to
<a class="reference internal" href="#document-guides/environment#env-pkg-build-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code></span></a>.</p>
<p>Paths may vary based on how the package‚Äôs
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a> is configured. System root paths
provided will only include the staging directory if <code class="docutils literal notranslate"><span class="pre">staging</span></code> is configured.
Both the staging and target directories are provided is the <code class="docutils literal notranslate"><span class="pre">target</span></code> is
configured. Likewise with the host directory if <code class="docutils literal notranslate"><span class="pre">host</span></code> is configured.
pkg-config paths are defined to <code class="docutils literal notranslate"><span class="pre">&lt;sysroot&gt;/lib/pkgconfig</span></code>.</p>
<p>If <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREFIX</span></code></span></a> resolves to an empty prefix, the
<code class="docutils literal notranslate"><span class="pre">-Dprefix</span></code> define is not provided.</p>
<p>In the event that a package is reconfigured (e.g.
<a class="reference internal" href="#document-guides/arguments#action-pkg-reconfigure"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure</span></code></span></a>), the <code class="docutils literal notranslate"><span class="pre">--reconfigure</span></code> argument
will also be included.</p>
</div>
<input class="tab-input" id="tab-set--12-input--2" name="tab-set--12" type="radio" /><label class="tab-label" for="tab-set--12-input--2">Build</label><div class="tab-content docutils">
<p>The build stage invokes <code class="docutils literal notranslate"><span class="pre">meson</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>meson compile -C &lt;BUILD_OUTPUT_DIR&gt; --jobs &lt;NJOBS&gt;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-C</span></code> directory is configured to
<a class="reference internal" href="#document-guides/environment#env-pkg-build-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code></span></a>.</p>
<p>The number of jobs is populated by either the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a>,
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>. Although, if the configuration results
in a single job, the argument will not be used.</p>
</div>
<input class="tab-input" id="tab-set--12-input--3" name="tab-set--12" type="radio" /><label class="tab-label" for="tab-set--12-input--3">Install</label><div class="tab-content docutils">
<p>The install stage invokes <code class="docutils literal notranslate"><span class="pre">meson</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>meson install -C &lt;BUILD_OUTPUT_DIR&gt; --destdir &lt;TARGET_DIR&gt; --no-rebuild
</pre></div>
</div>
<p>With the following environment variables set:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DESTDIR=&lt;TARGET_DIR&gt;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-C</span></code> directory is configured to
<a class="reference internal" href="#document-guides/environment#env-pkg-build-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code></span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--destdir</span></code> argument and <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code> environment path will be set to the
target sysroot the package should install into (see also
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>). <code class="docutils literal notranslate"><span class="pre">meson</span> <span class="pre">install</span></code> may be invoked
multiple times for each target it needs to install into.</p>
<p>The installation stage can be skipped by configuring
<a class="reference internal" href="#pkg-opt-meson-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_NOINSTALL</span></code></span></a>.</p>
</div>
</div>
<section id="libfoo-build-defs">
<span id="pkg-opt-meson-build-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code><a class="headerlink" href="#libfoo-build-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the build process. This option
can is defined as a dictionary of string pairs. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;-Doption=value&quot; to the command</span>
    <span class="s1">&#39;option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-env">
<span id="pkg-opt-meson-build-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code><a class="headerlink" href="#libfoo-build-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the build process. This
option is defined as a dictionary with key-value pairs where the key is the
environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-opts">
<span id="pkg-opt-meson-build-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code><a class="headerlink" href="#libfoo-build-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the build process. This
option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the build event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-defs">
<span id="pkg-opt-meson-conf-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code><a class="headerlink" href="#libfoo-conf-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the configuration process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;-Doption=value&quot; to the command</span>
    <span class="s1">&#39;option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-env">
<span id="pkg-opt-meson-conf-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code><a class="headerlink" href="#libfoo-conf-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the configuration process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-opts">
<span id="pkg-opt-meson-conf-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code><a class="headerlink" href="#libfoo-conf-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the configuration process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in the
configuration event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-env">
<span id="pkg-opt-meson-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code><a class="headerlink" href="#libfoo-env" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into all stages for a
package. This option is defined as a dictionary with key-value pairs where
the key is the environment name and the value is the environment variable‚Äôs
value. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-defs">
<span id="pkg-opt-meson-install-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code><a class="headerlink" href="#libfoo-install-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the installation process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;-Doption=value&quot; to the command</span>
    <span class="s1">&#39;option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-env">
<span id="pkg-opt-meson-install-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code><a class="headerlink" href="#libfoo-install-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the installation process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-opts">
<span id="pkg-opt-meson-install-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code><a class="headerlink" href="#libfoo-install-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the installation process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the installation event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-meson-build-type">
<span id="pkg-opt-meson-build-type"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_BUILD_TYPE</span></code><a class="headerlink" href="#libfoo-meson-build-type" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>Specifies the <a class="reference external" href="https://mesonbuild.com/Builtin-options.html#details-for-buildtype">build type</a> used for the Meson package.
A package may use a Meson-supported build type (<code class="docutils literal notranslate"><span class="pre">plain</span></code>, <code class="docutils literal notranslate"><span class="pre">debug</span></code>,
<code class="docutils literal notranslate"><span class="pre">debugoptimized</span></code>, <code class="docutils literal notranslate"><span class="pre">release</span></code> or <code class="docutils literal notranslate"><span class="pre">minsize</span></code>). A developer needing to use a
specific build type can configure this option with the name of the
configuration. By default, the <code class="docutils literal notranslate"><span class="pre">debugoptimized</span></code> build type is used for all
Meson packages.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MESON_BUILD_TYPE</span> <span class="o">=</span> <span class="s1">&#39;debugoptimized&#39;</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/configuration#conf-default-meson-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">default_meson_build_type</span></code></span></a>.</p>
</section>
<section id="libfoo-meson-noinstall">
<span id="pkg-opt-meson-noinstall"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_NOINSTALL</span></code><a class="headerlink" href="#libfoo-meson-noinstall" title="Link to this heading">¬∂</a></h5>
<p>Specifies whether the Meson package should skip an attempt to invoke the
install command. Ideally, projects will have an <a class="reference external" href="https://mesonbuild.com/Commands.html#install">install</a>
options configured to define how a project will install files into a target
(or staging) environment. Not all Meson projects have installation options
configured, or there can be cases where installation stage for a package to
fail due to issues with some host environments. A developer can specify this
no-install flag to skip a Meson-driven install request and manage installation
actions through other means (such as post-processing). By default, the
installation stage is invoked with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MESON_NOINSTALL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
</section>
<span id="document-guides/packages/pkg-type-python"></span><section id="python-package">
<h4>Python package<a class="headerlink" href="#python-package" title="Link to this heading">¬∂</a></h4>
<p>A Python package provides support for processing a <a class="reference external" href="https://www.python.org/">Python</a>
supported module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;python&#39;</span>
</pre></div>
</div>
<p>Only the build and installation phases are used when processing the sources
for a Python package (i.e. no configuration stage is invoked). The
<a class="reference internal" href="#pkg-opt-python-setup-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_SETUP_TYPE</span></code></span></a> configuration dictates
which build approach is performed for a package. The installation stage
for all Python packages uses the <a class="reference external" href="https://installer.pypa.io/"><code class="docutils literal notranslate"><span class="pre">installer</span></code></a> module. When a Python
package is processed, it will use the same Python interpreter used by
releng-tool.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>For environments where releng-tool has been installed using <code class="docutils literal notranslate"><span class="pre">pipx</span></code>, a user
will need to install any required build backend desired using the
<a class="reference external" href="https://pipx.pypa.io/#inject-a-package"><code class="docutils literal notranslate"><span class="pre">pipx</span> <span class="pre">inject</span></code></a> command. For example, packages requiring
<a class="reference external" href="https://flit.pypa.io">Flit</a> can install the build backend for their isolated environment
using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipx</span> <span class="n">inject</span> <span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">flit</span><span class="o">-</span><span class="n">core</span>
</pre></div>
</div>
</div>
<p>A developer can override what Python interpreter to use by
configuring the <a class="reference internal" href="#pkg-opt-python-interpreter"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INTERPRETER</span></code></span></a>
option in a package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_INTERPRETER</span> <span class="o">=</span> <span class="s1">&#39;/opt/my-custom-python-build/python&#39;</span>
</pre></div>
</div>
<p>The following shows the default arguments used in a package‚Äôs build stage based
on the configured setup type and outlines options that are available for a
Python package to set. See also the
<a class="reference internal" href="#document-examples/examples-python"><span class="doc std std-doc">Python package examples</span></a></p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--13-input--1" name="tab-set--13" type="radio" /><label class="tab-label" for="tab-set--13-input--1">Flit</label><div class="tab-content docutils">
<p>The build stage invokes Python with the <code class="docutils literal notranslate"><span class="pre">flit_core.wheel</span></code> module and arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -m flit_core.wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--2" name="tab-set--13" type="radio" /><label class="tab-label" for="tab-set--13-input--2">Hatch</label><div class="tab-content docutils">
<p>The build stage invokes Python with the <code class="docutils literal notranslate"><span class="pre">hatch</span></code> module and arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -m hatch --no-interactive build --target wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--3" name="tab-set--13" type="radio" /><label class="tab-label" for="tab-set--13-input--3">PDM</label><div class="tab-content docutils">
<p>The build stage invokes Python with the <code class="docutils literal notranslate"><span class="pre">pdm</span></code> module and arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -m pdm --ignore-python build --no-isolation --no-sdist
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--4" name="tab-set--13" type="radio" /><label class="tab-label" for="tab-set--13-input--4">PEP 517 build</label><div class="tab-content docutils">
<p>The build stage invokes Python with the <code class="docutils literal notranslate"><span class="pre">build</span></code> module and arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -m build --no-isolation --wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--5" name="tab-set--13" type="radio" /><label class="tab-label" for="tab-set--13-input--5">Poetry</label><div class="tab-content docutils">
<p>The build stage invokes Python with the <code class="docutils literal notranslate"><span class="pre">poetry</span></code> module and arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -m poetry build --no-interaction
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--6" name="tab-set--13" type="radio" /><label class="tab-label" for="tab-set--13-input--6">Setuptools</label><div class="tab-content docutils">
<p>The build stage invokes Python with the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file and arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python setup.py --no-user-cfg bdist_wheel
</pre></div>
</div>
<p>However, if <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> does not exist, the <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> module will be
imported and <code class="docutils literal notranslate"><span class="pre">setup()</span></code> will be triggered:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python -c &quot;import setuptools; setuptools.setup()&quot; --no-user-cfg bdist_wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--7" name="tab-set--13" type="radio" /><label class="tab-label" for="tab-set--13-input--7">distutils</label><div class="tab-content docutils">
<p>The build stage invokes Python with the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file and arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>python setup.py --no-user-cfg bdist_wheel
</pre></div>
</div>
</div>
</div>
<section id="libfoo-build-defs">
<span id="pkg-opt-python-build-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code><a class="headerlink" href="#libfoo-build-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the build process. This option
can is defined as a dictionary of string pairs. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-env">
<span id="pkg-opt-python-build-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code><a class="headerlink" href="#libfoo-build-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the build process. This
option is defined as a dictionary with key-value pairs where the key is the
environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-opts">
<span id="pkg-opt-python-build-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code><a class="headerlink" href="#libfoo-build-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the build process. This
option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the build event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-env">
<span id="pkg-opt-python-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code><a class="headerlink" href="#libfoo-env" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into all stages for a
package. This option is defined as a dictionary with key-value pairs where
the key is the environment name and the value is the environment variable‚Äôs
value. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-defs">
<h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code><a class="headerlink" href="#libfoo-install-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 2.0: </span>No longer applicable as all Python packages are  installed using the
<a class="reference external" href="https://installer.pypa.io/"><code class="docutils literal notranslate"><span class="pre">installer</span></code></a> module.</p>
</div>
</section>
<section id="libfoo-install-env">
<h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code><a class="headerlink" href="#libfoo-install-env" title="Link to this heading">¬∂</a></h5>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 2.0: </span>No longer applicable as all Python packages are installed using the
<a class="reference external" href="https://installer.pypa.io/"><code class="docutils literal notranslate"><span class="pre">installer</span></code></a> module.</p>
</div>
</section>
<section id="libfoo-install-opts">
<h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code><a class="headerlink" href="#libfoo-install-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 2.0: </span>No longer applicable as all Python packages are installed using the
<a class="reference external" href="https://installer.pypa.io/"><code class="docutils literal notranslate"><span class="pre">installer</span></code></a> module.</p>
</div>
</section>
<section id="libfoo-python-dist-path">
<span id="pkg-opt-python-dist-path"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_DIST_PATH</span></code><a class="headerlink" href="#libfoo-python-dist-path" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.0.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>When a Python package is built, it will scan the <code class="docutils literal notranslate"><span class="pre">dist/</span></code> directory in
package‚Äôs output directory for a wheel package. It is possible for some
Python packages to configure their projects to output built wheels into an
alternative path. If an alternative path is configured, releng-tool will
fail to find and install the package.</p>
<p>This option informs releng-tool what container folder hosts the provided
wheel package. For example, if the Python package configures itself to
output into <code class="docutils literal notranslate"><span class="pre">build/dist</span></code>, the following configuration can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_DIST_PATH</span> <span class="o">=</span> <span class="s1">&#39;build/dist&#39;</span>
</pre></div>
</div>
</section>
<section id="libfoo-python-installer-interpreter">
<span id="pkg-opt-python-installer-interpreter"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_INTERPRETER</span></code><a class="headerlink" href="#libfoo-python-installer-interpreter" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.3.</span></p>
</div>
<p>Configures the interpreter path to use when generating launcher scripts
when installing a Python package. This is passed into <a class="reference external" href="https://installer.pypa.io/"><code class="docutils literal notranslate"><span class="pre">installer</span></code></a>
which handles the creations of launchers for an application (if a given
Python package defines project scripts).</p>
<p>The default interpreter used for project scripts is as follows:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Type</p></th>
<th class="head text-left"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p>Non-Windows</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">/usr/bin/python</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>Windows</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">python.exe</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>An example using a custom interpreter <code class="docutils literal notranslate"><span class="pre">/opt/custom/python</span></code> for project
scripts can be done using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_INSTALLER_INTERPRETER</span> <span class="o">=</span> <span class="s1">&#39;/opt/custom/python&#39;</span>
</pre></div>
</div>
<p>Which should generate project scripts with a shebang:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/opt/custom/python</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Before the introduction of this variable, the interpreter used would
be configured to the same interpreter used by releng-tool.</p>
</section>
<section id="libfoo-python-installer-launcher-kind">
<span id="pkg-opt-python-installer-launcher-kind"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_LAUNCHER_KIND</span></code><a class="headerlink" href="#libfoo-python-installer-launcher-kind" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.0.</span></p>
</div>
<p>Defines the launcher-kind to build when generating any executable scripts
defined in the Python package‚Äôs project configuration (<code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>).
By default, the launcher-kind is chosen based on the host platform building
the package. Supported options are dictated by <a class="reference external" href="https://installer.pypa.io/"><code class="docutils literal notranslate"><span class="pre">installer</span></code></a>.
Options may include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">posix</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">win-amd64</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">win-arm64</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">win-arm</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">win-ia32</span></code></p></li>
</ul>
<p>For example, to explicitly build POSIX executable scripts, the following
configuration can be defined:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_INSTALLER_SCHEME</span> <span class="o">=</span> <span class="s1">&#39;posix&#39;</span>
</pre></div>
</div>
</section>
<section id="libfoo-python-installer-scheme">
<span id="pkg-opt-python-installer-scheme"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_SCHEME</span></code><a class="headerlink" href="#libfoo-python-installer-scheme" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.0.</span></p>
</div>
<p>Defines the installation scheme used for Python packages. By default,
releng-tool uses the following scheme entries:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Path</p></th>
<th class="head text-left"><p>Installation directory</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p>data</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">prefix</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>include</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">prefix/include/python</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>platinclude</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">prefix/include/python</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>platlib</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">prefix/lib/python</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>platstdlib</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">prefix/lib/python</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>purelib</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">prefix/lib/python</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p>scripts</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">prefix/bin</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>stdlib</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">prefix/lib/python</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>A package can be configured with a scheme <code class="docutils literal notranslate"><span class="pre">native</span></code> to use the default
install target based on the native system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_INSTALLER_SCHEME</span> <span class="o">=</span> <span class="s1">&#39;native&#39;</span>
</pre></div>
</div>
<p>Packages can also use schemes supported by Python‚Äôs <a class="reference external" href="https://docs.python.org/3/library/sysconfig.html"><code class="docutils literal notranslate"><span class="pre">sysconfig</span></code></a>
module. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_INSTALLER_SCHEME</span> <span class="o">=</span> <span class="s1">&#39;posix_prefix&#39;</span>
</pre></div>
</div>
<p>A package may also define a custom scheme:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_INSTALLER_SCHEME</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;data&#39;</span><span class="p">:</span>        <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;include&#39;</span><span class="p">:</span>     <span class="s1">&#39;include/python&#39;</span><span class="p">,</span>
    <span class="s1">&#39;platinclude&#39;</span><span class="p">:</span> <span class="s1">&#39;include/python&#39;</span><span class="p">,</span>
    <span class="s1">&#39;platlib&#39;</span><span class="p">:</span>     <span class="s1">&#39;lib/python&#39;</span><span class="p">,</span>
    <span class="s1">&#39;platstdlib&#39;</span><span class="p">:</span>  <span class="s1">&#39;lib/python&#39;</span><span class="p">,</span>
    <span class="s1">&#39;purelib&#39;</span><span class="p">:</span>     <span class="s1">&#39;lib/python&#39;</span><span class="p">,</span>
    <span class="s1">&#39;scripts&#39;</span><span class="p">:</span>     <span class="s1">&#39;bin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;stdlib&#39;</span><span class="p">:</span>      <span class="s1">&#39;lib/python&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-python-interpreter">
<span id="pkg-opt-python-interpreter"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INTERPRETER</span></code><a class="headerlink" href="#libfoo-python-interpreter" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Defines a specific Python interpreter when processing the build and
installation stages for a package. If not specified, the system‚Äôs Python
interpreter will be used. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_INTERPRETER</span> <span class="o">=</span> <span class="s1">&#39;&lt;path&gt;&#39;</span>
</pre></div>
</div>
</section>
<section id="libfoo-python-setup-type">
<span id="pkg-opt-python-setup-type"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_SETUP_TYPE</span></code><a class="headerlink" href="#libfoo-python-setup-type" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.14: </span>Support added for <code class="docutils literal notranslate"><span class="pre">poetry</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.0: </span>Use of <a class="reference external" href="https://installer.pypa.io/"><code class="docutils literal notranslate"><span class="pre">installer</span></code></a> is required for all package types.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>Support for <code class="docutils literal notranslate"><span class="pre">distutils</span></code> packages is deprecated.</p>
</div>
<p>The setup type will configure how a Python package is built and installed.
The default setup type used for a Python package is a distutils package. It
is recommended to always configure a setup type for a Python package.
The following outlines available setup types in releng-tool:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Type</p></th>
<th class="head text-left"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p><a class="reference external" href="https://flit.pypa.io">Flit</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">flit</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference external" href="https://hatch.pypa.io">Hatch</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">hatch</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference external" href="https://pdm-project.org/">PDM</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">pdm</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference external" href="https://build.pypa.io/">PEP 517 build</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">pep517</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference external" href="https://python-poetry.org/">Poetry</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">poetry</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p><a class="reference external" href="https://setuptools.pypa.io">Setuptools</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">setuptools</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-right"><p><a class="reference external" href="https://docs.python.org/3.11/library/distutils.html">distutils</a></p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">distutils</span></code> (default)</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_SETUP_TYPE</span> <span class="o">=</span> <span class="s1">&#39;setuptools&#39;</span>
</pre></div>
</div>
<p>Host environments are required to pre-install needed packages in their
running Python environment to support setup types not available in a
standard Python distribution. For example, if a PDM setup type is set,
the host system will need to have <code class="docutils literal notranslate"><span class="pre">pdm</span></code> Python module installed on
the system.</p>
<p>The <a class="reference external" href="https://installer.pypa.io/"><code class="docutils literal notranslate"><span class="pre">installer</span></code></a> module will be used to install packages to
their destination folders. For  Setuptools/distutils packages, ensure
<a class="reference external" href="https://wheel.readthedocs.io/"><code class="docutils literal notranslate"><span class="pre">wheel</span></code></a> is available to help build as packages will be built
with <code class="docutils literal notranslate"><span class="pre">bdist_wheel</span></code>.</p>
</section>
</section>
<span id="document-guides/packages/pkg-type-scons"></span><section id="scons-package">
<h4>SCons package<a class="headerlink" href="#scons-package" title="Link to this heading">¬∂</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<p>A SCons package provides support to easily invoke <a class="reference external" href="https://scons.org/">SCons</a> commands
at various stages of a package.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;scons&#39;</span>
</pre></div>
</div>
<p>SCons-based projects by default will invoke the default target during the
build stage, and invoke the <code class="docutils literal notranslate"><span class="pre">install</span></code> alias for the installation stage.</p>
<p>The following shows the default arguments used in stages and outlines
configuration options that are available for a SCons package to set.
See also the <a class="reference internal" href="#document-examples/examples-scons"><span class="doc std std-doc">SCons package examples</span></a>. All stages
are invoked with a <a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a> working directory.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--14-input--1" name="tab-set--14" type="radio" /><label class="tab-label" for="tab-set--14-input--1">Configuration</label><div class="tab-content docutils">
<p>Default configurations for SCons packages will not run a configuration stage.
However, if a user wants to run a specific target during this stage, a
target can be added into the configuration options. For example, if the
package has a target <code class="docutils literal notranslate"><span class="pre">prework</span></code> that should be invoked during the
configuration stage, the following can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;prework&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Which will invoke <code class="docutils literal notranslate"><span class="pre">scons</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scons -Q prework
</pre></div>
</div>
<p>Alternatively, if no configuration options are specified, a
<code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-configure</span></code> <a class="reference internal" href="#document-guides/packages/pkg-type-script"><span class="doc std std-doc">script</span></a> can be invoked if available.</p>
</div>
<input class="tab-input" id="tab-set--14-input--2" name="tab-set--14" type="radio" /><label class="tab-label" for="tab-set--14-input--2">Build</label><div class="tab-content docutils">
<p>The build stage invokes <code class="docutils literal notranslate"><span class="pre">scons</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scons -Q --jobs=&lt;NJOBS&gt;
</pre></div>
</div>
<p>This will trigger the default target for the SCons configuration.
Developers can configure a specific target to invoke during the build stage by
specifying a <a class="reference internal" href="#pkg-opt-scons-build-opts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code></span></a> configuration. For
example, if a package uses the target <code class="docutils literal notranslate"><span class="pre">release</span></code> for standard release builds,
the following can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;release&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The number of jobs is populated by either the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a>,
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>. Although, if the configuration results
in a single job, the argument will not be used.</p>
</div>
<input class="tab-input" id="tab-set--14-input--3" name="tab-set--14" type="radio" /><label class="tab-label" for="tab-set--14-input--3">Install</label><div class="tab-content docutils">
<p>The install stage invokes <code class="docutils literal notranslate"><span class="pre">scons</span></code> with an <code class="docutils literal notranslate"><span class="pre">install</span></code> target:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scons -Q install
</pre></div>
</div>
<p>With the following variables set:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DESTDIR=&lt;TARGET_DIR&gt;
PREFIX=&lt;PREFIX&gt;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code> path will be set to the target sysroot the package should
install into (see also <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>).
<code class="docutils literal notranslate"><span class="pre">scons</span> <span class="pre">install</span></code> may be invoked multiple times for each target it needs to
install into.</p>
<p>The prefix argument is configured to <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREFIX</span></code></span></a>.</p>
<p>If a package defines install options, the <code class="docutils literal notranslate"><span class="pre">install</span></code> target is not provided
by default. Developers can override what target to invoke by adding it into
the install options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;install-minimal&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The installation stage can be skipped by configuring
<a class="reference internal" href="#pkg-opt-scons-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_SCONS_NOINSTALL</span></code></span></a>.</p>
</div>
</div>
<section id="libfoo-build-defs">
<span id="pkg-opt-scons-build-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code><a class="headerlink" href="#libfoo-build-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the build process. This option
can is defined as a dictionary of string pairs. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-env">
<span id="pkg-opt-scons-build-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code><a class="headerlink" href="#libfoo-build-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the build process. This
option is defined as a dictionary with key-value pairs where the key is the
environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-opts">
<span id="pkg-opt-scons-build-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code><a class="headerlink" href="#libfoo-build-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the build process. This
option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the build event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-defs">
<span id="pkg-opt-scons-conf-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code><a class="headerlink" href="#libfoo-conf-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the configuration process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-env">
<span id="pkg-opt-scons-conf-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code><a class="headerlink" href="#libfoo-conf-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the configuration process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-opts">
<span id="pkg-opt-scons-conf-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code><a class="headerlink" href="#libfoo-conf-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the configuration process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in the
configuration event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-env">
<span id="pkg-opt-scons-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code><a class="headerlink" href="#libfoo-env" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into all stages for a
package. This option is defined as a dictionary with key-value pairs where
the key is the environment name and the value is the environment variable‚Äôs
value. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-defs">
<span id="pkg-opt-scons-install-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code><a class="headerlink" href="#libfoo-install-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the installation process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-env">
<span id="pkg-opt-scons-install-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code><a class="headerlink" href="#libfoo-install-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the installation process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-opts">
<span id="pkg-opt-scons-install-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code><a class="headerlink" href="#libfoo-install-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the installation process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the installation event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># include the &quot;install&quot; target to the command</span>
    <span class="s1">&#39;install&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># include the &quot;install&quot; target to the command</span>
    <span class="s1">&#39;install&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Defining custom install options will prevent the default <code class="docutils literal notranslate"><span class="pre">install</span></code> target from
being added. Users looking to utilize the <code class="docutils literal notranslate"><span class="pre">install</span></code> target for the install
stage with custom arguments should explicitly include the <code class="docutils literal notranslate"><span class="pre">install</span></code> target in
their options.</p>
</section>
<section id="libfoo-scons-noinstall">
<span id="pkg-opt-scons-noinstall"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_SCONS_NOINSTALL</span></code><a class="headerlink" href="#libfoo-scons-noinstall" title="Link to this heading">¬∂</a></h5>
<p>Specifies whether a SCons package should skip an attempt to invoke the
install alias. Ideally, projects will have an <a class="reference external" href="https://scons.org/doc/production/HTML/scons-man.html#f-Alias">install alias</a>
defined to specify how a project will install files into a target (or staging)
environment. Not all SCons projects may have this target defined, which
can cause the installation stage for a package to fail. A developer can
specify this no-install flag to skip a SCons install target request and
manage installation actions through other means (such as post-processing).
By default, the installation stage is invoked with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SCONS_NOINSTALL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
</section>
<span id="document-guides/packages/pkg-type-waf"></span><section id="waf-package">
<h4>Waf package<a class="headerlink" href="#waf-package" title="Link to this heading">¬∂</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.8.</span></p>
</div>
<p>A Waf package provides support to easily invoke <a class="reference external" href="https://waf.io/">Waf</a> commands at
various stages of a package.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;waf&#39;</span>
</pre></div>
</div>
<p>During the configuration stage of a Waf package, <code class="docutils literal notranslate"><span class="pre">waf</span> <span class="pre">configure</span></code> will be
invoked to prepare a build. For the build stage, <code class="docutils literal notranslate"><span class="pre">waf</span> <span class="pre">build</span></code> will invoke the
build event. For the installation stage (if enabled), <code class="docutils literal notranslate"><span class="pre">waf</span> <span class="pre">install</span></code> will be
used. Each stage can be configured to manipulate environment variables and
options used by Waf.</p>
<p>The following shows the default arguments used in stages and outlines
configuration options that are available for a Waf package to set.
See also the <a class="reference internal" href="#document-examples/examples-waf"><span class="doc std std-doc">Waf package examples</span></a>. All stages
are invoked with a <a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a> working directory.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--15-input--1" name="tab-set--15" type="radio" /><label class="tab-label" for="tab-set--15-input--1">Configuration</label><div class="tab-content docutils">
<p>The configuration stage invokes <code class="docutils literal notranslate"><span class="pre">waf</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>waf configure \
    --bindir=bin \
    --libdir=lib \
    --out=&lt;BUILD_OUTPUT_DIR&gt; \
    --prefix=&lt;PREFIX&gt;
</pre></div>
</div>
<p>The prefix arguments are configured to <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREFIX</span></code></span></a>.</p>
<p>The build output directory is configured to
<a class="reference internal" href="#document-guides/environment#env-pkg-build-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code></span></a>.</p>
</div>
<input class="tab-input" id="tab-set--15-input--2" name="tab-set--15" type="radio" /><label class="tab-label" for="tab-set--15-input--2">Build</label><div class="tab-content docutils">
<p>The build stage invokes <code class="docutils literal notranslate"><span class="pre">waf</span></code> with the arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>waf build --jobs &lt;NJOBS&gt;
</pre></div>
</div>
<p>The number of jobs is populated by either the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code> argument</span></a>,
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>. Although, if the configuration results
in a single job, the argument will not be used.</p>
</div>
<input class="tab-input" id="tab-set--15-input--3" name="tab-set--15" type="radio" /><label class="tab-label" for="tab-set--15-input--3">Install</label><div class="tab-content docutils">
<p>The install stage invokes <code class="docutils literal notranslate"><span class="pre">waf</span></code> with an <code class="docutils literal notranslate"><span class="pre">install</span></code> target:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>waf install --destdir &lt;TARGET_DIR&gt;
</pre></div>
</div>
<p>With the following environment variables set:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>DESTDIR=&lt;TARGET_DIR&gt;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--destdir</span></code> argument and <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code> environment path will be set to the
target sysroot the package should install into (see also
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>). <code class="docutils literal notranslate"><span class="pre">waf</span> <span class="pre">install</span></code> may be invoked
multiple times for each target it needs to install into.</p>
<p>The installation stage can be skipped by configuring
<a class="reference internal" href="#pkg-opt-waf-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_WAF_NOINSTALL</span></code></span></a>.</p>
</div>
</div>
<section id="libfoo-build-defs">
<span id="pkg-opt-waf-build-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code><a class="headerlink" href="#libfoo-build-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the build process. This option
can is defined as a dictionary of string pairs. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-env">
<span id="pkg-opt-waf-build-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code><a class="headerlink" href="#libfoo-build-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the build process. This
option is defined as a dictionary with key-value pairs where the key is the
environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-build-opts">
<span id="pkg-opt-waf-build-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code><a class="headerlink" href="#libfoo-build-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the build process. This
option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the build event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-defs">
<span id="pkg-opt-waf-conf-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code><a class="headerlink" href="#libfoo-conf-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the configuration process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-env">
<span id="pkg-opt-waf-conf-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code><a class="headerlink" href="#libfoo-conf-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the configuration process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-conf-opts">
<span id="pkg-opt-waf-conf-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code><a class="headerlink" href="#libfoo-conf-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the configuration process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in the
configuration event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--flag&quot; to the command</span>
    <span class="s1">&#39;--flag&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-env">
<span id="pkg-opt-waf-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code><a class="headerlink" href="#libfoo-env" title="Link to this heading">¬∂</a></h5>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into all stages for a
package. This option is defined as a dictionary with key-value pairs where
the key is the environment name and the value is the environment variable‚Äôs
value. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-defs">
<span id="pkg-opt-waf-install-defs"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code><a class="headerlink" href="#libfoo-install-defs" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass definitions into the installation process. This
option can is defined as a dictionary of string pairs. This field is
optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># adds &quot;--option=value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-env">
<span id="pkg-opt-waf-install-env"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code><a class="headerlink" href="#libfoo-install-env" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass environment variables into the installation process.
This option is defined as a dictionary with key-value pairs where the key is
the environment name and the value is the environment variable‚Äôs value. This
field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="libfoo-install-opts">
<span id="pkg-opt-waf-install-opts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code><a class="headerlink" href="#libfoo-install-opts" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Support added for path-like values.</p>
</div>
<p>Provides a means to pass command line options into the installation process.
This option can be defined as a dictionary of string pairs or a list with
strings ‚Äì either way defined will generate argument values to include in
the installation event. This field is optional.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># include the &quot;install&quot; target to the command</span>
    <span class="s1">&#39;install&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--option value&quot; to the command</span>
    <span class="s1">&#39;--option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># (or)</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># include the &quot;install&quot; target to the command</span>
    <span class="s1">&#39;install&#39;</span><span class="p">,</span>
    <span class="c1"># adds &quot;--some-option&quot; to the command</span>
    <span class="s1">&#39;--some-option&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Defining custom install options will prevent the default <code class="docutils literal notranslate"><span class="pre">install</span></code> target from
being added. Users looking to utilize the <code class="docutils literal notranslate"><span class="pre">install</span></code> target for the install
stage with custom arguments should explicitly include the <code class="docutils literal notranslate"><span class="pre">install</span></code> target in
their options.</p>
</section>
<section id="libfoo-waf-noinstall">
<span id="pkg-opt-waf-noinstall"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_WAF_NOINSTALL</span></code><a class="headerlink" href="#libfoo-waf-noinstall" title="Link to this heading">¬∂</a></h5>
<p>Specifies whether the Waf package should skip an attempt to invoke the
install command. Ideally, projects can support an install invoke to help
install files into a target (or staging) environment. Not all Waf projects
may support an install stage, or there can be cases where installation stage
for a package to fail due to issues with some host environments. A developer
can specify this no-install flag to skip a Waf-driven install request and
manage installation actions through other means (such as post-processing).
By default, the installation stage is invoked with a value of <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_WAF_NOINSTALL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
</section>
<span id="document-guides/packages/hacking"></span><section id="package-hacking">
<h4>Package hacking<a class="headerlink" href="#package-hacking" title="Link to this heading">¬∂</a></h4>
<p>Package types may define various command line defines and options to help
support certain features or practices that best fit with releng-tool‚Äôs
staged processing. In some advanced scenarios, developers may wish to override
these defines/options due to corner cases or preferences. Developers can
perform overrides by hinting in configurations for things to remove.</p>
<p>For example, <a class="reference internal" href="#document-guides/packages/pkg-type-make"><span class="doc std std-doc">Make</span></a>-based packages will
include a <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code> variable assignment based on the project‚Äôs or package‚Äôs
configured prefix. This can result in the following installation command to
be invoked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">DESTDIR</span><span class="o">=&lt;</span><span class="n">output</span><span class="o">&gt;/</span><span class="n">target</span> <span class="n">install</span> <span class="n">PREFIX</span><span class="o">=/</span><span class="n">usr</span>
</pre></div>
</div>
<p>If the assignment of <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code> causes issues for a package, a developer can
hint to remove such an option by configuring
<a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-install-defs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code></span></a> to be as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INSTALL_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;PREFIX&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This will then result in the following installation command for the package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">DESTDIR</span><span class="o">=&lt;</span><span class="n">output</span><span class="o">&gt;/</span><span class="n">target</span> <span class="n">install</span>
</pre></div>
</div>
<p>Overrides are typically support on each configuration, build and
install-related configurations. Not all defines/options can be overridden.
As such overrides are advanced, developers are recommended to refer to the
implementation for specifics. Developers can also use the
<a class="reference internal" href="#document-guides/arguments#arg-debug"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--debug</span></code></span></a> argument to see explicit commands invoked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">debug</span>
</pre></div>
</div>
</section>
<span id="document-guides/packages/deprecated-pkg-options"></span><section id="deprecated-package-options">
<h4>Deprecated package options<a class="headerlink" href="#deprecated-package-options" title="Link to this heading">¬∂</a></h4>
<p>The following outlines deprecated configuration options for packages. It
is not recommended to use these options.</p>
<section id="libfoo-dependencies">
<span id="pkg-opt-dependencies"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEPENDENCIES</span></code><a class="headerlink" href="#libfoo-dependencies" title="Link to this heading">¬∂</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 1.3: </span>Packages should use <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-needs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code></span></a> instead.</p>
</div>
<p>List of package dependencies a given project has. If a project depends on
another package, the package name should be listed in this option. This ensures
releng-tool will process packages in the proper order. The following shows an
example package <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> being dependent on <code class="docutils literal notranslate"><span class="pre">liba</span></code> and <code class="docutils literal notranslate"><span class="pre">libb</span></code> being
processed first:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEPENDENCIES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;liba&#39;</span><span class="p">,</span>
    <span class="s1">&#39;libb&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="libfoo-skip-remote-config">
<span id="pkg-opt-skip-remote-config"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_SKIP_REMOTE_CONFIG</span></code><a class="headerlink" href="#libfoo-skip-remote-config" title="Link to this heading">¬∂</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 1.3: </span>Packages should use <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-remote-config"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REMOTE_CONFIG</span></code></span></a> instead.</p>
</div>
<p>Flag value to indicate that a package should not attempt to load any
package configurations which may be defined in the package‚Äôs source. A
package, by default, has the ability to load configuration information from
a package‚Äôs source. If the package includes a <code class="docutils literal notranslate"><span class="pre">.releng-tool</span></code> file at the
root of their sources, supported configuration options that have not been
populated will be registered into the package before invoking a package‚Äôs
configuration stage.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SKIP_REMOTE_CONFIG</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>See also
<a class="reference internal" href="#document-guides/quirks/quirk-disable_remote_configs#quirk-releng-disable-remote-configs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_remote_configs</span></code> quirk</span></a>.</p>
</section>
<section id="libfoo-skip-remote-scripts">
<span id="pkg-opt-skip-remote-scripts"></span><h5><code class="docutils literal notranslate"><span class="pre">LIBFOO_SKIP_REMOTE_SCRIPTS</span></code><a class="headerlink" href="#libfoo-skip-remote-scripts" title="Link to this heading">¬∂</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 1.3: </span>Packages should use <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-remote-scripts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REMOTE_SCRIPTS</span></code></span></a> instead.</p>
</div>
<p>Flag value to indicate that a package should not attempt to load any package
scripts which may be defined in the package‚Äôs source. Typically, a
script-based package will load configuration, build, etc. scripts from its
package definition folder. If a script-based package is missing a stage script
to invoke and finds an associated script in the package‚Äôs source, the detected
script will be invoked. For example, if <code class="docutils literal notranslate"><span class="pre">libfoo.rt</span></code> package may attempt to load
a <code class="docutils literal notranslate"><span class="pre">libfoo-configure.rt</span></code> script for a configuration stage. In the event that the
script cannot be found and remote scripting is permitted for a package, the
script (if exists) <code class="docutils literal notranslate"><span class="pre">releng-configure.rt</span></code> will be loaded from the root of the
package‚Äôs contents.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SKIP_REMOTE_CONFIG</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>See also
<a class="reference internal" href="#document-guides/quirks/quirk-disable_remote_scripts#quirk-releng-disable-remote-scripts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_remote_scripts</span></code> quirk</span></a>.</p>
</section>
</section>
</div>
</section>
<span id="document-guides/post-processing"></span><section id="post-processing">
<h3>Post-processing<a class="headerlink" href="#post-processing" title="Link to this heading">¬∂</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>A post-processing script (if used) will be invoked each time <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code>
reaches the final stage of a build.</p>
</div>
<div class="admonition-prospect admonition">
<p class="admonition-title">Prospect</p>
<p>At this time, releng-tool supports only post-build scripts. It is planned to
introduced support for some image-related helpers (i.e. package helpers).
This may introduce a reserved <code class="docutils literal notranslate"><span class="pre">releng-tool-post-image.rt</span></code> script in
future releases.</p>
</div>
<p>After each package has been processed, a project has the ability to perform
post-processing. Post-processing allows a developer to cleanup the target
directory, build an archive/package from generated results and more. If a
project contains a <code class="docutils literal notranslate"><span class="pre">releng-tool-post-build.rt</span></code> inside the root directory,
the post-processing script will be invoked in the final stage of a build.</p>
<p>A developer may start out with the following post-processing script
<code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/releng-tool-post-build.rt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ‚îî‚îÄ‚îÄ releng-tool-post-build.rt     &lt;----
</pre></div>
</div>
<p>With the contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;post processing...&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above script will output the newly inserted print message at the end
of a build process:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">...</span>
<span class="go">generating license information...</span>
<span class="go">post processing...</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">completed (0:01:30)</span>
</pre></div>
</div>
<p>A developer can take advantage of <a class="reference internal" href="#document-guides/environment"><span class="doc std std-doc">environment variables</span></a> and
<a class="reference internal" href="#document-guides/script-helpers"><span class="doc std std-doc">script helpers</span></a> for additional support.</p>
<p>It is important to note that post-processing scripts will be invoked each
time a <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code> invoke reaches the final stage of a build. A developer
should attempt to implement the post-processing scripts in a way that it can
be invoked multiple times. For example, if a developer decides to move a
file out of the target directory into an interim directory when building
an archive, it is most likely that a subsequent request to build may fail
since the file can no longer be found inside the target directory.</p>
</section>
<span id="document-guides/script-helpers"></span><section id="script-helpers">
<h3>Script helpers<a class="headerlink" href="#script-helpers" title="Link to this heading">¬∂</a></h3>
<p>releng-tool provides a series of helper functions which can be used in
script-based packages, post-processing and more. Helper functions provided
are listed below:</p>
<section id="available-functions">
<h4>Available functions<a class="headerlink" href="#available-functions" title="Link to this heading">¬∂</a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.debug">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">debug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.debug" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Logs a debug message to standard out with a trailing new line. By default,
debug messages will not be output to standard out unless the instance is
configured with debugging enabled.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;this is a debug message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> ‚Äì the message</p></li>
<li><p><strong>*args</strong> ‚Äì an arbitrary set of positional and keyword arguments used when
generating a formatted message</p></li>
</ul>
</dd>
</dl>
<p>See also the <code class="docutils literal notranslate"><span class="pre">--debug</span></code> <a class="reference internal" href="#document-guides/arguments#arg-debug"><span class="std std-ref">argument</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.err">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">err</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.err" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Logs an error message to standard error with a trailing new line and (if
enabled) a red colorization.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">err</span><span class="p">(</span><span class="s1">&#39;this is an error message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> ‚Äì the message</p></li>
<li><p><strong>*args</strong> ‚Äì an arbitrary set of positional and keyword arguments used when
generating a formatted message</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.hint">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">hint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.hint" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Ensure availability in script helpers.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Logs a hint message to standard out with a trailing new line and (if
enabled) a cyan colorization.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hint</span><span class="p">(</span><span class="s1">&#39;this is a hint message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> ‚Äì the message</p></li>
<li><p><strong>*args</strong> ‚Äì an arbitrary set of positional and keyword arguments used when
generating a formatted message</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.log">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.log" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Logs a (normal) message to standard out with a trailing new line.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;this is a message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> ‚Äì the message</p></li>
<li><p><strong>*args</strong> ‚Äì an arbitrary set of positional and keyword arguments used when
generating a formatted message</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.note">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.note" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Logs a notification message to standard out with a trailing new line and (if
enabled) an inverted colorization.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">note</span><span class="p">(</span><span class="s1">&#39;this is a note message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> ‚Äì the message</p></li>
<li><p><strong>*args</strong> ‚Äì an arbitrary set of positional and keyword arguments used when
generating a formatted message</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_cat">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_cat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_cat" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.11.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided file will now expand variables.</p>
</div>
<p>Attempts to read one or more files provided to this call. For each file, it
will be read and printed out to the standard output.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_cat</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> ‚Äì the file</p></li>
<li><p><strong>*args</strong> (<em>optional</em>) ‚Äì additional files to include</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if all the files exists and were printed to the standard
output; <code class="docutils literal notranslate"><span class="pre">False</span></code> if one or more files could not be read</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_copy">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critical</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nested</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_copy" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.12: </span>Add support for <code class="docutils literal notranslate"><span class="pre">dst_dir</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Add support for <code class="docutils literal notranslate"><span class="pre">nested</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided paths will now expand variables.</p>
</div>
<p>This call will attempt to copy a provided file, directory‚Äôs contents or
directory itself (if <code class="docutils literal notranslate"><span class="pre">nested</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>); defined by <code class="docutils literal notranslate"><span class="pre">src</span></code> into a
destination file or directory defined by <code class="docutils literal notranslate"><span class="pre">dst</span></code>. If <code class="docutils literal notranslate"><span class="pre">src</span></code> is a file,
then <code class="docutils literal notranslate"><span class="pre">dst</span></code> is considered to be a file or directory; if <code class="docutils literal notranslate"><span class="pre">src</span></code> is a
directory, <code class="docutils literal notranslate"><span class="pre">dst</span></code> is considered a target directory. If a target
directory or target file‚Äôs directory does not exist, it will be
automatically created. In the event that a file or directory could not be
copied, an error message will be output to standard error (unless <code class="docutils literal notranslate"><span class="pre">quiet</span></code>
is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>). If <code class="docutils literal notranslate"><span class="pre">critical</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the specified
file/directory could not be copied for any reason, this call will issue a
system exit (<code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>).</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># (stage)</span>
<span class="c1"># my-file</span>
<span class="n">releng_copy</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-file2&#39;</span><span class="p">)</span>
<span class="c1"># (stage)</span>
<span class="c1"># my-file</span>
<span class="c1"># my-file2</span>
<span class="n">releng_copy</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory/&#39;</span><span class="p">)</span>
<span class="c1"># (stage)</span>
<span class="c1"># my-directory/my-file</span>
<span class="c1"># my-file</span>
<span class="c1"># my-file2</span>
<span class="n">releng_copy</span><span class="p">(</span><span class="s1">&#39;my-directory/&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory2/&#39;</span><span class="p">)</span>
<span class="c1"># (stage)</span>
<span class="c1"># my-directory/my-file</span>
<span class="c1"># my-directory2/my-file</span>
<span class="c1"># my-file</span>
<span class="c1"># my-file2</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> ‚Äì the source directory or file</p></li>
<li><p><strong>dst</strong> ‚Äì the destination directory or file* (*if <code class="docutils literal notranslate"><span class="pre">src</span></code> is a file)</p></li>
<li><p><strong>quiet</strong> (<em>optional</em>) ‚Äì whether or not to suppress output</p></li>
<li><p><strong>critical</strong> (<em>optional</em>) ‚Äì whether or not to stop execution on failure</p></li>
<li><p><strong>dst_dir</strong> (<em>optional</em>) ‚Äì force hint that the destination is a directory</p></li>
<li><p><strong>nested</strong> (<em>optional</em>) ‚Äì nest a source directory into the destination</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the copy has completed with no error; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the copy
has failed</p>
</dd>
<dt class="field-odd">Verursacht<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> ‚Äì if the copy operation fails with <code class="docutils literal notranslate"><span class="pre">critical=True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_copy_into">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_copy_into</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critical</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nested</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_copy_into" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.13.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Add support for <code class="docutils literal notranslate"><span class="pre">nested</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided paths will now expand variables.</p>
</div>
<p>This call will attempt to copy a provided file, directory‚Äôs contents or
directory itself (if <code class="docutils literal notranslate"><span class="pre">nested</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>); defined by <code class="docutils literal notranslate"><span class="pre">src</span></code> into a
destination directory defined by <code class="docutils literal notranslate"><span class="pre">dst</span></code>. If a target directory does not
exist, it will be automatically created. In the event that a file or
directory could not be copied, an error message will be output to
standard error (unless <code class="docutils literal notranslate"><span class="pre">quiet</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>). If <code class="docutils literal notranslate"><span class="pre">critical</span></code>
is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the specified file/directory could not be copied
for any reason, this call will issue a system exit (<code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>).</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># (stage)</span>
<span class="c1"># my-file</span>
<span class="n">releng_copy_into</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory&#39;</span><span class="p">)</span>
<span class="c1"># (stage)</span>
<span class="c1"># my-directory/my-file</span>
<span class="c1"># my-file</span>
<span class="n">releng_copy_into</span><span class="p">(</span><span class="s1">&#39;my-directory&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory2&#39;</span><span class="p">)</span>
<span class="c1"># (stage)</span>
<span class="c1"># my-directory/my-file</span>
<span class="c1"># my-directory2/my-file</span>
<span class="c1"># my-file</span>
<span class="n">releng_copy_into</span><span class="p">(</span><span class="s1">&#39;my-directory&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory3&#39;</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># (stage)</span>
<span class="c1"># my-directory/my-file</span>
<span class="c1"># my-directory2/my-file</span>
<span class="c1"># my-directory3/directory/my-file</span>
<span class="c1"># my-file</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> ‚Äì the source directory or file</p></li>
<li><p><strong>dst</strong> ‚Äì the destination directory</p></li>
<li><p><strong>quiet</strong> (<em>optional</em>) ‚Äì whether or not to suppress output</p></li>
<li><p><strong>critical</strong> (<em>optional</em>) ‚Äì whether or not to stop execution on failure</p></li>
<li><p><strong>nested</strong> (<em>optional</em>) ‚Äì nest a source directory into the destination</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the copy has completed with no error; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the copy
has failed</p>
</dd>
<dt class="field-odd">Verursacht<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> ‚Äì if the copy operation fails with <code class="docutils literal notranslate"><span class="pre">critical=True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_define">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_define</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_define" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>Ensures a provided variable is defined in the caller‚Äôs global context.
If not, the variable will be defined with the provided default value.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="o">=</span> <span class="n">releng_define</span><span class="p">(</span><span class="s1">&#39;MY_DEFINE&#39;</span><span class="p">,</span> <span class="s1">&#39;default-value&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="c1"># (or)</span>
<span class="n">releng_define</span><span class="p">(</span><span class="s1">&#39;MY_DEFINE&#39;</span><span class="p">,</span> <span class="s1">&#39;default-value&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MY_DEFINE</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var</strong> ‚Äì the define/variable name</p></li>
<li><p><strong>default</strong> (<em>optional</em>) ‚Äì the default value to use if the define is not set</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p>the set value for this define</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_env">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_env" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.9: </span>Support the <code class="docutils literal notranslate"><span class="pre">overwrite</span></code> argument.</p>
</div>
<p>Provides a caller a simple method to fetch or configure an environment
variable for the current context. This call is the same as if one directly
fetched from or managed a key-value with <code class="docutils literal notranslate"><span class="pre">os.environ</span></code>. If <code class="docutils literal notranslate"><span class="pre">value</span></code> is not
provided, the environment variable‚Äôs value (if set) will be returned. If
<code class="docutils literal notranslate"><span class="pre">value</span></code> is set to a value of <code class="docutils literal notranslate"><span class="pre">None</span></code>, any set environment variable will
be removed. A caller can also set <code class="docutils literal notranslate"><span class="pre">overwrite=False</span></code> to avoid overwriting
an already configured environment variable.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># get an environment variable</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">releng_env</span><span class="p">(</span><span class="s1">&#39;KEY&#39;</span><span class="p">)</span>

<span class="c1"># set an environment variable</span>
<span class="n">releng_env</span><span class="p">(</span><span class="s1">&#39;KEY&#39;</span><span class="p">,</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">)</span>

<span class="c1"># set an environment variable if it is not already set</span>
<span class="n">releng_env</span><span class="p">(</span><span class="s1">&#39;KEY&#39;</span><span class="p">,</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> ‚Äì the environment key</p></li>
<li><p><strong>value</strong> (<em>optional</em>) ‚Äì the environment value to set</p></li>
<li><p><strong>overwrite</strong> (<em>optional</em>) ‚Äì whether to overwrite an environment variable</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p>the value of the environment variable</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_execute">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poll</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capture</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_stderr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_execute" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.13: </span>Add support for <code class="docutils literal notranslate"><span class="pre">expand</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.14: </span>Add support for <code class="docutils literal notranslate"><span class="pre">args_str</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.0: </span>Add support for <code class="docutils literal notranslate"><span class="pre">ignore_stderr</span></code>.</p>
</div>
<p>Runs the command described by <code class="docutils literal notranslate"><span class="pre">args</span></code> until completion. A caller can adjust
the working directory of the executed command by explicitly setting the
directory in <code class="docutils literal notranslate"><span class="pre">cwd</span></code>. The execution request will return <code class="docutils literal notranslate"><span class="pre">True</span></code> on a
successful execution; <code class="docutils literal notranslate"><span class="pre">False</span></code> if an issue has been detected (e.g. bad
options or called process returns a non-zero value). In the event that the
execution fails, an error message will be output to standard error unless
<code class="docutils literal notranslate"><span class="pre">quiet</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>The environment variables used on execution can be manipulated in two ways.
First, the environment can be explicitly controlled by applying a new
environment content using the <code class="docutils literal notranslate"><span class="pre">env</span></code> dictionary. Key of the dictionary will
be used as environment variable names, whereas the respective values will be
the respective environment variable‚Äôs value. If <code class="docutils literal notranslate"><span class="pre">env</span></code> is not provided, the
existing environment of the executing context will be used. Second, a caller
can instead update the existing environment by using the <code class="docutils literal notranslate"><span class="pre">env_update</span></code>
option. Like <code class="docutils literal notranslate"><span class="pre">env</span></code>, the key-value pairs match to respective environment
key-value pairs. The difference with this option is that the call will use
the original environment values and update select values which match in the
updated environment request. When <code class="docutils literal notranslate"><span class="pre">env</span></code> and <code class="docutils literal notranslate"><span class="pre">env_update</span></code> are both
provided, <code class="docutils literal notranslate"><span class="pre">env_update</span></code> will be updated the options based off of <code class="docutils literal notranslate"><span class="pre">env</span></code>
instead of the original environment of the caller.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">critical</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the execution fails for any reason,
this call will issue a system exit (<code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>). By default, the
critical flag is enabled (i.e. <code class="docutils literal notranslate"><span class="pre">critical=True</span></code>).</p>
<p>A caller may wish to capture the provided output from a process for
examination. If a list is provided in the call argument <code class="docutils literal notranslate"><span class="pre">capture</span></code>, the
list will be populated with the output provided from an invoked process.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_execute</span><span class="p">([</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;$TEST&#39;</span><span class="p">],</span> <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;TEST&#39;</span><span class="p">:</span> <span class="s1">&#39;this is a test&#39;</span><span class="p">})</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> ‚Äì the list of arguments to execute</p></li>
<li><p><strong>cwd</strong> (<em>optional</em>) ‚Äì working directory to use</p></li>
<li><p><strong>env</strong> (<em>optional</em>) ‚Äì environment variables to use for the process</p></li>
<li><p><strong>env_update</strong> (<em>optional</em>) ‚Äì environment variables to append for the process</p></li>
<li><p><strong>quiet</strong> (<em>optional</em>) ‚Äì whether or not to suppress output (defaults to
<code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><strong>critical</strong> (<em>optional</em>) ‚Äì whether or not to stop execution on failure
(defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
<li><p><strong>poll</strong> (<em>optional</em>) ‚Äì obsolete/ignored argument</p></li>
<li><p><strong>capture</strong> (<em>optional</em>) ‚Äì list to capture output into</p></li>
<li><p><strong>expand</strong> (<em>optional</em>) ‚Äì perform variable expansion on arguments</p></li>
<li><p><strong>args_str</strong> (<em>optional</em>) ‚Äì invoke arguments as a single string</p></li>
<li><p><strong>ignore_stderr</strong> (<em>optional</em>) ‚Äì ignore any stderr output</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the execution has completed with no error; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the
execution has failed</p>
</dd>
<dt class="field-odd">Verursacht<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> ‚Äì if the execution operation fails with <code class="docutils literal notranslate"><span class="pre">critical=True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_execute_rv">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_execute_rv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_execute_rv" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.8.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.13: </span>Add support for <code class="docutils literal notranslate"><span class="pre">expand</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.14: </span>Add support for <code class="docutils literal notranslate"><span class="pre">args_str</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.0: </span>Add support for <code class="docutils literal notranslate"><span class="pre">ignore_stderr</span></code>.</p>
</div>
<p>Runs the command <code class="docutils literal notranslate"><span class="pre">command</span></code> with provided <code class="docutils literal notranslate"><span class="pre">args</span></code> until completion. A
caller can adjust the working directory of the executed command by
explicitly setting the directory in <code class="docutils literal notranslate"><span class="pre">cwd</span></code>. The execution request will
return the command‚Äôs return code as well as any captured output.</p>
<p>The environment variables used on execution can be manipulated in two ways.
First, the environment can be explicitly controlled by applying a new
environment content using the <code class="docutils literal notranslate"><span class="pre">env</span></code> dictionary. Key of the dictionary will
be used as environment variable names, whereas the respective values will be
the respective environment variable‚Äôs value. If <code class="docutils literal notranslate"><span class="pre">env</span></code> is not provided, the
existing environment of the executing context will be used. Second, a caller
can instead update the existing environment by using the <code class="docutils literal notranslate"><span class="pre">env_update</span></code>
option. Like <code class="docutils literal notranslate"><span class="pre">env</span></code>, the key-value pairs match to respective environment
key-value pairs. The difference with this option is that the call will use
the original environment values and update select values which match in the
updated environment request. When <code class="docutils literal notranslate"><span class="pre">env</span></code> and <code class="docutils literal notranslate"><span class="pre">env_update</span></code> are both
provided, <code class="docutils literal notranslate"><span class="pre">env_update</span></code> will be updated the options based off of <code class="docutils literal notranslate"><span class="pre">env</span></code>
instead of the original environment of the caller.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">rv</span><span class="p">,</span> <span class="n">out</span> <span class="o">=</span> <span class="n">releng_execute_rv</span><span class="p">(</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="s1">&#39;$TEST&#39;</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;TEST&#39;</span><span class="p">:</span> <span class="s1">&#39;env-test&#39;</span><span class="p">})</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> ‚Äì the command to invoke</p></li>
<li><p><strong>*args</strong> (<em>optional</em>) ‚Äì arguments to add to the command</p></li>
<li><p><strong>**cwd</strong> ‚Äì working directory to use</p></li>
<li><p><strong>**env</strong> ‚Äì environment variables to use for the process</p></li>
<li><p><strong>**env_update</strong> ‚Äì environment variables to append for the process</p></li>
<li><p><strong>**expand</strong> ‚Äì perform variable expansion on arguments</p></li>
<li><p><strong>**args_str</strong> ‚Äì invoke arguments as a single string</p></li>
<li><p><strong>**ignore_stderr</strong> ‚Äì ignore any stderr output</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p>the return code and output of the execution request</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_exists">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_exists" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided path will now expand variables.</p>
</div>
<p>Allows a caller to verify the existence of a file on the file system. This
call will return <code class="docutils literal notranslate"><span class="pre">True</span></code> if the path exists; <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">releng_exists</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;the file exists&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;the file does not exist&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> ‚Äì the path</p></li>
<li><p><strong>*args</strong> (<em>optional</em>) ‚Äì additional components of the file</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the path exists; <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_exit">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_exit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_exit" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Provides a convenience method to help invoke a system exit call without
needing to explicitly use <code class="docutils literal notranslate"><span class="pre">sys</span></code>. A caller can provide a message to
indicate the reason for the exit. The provide message will output to
standard error. The exit code, if not explicit set, will vary on other
arguments. If a message is provided to this call, the default exit code will
be <code class="docutils literal notranslate"><span class="pre">1</span></code>. If no message is provided, the default exit code will be <code class="docutils literal notranslate"><span class="pre">0</span></code>.
In any case, if the caller explicitly sets a code value, the provided code
value will be used.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_exit</span><span class="p">(</span><span class="s1">&#39;there was an error performing this task&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<em>optional</em>) ‚Äì error message to print</p></li>
<li><p><strong>code</strong> (<em>optional</em>) ‚Äì exit code; defaults to 0 if no message or defaults to 1
if a message is set</p></li>
</ul>
</dd>
<dt class="field-even">Verursacht<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>SystemExit</strong> ‚Äì always raised</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_expand">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_expand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_expand" title="Link to this definition">¬∂</a></dt>
<dd><p>This expand utility method will attempt to expand variables in detected
string types. For a detected string which contains substrings in the form of
<code class="docutils literal notranslate"><span class="pre">$value</span></code> or <code class="docutils literal notranslate"><span class="pre">${value}</span></code>, these substrings will be replaced with their
respective key-value (if provided) or environment variable value. For
substrings which do not have a matching variable value, the substrings will
be replaced with an empty value. If a dictionary is provided, keys and
values will be checked if they can be expanded on. If a list/set is
provided, each value which be checked if it can be expanded on. If a
dictionary key is expanded to match another key, a key-value pair can be
dropped. If a set may result in a smaller set if expanded values result in
duplicate entries.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="o">...</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;MY_ENV&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;my-environment-variable&#39;</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">releng_expand</span><span class="p">(</span><span class="s1">&#39;$MY_ENV&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="c1"># will output: my-environment-variable</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> ‚Äì the object</p></li>
<li><p><strong>kv</strong> (<em>optional</em>) ‚Äì key-values pairs to use</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p>the expanded object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_include">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_include</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#releng_tool.releng_include" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.12.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided file path will now expand variables.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Introduce the <code class="docutils literal notranslate"><span class="pre">source</span></code> argument.</p>
</div>
<p>The provided call will execute code at the provided file path. The path
will be relative to the caller‚Äôs script, unless an absolute path is
provided. The executed script will be initialized with globals matching
the caller‚Äôs script.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># load &quot;my-other-script&quot; found alongside the current script</span>
<span class="n">releng_include</span><span class="p">(</span><span class="s1">&#39;my-other-script&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Changes to the global context can be imported into the caller‚Äôs context
by enabling the <code class="docutils literal notranslate"><span class="pre">source</span></code> argument. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># script &quot;my-var-script&quot; defines &quot;HELLO=&#39;world&#39;&quot;</span>
<span class="n">releng_include</span><span class="p">(</span><span class="s1">&#39;my-var-script&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># prints &quot;world&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">HELLO</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> ‚Äì the script to invoke</p></li>
<li><p><strong>source</strong> (<em>optional</em>) ‚Äì import globals into invoking script</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="releng_tool.releng_join">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_join" title="Link to this definition">¬∂</a></dt>
<dd><p>An alias for <code class="docutils literal notranslate"><span class="pre">os.path.join</span></code>. See also
<a class="reference external" href="https://docs.python.org/library/os.path.html#os.path.join">https://docs.python.org/library/os.path.html#os.path.join</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_ls">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_ls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_ls" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.11.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.0: </span>Add support for <code class="docutils literal notranslate"><span class="pre">recursive</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided directory will now expand variables.</p>
</div>
<p>Attempts to read a directory for its contents and prints this information
to the configured standard output stream.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_ls</span><span class="p">(</span><span class="s1">&#39;my-dir/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> ‚Äì the directory</p></li>
<li><p><strong>recursive</strong> (<em>optional</em>) ‚Äì recursive search of entries</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the directory could be read and its contents have been
printed to the standard output; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the directory could not
be read</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_mkdir">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_mkdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></span><a class="headerlink" href="#releng_tool.releng_mkdir" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.13: </span>Add support for <code class="docutils literal notranslate"><span class="pre">critical</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.3: </span>Accepts multiple paths components.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.3: </span>Returns the created path.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided directory will now expand variables.</p>
</div>
<p>Attempts to create the provided directory. If the directory already exists,
this method has no effect. If the directory does not exist and could not be
created, this method will return <code class="docutils literal notranslate"><span class="pre">None</span></code>. Also, if an error has been
detected, an error message will be output to standard error (unless
<code class="docutils literal notranslate"><span class="pre">quiet</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">releng_mkdir</span><span class="p">(</span><span class="s1">&#39;my-directory&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;directory was created&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;directory was not created&#39;</span><span class="p">)</span>

<span class="n">target_dir</span> <span class="o">=</span> <span class="n">releng_mkdir</span><span class="p">(</span><span class="n">TARGET_DIR</span><span class="p">,</span> <span class="s1">&#39;sub-folder&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">target_dir</span><span class="p">:</span>
    <span class="c1"># output] target directory: &lt;target&gt;/sub-folder</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;target directory:&#39;</span><span class="p">,</span> <span class="n">target_dir</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;directory was not created&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> ‚Äì the directory</p></li>
<li><p><strong>*args</strong> (<em>optional</em>) ‚Äì additional components of the directory</p></li>
<li><p><strong>**quiet</strong> (<em>optional</em>) ‚Äì whether or not to suppress output (defaults
to <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
<li><p><strong>**critical</strong> (<em>optional</em>) ‚Äì whether or not to stop execution on
failure (defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p>the directory that exists; <code class="docutils literal notranslate"><span class="pre">None</span></code> if the directory could not
be created</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_move">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critical</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nested</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_move" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 0.14: </span>Add support for <code class="docutils literal notranslate"><span class="pre">dst_dir</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Add support for <code class="docutils literal notranslate"><span class="pre">nested</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided paths will now expand variables.</p>
</div>
<p>This call will attempt to move a provided file, directory‚Äôs contents or
directory itself (if <code class="docutils literal notranslate"><span class="pre">nested</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>); defined by <code class="docutils literal notranslate"><span class="pre">src</span></code> into a
destination file or directory defined by <code class="docutils literal notranslate"><span class="pre">dst</span></code>. If <code class="docutils literal notranslate"><span class="pre">src</span></code> is a file,
then <code class="docutils literal notranslate"><span class="pre">dst</span></code> is considered to be a file or directory; if <code class="docutils literal notranslate"><span class="pre">src</span></code> is a
directory, <code class="docutils literal notranslate"><span class="pre">dst</span></code> is considered a target directory. If a target
directory or target file‚Äôs directory does not exist, it will be
automatically created.</p>
<p>In the event that a file or directory could not be moved, an error message
will be output to standard error (unless <code class="docutils literal notranslate"><span class="pre">quiet</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>). If
<code class="docutils literal notranslate"><span class="pre">critical</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the specified file/directory could not
be moved for any reason, this call will issue a system exit
(<code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>).</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># (input)</span>
<span class="c1"># my-directory/another-file</span>
<span class="c1"># my-file</span>
<span class="c1"># my-file2</span>
<span class="n">releng_move</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-file3&#39;</span><span class="p">)</span>
<span class="n">releng_move</span><span class="p">(</span><span class="s1">&#39;my-directory/&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory2/&#39;</span><span class="p">)</span>
<span class="n">releng_move</span><span class="p">(</span><span class="s1">&#39;my-file2&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory2/&#39;</span><span class="p">)</span>
<span class="c1"># (output)</span>
<span class="c1"># my-directory2/another-file</span>
<span class="c1"># my-directory2/my-file2</span>
<span class="c1"># my-file3</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> ‚Äì the source directory or file</p></li>
<li><p><strong>dst</strong> ‚Äì the destination directory or file* (*if <code class="docutils literal notranslate"><span class="pre">src</span></code> is a file)</p></li>
<li><p><strong>quiet</strong> (<em>optional</em>) ‚Äì whether or not to suppress output</p></li>
<li><p><strong>critical</strong> (<em>optional</em>) ‚Äì whether or not to stop execution on failure</p></li>
<li><p><strong>dst_dir</strong> (<em>optional</em>) ‚Äì force hint that the destination is a directory</p></li>
<li><p><strong>nested</strong> (<em>optional</em>) ‚Äì nest a source directory into the destination</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the move has completed with no error; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the move
has failed</p>
</dd>
<dt class="field-odd">Verursacht<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> ‚Äì if the copy operation fails with <code class="docutils literal notranslate"><span class="pre">critical=True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_move_into">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_move_into</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critical</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nested</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_move_into" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.14.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 1.4: </span>Add support for <code class="docutils literal notranslate"><span class="pre">nested</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided paths will now expand variables.</p>
</div>
<p>This call will attempt to move a provided file, directory‚Äôs contents or
directory itself (if <code class="docutils literal notranslate"><span class="pre">nested</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>); defined by <code class="docutils literal notranslate"><span class="pre">src</span></code> into a
destination directory defined by <code class="docutils literal notranslate"><span class="pre">dst</span></code>. If a target directory directory
does not exist, it will be automatically created.</p>
<p>In the event that a file or directory could not be moved, an error message
will be output to standard error (unless <code class="docutils literal notranslate"><span class="pre">quiet</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>). If
<code class="docutils literal notranslate"><span class="pre">critical</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the specified file/directory could not
be moved for any reason, this call will issue a system exit
(<code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>).</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># (input)</span>
<span class="c1"># my-directory/another-file</span>
<span class="c1"># my-directory2/another-file2</span>
<span class="c1"># my-file</span>
<span class="c1"># my-file2</span>
<span class="n">releng_move_into</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-file3&#39;</span><span class="p">)</span>
<span class="n">releng_move_into</span><span class="p">(</span><span class="s1">&#39;my-directory&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory3&#39;</span><span class="p">)</span>
<span class="n">releng_move_into</span><span class="p">(</span><span class="s1">&#39;my-file2&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory3&#39;</span><span class="p">)</span>
<span class="n">releng_move_into</span><span class="p">(</span><span class="s1">&#39;my-directory2&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory3&#39;</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># (output)</span>
<span class="c1"># my-directory3/my-directory2/another-file2</span>
<span class="c1"># my-directory3/another-file</span>
<span class="c1"># my-directory3/my-file2</span>
<span class="c1"># my-file3</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> ‚Äì the source directory or file</p></li>
<li><p><strong>dst</strong> ‚Äì the destination directory</p></li>
<li><p><strong>quiet</strong> (<em>optional</em>) ‚Äì whether or not to suppress output</p></li>
<li><p><strong>critical</strong> (<em>optional</em>) ‚Äì whether or not to stop execution on failure</p></li>
<li><p><strong>nested</strong> (<em>optional</em>) ‚Äì nest a source directory into the destination</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the move has completed with no error; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the move
has failed</p>
</dd>
<dt class="field-odd">Verursacht<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> ‚Äì if the copy operation fails with <code class="docutils literal notranslate"><span class="pre">critical=True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="releng_tool.releng_path">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">pathsegments</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_path" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 2.3.</span></p>
</div>
<p>An alias for <code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code>. See also
<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path">https://docs.python.org/3/library/pathlib.html#pathlib.Path</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_register_path">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_register_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">critical</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_register_path" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>This call will register a provided path into the Python module search path
(<code class="docutils literal notranslate"><span class="pre">sys.path</span></code>). This can be useful for situations when trying to load a
local/relative folder containing extensions or other enhancements a
developer wants to use/import. If <code class="docutils literal notranslate"><span class="pre">critical</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the
specified directory could not be registered for any reason, this call will
issue a system exit (<code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>).</p>
<p>If the provided path is already registered, the call is ignored and will
return as if a registration was made (<code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_register_path</span><span class="p">(</span><span class="n">ROOT_DIR</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s1">&#39;my-other-folder&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> ‚Äì the directory to register</p></li>
<li><p><strong>critical</strong> (<em>optional</em>) ‚Äì whether or not to stop execution on failure</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the path has been registered; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the registration
has failed</p>
</dd>
<dt class="field-odd">Verursacht<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> ‚Äì if the registration fails with <code class="docutils literal notranslate"><span class="pre">critical=True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_remove">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_remove" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided path will now expand variables.</p>
</div>
<p>Attempts to remove the provided path if it exists. The path value can either
be a directory or a specific file. If the provided path does not exist, this
method has no effect. In the event that a file or directory could not be
removed due to an error other than unable to be found, an error message will
be output to standard error (unless <code class="docutils literal notranslate"><span class="pre">quiet</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_remove</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">)</span>
<span class="c1"># (or)</span>
<span class="n">releng_remove</span><span class="p">(</span><span class="s1">&#39;my-directory/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> ‚Äì the path to remove</p></li>
<li><p><strong>quiet</strong> (<em>optional</em>) ‚Äì whether or not to suppress output</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the path was removed or does not exist; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the
path could not be removed from the system</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_symlink">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_symlink</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">link_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">critical</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_symlink" title="Link to this definition">¬∂</a></dt>
<dd><div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>This call may not work in Windows environments if the user invoking
releng-tool does not have permission to create symbolic links.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided paths will now expand variables.</p>
</div>
<p>This call will attempt to create a symbolic link to a <code class="docutils literal notranslate"><span class="pre">target</span></code> path.
A provided <code class="docutils literal notranslate"><span class="pre">link_path</span></code> determines where the symbolic link will be
created. By default, the <code class="docutils literal notranslate"><span class="pre">link_path</span></code> identifies the symbolic link file
to be created. However, if <code class="docutils literal notranslate"><span class="pre">lpd</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, it will consider
the <code class="docutils literal notranslate"><span class="pre">link_path</span></code> as a directory to create a symbolic link in. For this
case, the resulting symbolic link‚Äôs filename will match the basename of
the provided <code class="docutils literal notranslate"><span class="pre">target</span></code> path.</p>
<p>If a symbolic link already exists at the provided link path, the
symbolic link will be replaced with the new <code class="docutils literal notranslate"><span class="pre">target</span></code>. If the resolved
link path already exists and is not a symbolic link, this operation will
not attempt to create a symbolic link.</p>
<p>If the directory structure of a provided <code class="docutils literal notranslate"><span class="pre">link_path</span></code> does not exist,
it will be automatically created. In the event that a symbolic link or
directory could not be created, an error message will be output to
standard error (unless <code class="docutils literal notranslate"><span class="pre">quiet</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>). If <code class="docutils literal notranslate"><span class="pre">critical</span></code> is
set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and the symbolic link could not be created for any
reason, this call will issue a system exit (<code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>).</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my-link -&gt; my-file</span>
<span class="n">releng_symlink</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-link&#39;</span><span class="p">)</span>

<span class="c1"># my-link -&gt; container/my-file</span>
<span class="n">releng_symlink</span><span class="p">(</span><span class="s1">&#39;container/my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-link&#39;</span><span class="p">)</span>

<span class="c1"># some/folder/my-link -&gt; ../../my-file</span>
<span class="n">releng_symlink</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;some/folder/my-link&#39;</span><span class="p">)</span>

<span class="c1"># my-file -&gt; container/my-file</span>
<span class="n">releng_symlink</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;container&#39;</span><span class="p">,</span> <span class="n">ldp</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># some-path/my-link -&gt; &lt;workdir&gt;/folder/my-file</span>
<span class="n">releng_symlink</span><span class="p">(</span><span class="s1">&#39;folder/my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;some-path/my-link&#39;</span><span class="p">,</span> <span class="n">relative</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> ‚Äì the source path to link to</p></li>
<li><p><strong>link_path</strong> ‚Äì the symbolic link path</p></li>
<li><p><strong>quiet</strong> (<em>optional</em>) ‚Äì whether to suppress output</p></li>
<li><p><strong>critical</strong> (<em>optional</em>) ‚Äì whether to stop execution on failure</p></li>
<li><p><strong>lpd</strong> (<em>optional</em>) ‚Äì hint that the link is a directory to create in</p></li>
<li><p><strong>relative</strong> (<em>optional</em>) ‚Äì whether to build a relative link</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the symbolic link has been created; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the
symbolic link could not be created</p>
</dd>
<dt class="field-odd">Verursacht<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> ‚Äì if the symbolic link operation fails with <code class="docutils literal notranslate"><span class="pre">critical=True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_require_version">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_require_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.releng_require_version" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 0.11.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.0: </span>Support maximum version.</p>
</div>
<p>Enables a caller to explicitly check for a required releng-tool version.
Invoking this function with a dotted-separated <code class="docutils literal notranslate"><span class="pre">version</span></code> string, the
string will be parsed and compared with the running releng-tool version.
If the required version is met, this method will have no effect. In the
event that the required version is not met, the exception <code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>
will be raised if the critical flag is set; otherwise this call will
return <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ensure we are using releng-tool v1</span>
<span class="n">releng_require_version</span><span class="p">(</span><span class="s1">&#39;1.0.0&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minver</strong> ‚Äì dotted-separated minimum version string</p></li>
<li><p><strong>**quiet</strong> (<em>optional</em>) ‚Äì whether or not to suppress output</p></li>
<li><p><strong>**critical</strong> (<em>optional</em>) ‚Äì whether or not to stop execution on failure</p></li>
<li><p><strong>**maxver</strong> (<em>optional</em>) ‚Äì dotted-separated maximum version string</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the version check is met; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the version check
has failed</p>
</dd>
<dt class="field-odd">Verursacht<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SystemExit</strong> ‚Äì if the version check fails with <code class="docutils literal notranslate"><span class="pre">critical=True</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_tmpdir">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_tmpdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#releng_tool.releng_tmpdir" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Add support for <code class="docutils literal notranslate"><span class="pre">*args</span></code> and <code class="docutils literal notranslate"><span class="pre">**wd</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided directory will now expand variables.</p>
</div>
<p>Creates a temporary directory in the provided directory <code class="docutils literal notranslate"><span class="pre">dir_</span></code> (or system
default, is not provided). This is a context-supported call and will
automatically remove the directory when completed. If the provided
directory does not exist, it will created. If the directory could not be
created, an <code class="docutils literal notranslate"><span class="pre">FailedToPrepareBaseDirectoryError</span></code> exception will be thrown.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">releng_tmpdir</span><span class="p">()</span> <span class="k">as</span> <span class="n">dir_</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<em>optional</em>) ‚Äì the directory to create the temporary directory in</p></li>
<li><p><strong>**wd</strong> (<em>optional</em>) ‚Äì whether to use the temporary directory as the
working directory (defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Verursacht<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FailedToPrepareBaseDirectoryError</strong> ‚Äì the base directory does not exist and
    could not be created</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_touch">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_touch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#releng_tool.releng_touch" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Add support for <code class="docutils literal notranslate"><span class="pre">*args</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided file will now expand variables.</p>
</div>
<p>Attempts to update the access/modifications times on a file. If the file
does not exist, it will be created. This utility call operates in the same
fashion as the <code class="docutils literal notranslate"><span class="pre">touch</span></code> system command.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">releng_touch</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;file was created&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;file was not created&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> ‚Äì the file</p></li>
<li><p><strong>*args</strong> (<em>optional</em>) ‚Äì additional components of the file</p></li>
</ul>
</dd>
<dt class="field-even">R√ºckgabe<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the file was created/updated; <code class="docutils literal notranslate"><span class="pre">False</span></code> if the file could
not be created/updated</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.releng_wd">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">releng_wd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#releng_tool.releng_wd" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Accepts a str, bytes or os.PathLike.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided directory will now expand variables.</p>
</div>
<p>Moves the current context into the provided working directory <code class="docutils literal notranslate"><span class="pre">dir</span></code>. When
returned, the original working directory will be restored. If the provided
directory does not exist, it will created. If the directory could not be
created, an <code class="docutils literal notranslate"><span class="pre">FailedToPrepareWorkingDirectoryError</span></code> exception will be
thrown.</p>
<p>An example when using in the context of script helpers is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">releng_wd</span><span class="p">(</span><span class="s1">&#39;my-directory/&#39;</span><span class="p">):</span>
    <span class="c1"># invoked in &#39;my-directory&#39;</span>

<span class="c1"># invoked in original working directory</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dir</strong> ‚Äì the target working directory</p>
</dd>
<dt class="field-even">Verursacht<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FailedToPrepareWorkingDirectoryError</strong> ‚Äì the working directory does not
    exist and could not be created</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.success">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">success</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.success" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Logs a success message to standard error with a trailing new line and (if
enabled) a green colorization.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">success</span><span class="p">(</span><span class="s1">&#39;this is a success message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> ‚Äì the message</p></li>
<li><p><strong>*args</strong> ‚Äì an arbitrary set of positional and keyword arguments used when
generating a formatted message</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.verbose">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">verbose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.verbose" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Logs a verbose message to standard out with a trailing new line and (if
enabled) an inverted colorization. By default, verbose messages will not be
output to standard out unless the instance is configured with verbosity.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">verbose</span><span class="p">(</span><span class="s1">&#39;this is a verbose message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> ‚Äì the message</p></li>
<li><p><strong>*args</strong> ‚Äì an arbitrary set of positional and keyword arguments used when
generating a formatted message</p></li>
</ul>
</dd>
</dl>
<p>See also the <code class="docutils literal notranslate"><span class="pre">--verbose</span></code> <a class="reference internal" href="#document-guides/arguments#arg-verbose"><span class="std std-ref">argument</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="releng_tool.warn">
<span class="sig-prename descclassname"><span class="pre">releng_tool.</span></span><span class="sig-name descname"><span class="pre">warn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#releng_tool.warn" title="Link to this definition">¬∂</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>Provided message will now expand variables.</p>
</div>
<p>Logs a warning message to standard error with a trailing new line and (if
enabled) a purple colorization.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;this is a warning message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameter<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> ‚Äì the message</p></li>
<li><p><strong>*args</strong> ‚Äì an arbitrary set of positional and keyword arguments used when
generating a formatted message</p></li>
</ul>
</dd>
<dt class="field-even">Verursacht<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RelengToolWarningAsError</strong> ‚Äì when warnings-are-errors is configured</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="available-variables">
<h4>Available variables<a class="headerlink" href="#available-variables" title="Link to this heading">¬∂</a></h4>
<p>The following variables are registered in the global context for any
project or package definition/script.</p>
<section id="releng-args">
<span id="vars-releng-args"></span><h5><code class="docutils literal notranslate"><span class="pre">releng_args</span></code><a class="headerlink" href="#releng-args" title="Link to this heading">¬∂</a></h5>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.5: </span>Variable no longer populated when <a class="reference internal" href="#document-guides/arguments#action-pkg-exec"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">action-pkg-exec</span></code></span></a> is set.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>When using <a class="reference internal" href="#document-guides/arguments#action-pkg-exec"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-exec</span> <span class="pre">&quot;&lt;cmd&gt;&quot;</span></code></span></a>, the <code class="docutils literal notranslate"><span class="pre">releng_args</span></code> variable
will not be populated. This is to prevent conflicts from project-specific
argument processing and package-specific run arguments.</p>
</div>
<p>A list of arguments forwarded into a releng-tool invoke. If a caller uses
the <code class="docutils literal notranslate"><span class="pre">--</span></code> argument, all trailing arguments will be populated into
‚Äûforwarded argument‚Äú list. A project may use these arguments for their own
tailoring.</p>
<p>A user can use Python‚Äôs <a class="reference external" href="https://docs.python.org/3/library/argparse.html"><code class="docutils literal notranslate"><span class="pre">argparse</span></code></a> module to manage custom
arguments. For example, if trying to add a new flag <code class="docutils literal notranslate"><span class="pre">--custom</span></code> to a build,
the following can be added into a project‚Äôs <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> definition:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">argparse</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--custom&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="n">releng_args</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">custom</span><span class="p">)</span>
</pre></div>
</div>
<p>The flag can be enabled by invoking releng-tool using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span> <span class="o">--</span><span class="n">custom</span>
</pre></div>
</div>
</section>
<section id="releng-version">
<h5><code class="docutils literal notranslate"><span class="pre">releng_version</span></code><a class="headerlink" href="#releng-version" title="Link to this heading">¬∂</a></h5>
<p>The version of releng-tool.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Using version </span><span class="si">{</span><span class="n">releng_version</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="importing-helpers">
<h4>Importing helpers<a class="headerlink" href="#importing-helpers" title="Link to this heading">¬∂</a></h4>
<p>Scripts directly invoked by releng-tool will automatically have these helpers
registered in the script‚Äôs globals module (i.e. no import is necessary). If a
project defines custom Python modules in their project and wishes to take
advantage of these helper functions, the following import can be used to, for
example, import a specific function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">releng_tool</span><span class="w"> </span><span class="kn">import</span> <span class="n">releng_execute</span>
</pre></div>
</div>
<p>Or, if desired, all helper methods can be imported at once:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">releng_tool</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</section>
</section>
<span id="document-guides/licenses"></span><section id="licenses">
<h3>Licenses<a class="headerlink" href="#licenses" title="Link to this heading">¬∂</a></h3>
<p>A releng-tool project can defined multiple packages, each with the
possibility of having multiple licenses associated with them. Each project
may vary: some may have only proprietary sources and may not care about
tracking this information, some may only use open source software and
require to populate license information for a final package, or a mix.</p>
<p>When license information is populated for a project, each project‚Äôs license
information (<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-license-files"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE_FILES</span></code></span></a>) is will be
populated into a single license document. If a developer defines the
<a class="reference internal" href="#document-guides/configuration#conf-license-header"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">license_header</span></code></span></a> configuration, the generated
document will be prefixed with the header content. For example, developers
can create a new license header file <code class="docutils literal notranslate"><span class="pre">assets/license-header.tpl</span></code> in the
project folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ assets/
    ‚îÇ   ‚îî‚îÄ‚îÄ license-header.tpl        &lt;----
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p>Which then <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> can be configured to use the header contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="o">...</span> <span class="p">(</span><span class="n">other</span> <span class="n">configuration</span> <span class="n">options</span><span class="p">)</span>

<span class="n">license_header_file</span> <span class="o">=</span> <span class="n">ROOT_DIR</span> <span class="o">/</span> <span class="s1">&#39;assets&#39;</span> <span class="o">/</span> <span class="s1">&#39;license-header.tpl&#39;</span>
<span class="n">license_header</span> <span class="o">=</span> <span class="n">license_header_file</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</pre></div>
</div>
<p>Licenses for a project are generated before the
<a class="reference internal" href="#document-guides/post-processing"><span class="doc std std-doc">post-processing</span></a> phase. This allows a developer to use
generated license document(s) when preparing final archives/packages.</p>
<p>See also <a class="reference internal" href="#document-guides/tips/license-generation"><span class="doc std std-doc">license generation</span></a>.</p>
</section>
<span id="document-guides/tips/tips"></span><section id="tips">
<h3>Tips<a class="headerlink" href="#tips" title="Link to this heading">¬∂</a></h3>
<p>The following contains a series of tips which may be helpful for a user:</p>
<div class="toctree-wrapper compound">
<span id="document-guides/tips/offline-builds"></span><section id="offline-builds">
<h4>Offline builds<a class="headerlink" href="#offline-builds" title="Link to this heading">¬∂</a></h4>
<p>A user can prepare for an offline build by using the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> action:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>fetch
</pre></div>
</div>
<p>Package content will be downloaded into the respective <code class="docutils literal notranslate"><span class="pre">dl/</span></code> or <code class="docutils literal notranslate"><span class="pre">cache/</span></code>
folders into the output directory. Future builds for the project should no
longer need external access until these folders are removed.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>There are a few exceptions where offline builds may not function as expected.</p>
<ol class="arabic simple">
<li><p>If running in a development mode and a package definition defines a
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span></code></span></a> configuration,
updated sources will be re-fetched each time.</p></li>
<li><p>If a developer defines a package definition or a post-build script which
performs fetch-like calls (e.g. if custom files are downloaded when running
a <code class="docutils literal notranslate"><span class="pre">libfoo-build</span></code> script), releng-tool will not stop the script from
performing this request. Offline builds are only possible if developers
define their projects in a way where fetching-like operations only occur
during a fetch-stage.</p></li>
<li><p>If a package defines additional dependencies (e.g. Cargo packages),
additional downloading may be required after an extraction phase. Users
can use the <a class="reference internal" href="#document-guides/arguments#action-fetch-full"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch-full</span></code></span></a> to help ensure all
dependencies required for a build have been downloaded.</p></li>
</ol>
</div>
</section>
<span id="document-guides/tips/parallel-builds"></span><section id="parallel-builds">
<h4>Parallel builds<a class="headerlink" href="#parallel-builds" title="Link to this heading">¬∂</a></h4>
<p>A stage for a package (such as a build stage) can take advantage of multiple
cores to perform the step. By default, releng-tool will attempt to run as many
jobs for a stage equal to the amount of physical cores on the host system. The
amount of jobs available for a stage can be configured using the
<a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span></code></span></a> argument. For example, if a user wishes to override the
amount of jobs attempted for stages to two jobs, the following can be used:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>--jobs<span class="w"> </span><span class="m">2</span>
</pre></div>
</div>
<p>If the total number of jobs provided is negative, it will subtract the
provided value from the automatic job detection count (to a minimum of one).
For example, to use one less job than normally used:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>--jobs<span class="w"> </span>-1
</pre></div>
</div>
<p>Note that a developer may adjust the amount of jobs allowed for a specific
package if a package cannot support parallel processing using the
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> or
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a> package options.</p>
</section>
<span id="document-guides/tips/privileged-builds"></span><section id="privileged-builds">
<h4>Privileged builds<a class="headerlink" href="#privileged-builds" title="Link to this heading">¬∂</a></h4>
<p>It is never recommended to invoke a build with elevated (e.g. root) privileges.
A builder invoking in an elevated environment runs the risk of a misconfigured
releng-tool project <em>dirtying or destroying</em> the builder‚Äôs host environment.</p>
<p>releng-tool will generate a warning when an elevated run has been detected.
For certain cases when using a container image that operates in a single-user
mode, the image can define the environment variable
<a class="reference internal" href="#document-guides/environment#env-releng-ignore-running-as-root"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_IGNORE_RUNNING_AS_ROOT</span></code></span></a> to
suppress these warnings.</p>
</section>
<span id="document-guides/tips/license-generation"></span><section id="license-generation">
<h4>License generation<a class="headerlink" href="#license-generation" title="Link to this heading">¬∂</a></h4>
<p>At the end of a <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code> invoke, the final stages will compile a list of
package license information (if licenses are defined). If a user wishes to
compile a project‚Äôs list of license information without performing an entire
build, the <code class="docutils literal notranslate"><span class="pre">licenses</span></code> action can be used:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>licenses
</pre></div>
</div>
<p>License information can then be found in the root directory‚Äôs
<code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/licenses</span></code> folder.</p>
</section>
<span id="document-guides/tips/alternative-extensions"></span><section id="alternative-extensions">
<h4>Alternative extensions<a class="headerlink" href="#alternative-extensions" title="Link to this heading">¬∂</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>The <code class="docutils literal notranslate"><span class="pre">.releng</span></code> extension is no longer recommended and will be removed in
a future release.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.2: </span>Extensionless configurations/scripts are no longer recommended and may
be removed in a future release.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.2: </span>Extension priority orders have changed (&lt;2.2: <em>(none)</em>, <code class="docutils literal notranslate"><span class="pre">.rt</span></code>, <code class="docutils literal notranslate"><span class="pre">.releng</span></code>,
<code class="docutils literal notranslate"><span class="pre">.py</span></code>; &gt;=2.2: <code class="docutils literal notranslate"><span class="pre">.rt</span></code>, <code class="docutils literal notranslate"><span class="pre">.py</span></code>, <em>(none)</em>, <code class="docutils literal notranslate"><span class="pre">.releng</span></code>).</p>
</div>
<p>A default configuration file is typically a file named <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code>
at the root of a project. Consider the following example of a project
with a <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> package with various stage scripts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.rt
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo-build.rt
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-install.rt
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p>Developers who do not prefer the <code class="docutils literal notranslate"><span class="pre">.rt</span></code> extension may use the <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension.
For example, the above example is equivalent to the structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.py
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo-build.py
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo-install.py
    ‚îî‚îÄ‚îÄ releng-tool.py
</pre></div>
</div>
<p>For a specific file to be loaded, releng-tool uses the following priority:</p>
<ol class="arabic simple">
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.rt</span></code> extension</p></li>
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension</p></li>
<li><p>File without an extension (<em>deprecated</em>)</p></li>
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.releng</span></code> extension (<em>deprecated</em>)</p></li>
</ol>
<p>Only the first detected file will be loaded. For example, if a project has
multiple releng-tool configuration files with different extensions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ‚îî‚îÄ‚îÄ releng-tool.py
</pre></div>
</div>
<p>Only the <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> configuration script will be used.</p>
</section>
<span id="document-guides/tips/vcs-ignore"></span><section id="vcs-ignore">
<h4>VCS Ignore<a class="headerlink" href="#vcs-ignore" title="Link to this heading">¬∂</a></h4>
<p>When invoking releng-tool on a project, the project‚Äôs root directory will be
populated with cached assets and other output files. A series of standard
ignore patterns can be applied to a repository to prevent observing these
generated files using VCS tools. The following is an example ignore
configuration which can be applied for Git-based repositories (via
<code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># releng-tool</span>
<span class="o">/</span><span class="n">cache</span><span class="o">/</span>
<span class="o">/</span><span class="n">dl</span><span class="o">/</span>
<span class="o">/</span><span class="n">output</span><span class="o">/</span>
<span class="o">.</span><span class="n">releng</span><span class="o">-</span><span class="n">flag</span><span class="o">-*</span>
</pre></div>
</div>
</section>
</div>
</section>
<span id="document-guides/advanced-guides"></span><section id="advanced">
<h3>Advanced<a class="headerlink" href="#advanced" title="Link to this heading">¬∂</a></h3>
<p>The following contains a series of advanced guides which a developer may
want to use for more involved use cases.</p>
<div class="toctree-wrapper compound">
<span id="document-guides/patching"></span><section id="patching">
<h4>Patching<a class="headerlink" href="#patching" title="Link to this heading">¬∂</a></h4>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Patches are ignored when in <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a> by default
for packages with a development revision, for <code class="docutils literal notranslate"><span class="pre">local</span></code> VCS packages or when
in <a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a> for internal packages.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.9: </span>Additional configuration modes to permit development revisions to have
patches applied.</p>
</div>
<p>The patching stage for a package provides the ability for a developer to apply
one or more patches to extracted sources. A project may take advantage of
acquiring sources from one or more externally managed implementations.
Fetched sources may not be able to build in a developer‚Äôs releng-tool
project due to limitations of the implementation or build scripts provided
by the package. A developer can prepare a series of patches to apply to a
package and submit changes upstream to correct the issue. However, the
developer is then left to either wait for the changes to be merged in or
needs to make a custom archive with the appropriate modifications already
applied. To avoid this, a developer can include patches directly in the
package folder to be automatically applied during patching stage.</p>
<p>When a package‚Äôs patch stage is reached, releng-tool will look for patches
found inside the package folder with the extension <code class="docutils literal notranslate"><span class="pre">.patch</span></code>. Patches found
inside a package folder are applied in ascending order. It is recommended
to prefix patch filenames with a numerical value for clarity. For example,
the following package patches:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span><span class="w"> </span>package/liba
<span class="gp">$ </span>ls<span class="w"> </span>*.patch
<span class="go">0001-accept-linker-flags.patch</span>
<span class="go">0002-correct-output-path.patch</span>
<span class="go">0003-support-disabling-test-build.patch</span>
<span class="go">liba</span>
<span class="go">liba.hash</span>
</pre></div>
</div>
<p>With be applied in the following order:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0001-accept-linker-flags.patch</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0002-correct-output-path.patch</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0003-support-disabling-test-build.patch</span></code></p></li>
</ol>
<p>If a user configures their build environment in
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>, patches will not be applied by default
if a package defines a development revision. The idea is that a development
revision is most likely the bleeding edge source of a package and does not
need any patches. If a user configures their build environment in
<a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a> and a package is defined as
internal, patches will not be applied to the sources. This is to prevent the
patching system from making unexpected modifications to a developer‚Äôs local
sources.</p>
<p>In the scenario where a developer does want to override when patches are
applied, there are a couple of advanced options. First, the option
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-ignore-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_IGNORE_PATCHES</span></code></span></a> allows a developer to avoid
the automatic application of patches on a package during normal runs. Second,
the option <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_PATCHES</span></code></span></a> can be
configured to permit a package to utilize patches in a development mode.</p>
<p>For example, the following configuration will instead only apply patches on
a package when releng-tool is operating in a development mode and the package
defines a development revision:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_PATCHES</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">LIBFOO_IGNORE_PATCHES</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<span id="document-guides/intern-extern-pkgs"></span><section id="internal-external-packages">
<h4>Internal/external packages<a class="headerlink" href="#internal-external-packages" title="Link to this heading">¬∂</a></h4>
<p>Packages are either internal or external packages. All packages are
considered external by default unless explicitly configured as internal
through either a project configuration or a package option. Internal
or external packages are treated the same except for the following:</p>
<ul class="simple">
<li><p>An internal package will not generate output warnings if the package is
missing <a class="reference internal" href="#document-guides/packages/hash-file"><span class="doc std std-doc">hash information</span></a> or an
<a class="reference internal" href="#document-guides/packages/ascii-armor"><span class="doc std std-doc">ASCII-armor</span></a>.</p></li>
<li><p>An internal package will not generate output warnings if the package is
missing <a class="reference internal" href="#document-guides/licenses"><span class="doc std std-doc">licenses</span></a>.</p></li>
<li><p>When configured for <a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>, only internal
packages which have local sources configured will have their fetch,
extract and patch stages skipped.</p></li>
</ul>
<p>An individual package can be configured as internal using
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-internal"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INTERNAL</span></code></span></a>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_INTERNAL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Developers may want to instead use the project configuration
<a class="reference internal" href="#document-guides/configuration#conf-default-internal"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">default_internal</span></code></span></a> to configure all packages as
internal by default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">default_internal</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-external"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTERNAL</span></code></span></a>.</p>
</section>
<span id="document-guides/development-mode"></span><section id="development-mode">
<h4>Development mode<a class="headerlink" href="#development-mode" title="Link to this heading">¬∂</a></h4>
<p>Development mode provides a way for a user to process packages using
variant/development versions of sources rather than using fixed stable versions.
A package will typically target a stable release, either pointing to a
specific archive to download or a specific tag to clone from. However, for
some builds, a user may wish to build a specific package against their main
development branch (e.g. the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch of a Git repository) or a
long-term stable release branch. Packages can be defined to target these
specific revisions if running in development mode.</p>
<p>To enable development mode, invoking <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code> with the <code class="docutils literal notranslate"><span class="pre">--development</span></code>
(or <code class="docutils literal notranslate"><span class="pre">-D</span></code>) argument will enable the mode. Future calls to releng-tool for the
project will use a development revision for packages where appropriate.
For example:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>--development<span class="w"> </span><span class="o">[</span>&lt;mode&gt;<span class="o">]</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">configured root for development mode</span>
<span class="gp">$ </span>releng-tool
<span class="go">~building against development sources~</span>
<span class="go">...</span>
</pre></div>
</div>
<p>Development mode is persisted through the use of a file flag in the root
directory.</p>
<p>Consider the following example: a package defines multiple revisions to
fetch sources from:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/libfoo.git&#39;</span>
<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DEFAULT_REVISION</span><span class="p">:</span> <span class="s1">&#39;1.2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;develop&#39;</span><span class="p">:</span> <span class="s1">&#39;main&#39;</span><span class="p">,</span>
    <span class="s1">&#39;lts&#39;</span><span class="p">:</span> <span class="s1">&#39;1.1.x&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Or an equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/libfoo.git&#39;</span>
<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;*&#39;</span><span class="p">:</span> <span class="s1">&#39;1.2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;develop&#39;</span><span class="p">:</span> <span class="s1">&#39;main&#39;</span><span class="p">,</span>
    <span class="s1">&#39;lts&#39;</span><span class="p">:</span> <span class="s1">&#39;1.1.x&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A build would normally use the <code class="docutils literal notranslate"><span class="pre">1.2</span></code> tag for this package. However, if
an environment is configured to use the <code class="docutils literal notranslate"><span class="pre">develop</span></code> development mode:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>--development<span class="w"> </span>develop
<span class="go"> (or)</span>
<span class="gp">$ </span>releng-tool<span class="w"> </span>-D<span class="w"> </span>develop
</pre></div>
</div>
<p>This package would use the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch instead.</p>
<p>Projects can also target specific sites based off the development mode. This
can be useful if a package uses a built archive for a stable release, but
having development sources fetched from a repository. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DEFAULT_SITE</span><span class="p">:</span> <span class="s1">&#39;https://pkgs.example.com/releases/libfoo-$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">.tar.gz&#39;</span><span class="p">,</span>
    <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="s1">&#39;https://git.example.com/libfoo.git&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="s1">&#39;main&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Or an equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;*&#39;</span><span class="p">:</span> <span class="s1">&#39;https://pkgs.example.com/releases/libfoo-$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">.tar.gz&#39;</span><span class="p">,</span>
    <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="s1">&#39;https://git.example.com/libfoo.git&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="s1">&#39;main&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In a normal execution, a tar.gz archive would be downloaded for the package.
However, if an environment is configured to use the <code class="docutils literal notranslate"><span class="pre">test</span></code> development
mode, sources will be fetched from the Git repository on the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch.</p>
<p>Simple development modes are also supported. Packages can use the
<code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_REVISION</span></code> option to hint at a development revision to pull.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_REVISION</span> <span class="o">=</span> <span class="s1">&#39;main&#39;</span>
<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v3.0&#39;</span>
</pre></div>
</div>
<p>A build would normally use the <code class="docutils literal notranslate"><span class="pre">v3.0</span></code> tag for this package. However, if
an environment is configured a non-explicit development mode:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>--development
</pre></div>
</div>
<p>This package would use the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch instead.</p>
<p>A user can either disable development sources mode by:</p>
<ul class="simple">
<li><p>Providing a development mode of <code class="docutils literal notranslate"><span class="pre">-</span></code> or <code class="docutils literal notranslate"><span class="pre">unset</span></code>;</p></li>
<li><p>Invoking <a class="reference internal" href="#document-guides/arguments#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a>; or,</p></li>
<li><p>By manually removing the file flag found at the root of the project.</p></li>
</ul>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">development</span> <span class="n">unset</span>
</pre></div>
</div>
</section>
<span id="document-guides/local-sources-mode"></span><section id="local-sources-mode">
<h4>Local-sources mode<a class="headerlink" href="#local-sources-mode" title="Link to this heading">¬∂</a></h4>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Local-sources mode only applies to <a class="reference internal" href="#document-guides/intern-extern-pkgs"><span class="doc std std-doc">internally flagged</span></a>
packages.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Clean events (such as <code class="docutils literal notranslate"><span class="pre">releng-tool</span> <span class="pre">clean</span></code>) will not touch packages using
sources found alongside the output directory</p>
</div>
<p>Local-sources mode provides a way for a developer to build
<a class="reference internal" href="#document-guides/intern-extern-pkgs"><span class="doc std std-doc">internal-flagged</span></a> packages using sources found alongside
the root directory (or a specific provided directory), instead of having
releng-tool attempt to fetch them from remote instances. This is primarily
for developers who desire to manually manage source content outside the
releng-tool environment. Local-sources mode only applies to internally flagged
packages. Consider the following example: a releng-tool project has a package
called <code class="docutils literal notranslate"><span class="pre">liba</span></code>. When releng-tool is invoked in normal configurations, the
package will do fetching, extraction and patching to prepare the directory
<code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/output/build/liba-&lt;version&gt;</span></code>. However, if a builder has
configured the working root for local-sources mode, sources for <code class="docutils literal notranslate"><span class="pre">liba</span></code>
will be used from the folder <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/../liba</span></code> instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îú‚îÄ‚îÄ liba/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ liba/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ LICENSE
    ‚îú‚îÄ‚îÄ README.md
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
<p>When in local-sources mode, an internal package will skip the fetching,
extraction and patching stages in order to prevent undesired manipulation
of developer-prepared sources. Another consideration to note is the use
of clean operators while in local-sources mode. Continuing with the above
example, if a user invokes <code class="docutils literal notranslate"><span class="pre">releng-tool</span> <span class="pre">liba-clean</span></code>, the operation will
not remove the <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/../liba</span></code> folder. Responsibility to managing a
clean <code class="docutils literal notranslate"><span class="pre">liba</span></code> package will be left with the user.</p>
<p>To enable local-sources mode, invoking <code class="docutils literal notranslate"><span class="pre">releng-tool</span></code> with the
<code class="docutils literal notranslate"><span class="pre">--local-sources</span></code> (or <code class="docutils literal notranslate"><span class="pre">-L</span></code>) argument will enable the mode. Future calls to
releng-tool for the project will use local sources for packages defined as
internal packages. For example:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>--local-sources
<span class="gp gp-VirtualEnv">(*)</span> <span class="go">&lt;parent&gt;</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">configured root for local-sources mode</span>
<span class="gp">$ </span>releng-tool
<span class="go">~building against local sources~</span>
<span class="go">...</span>
</pre></div>
</div>
<p>Local-sources mode is persisted through the use of a file flag in the root
directory.</p>
<p>If a user provides a directory for the <code class="docutils literal notranslate"><span class="pre">--local-sources</span></code> argument, packages
will be looked for in the provided folder instead of the parent of the
configured root directory. For example:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>--local-sources<span class="w"> </span>~/workdir2
<span class="gp gp-VirtualEnv">(*)</span> <span class="go">~/workdir2</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">configured root for local-sources mode</span>
<span class="gp">$ </span>releng-tool
<span class="go">~building against local sources~</span>
<span class="go">...</span>
</pre></div>
</div>
<p>In the above example, if a project had an internal package <code class="docutils literal notranslate"><span class="pre">liba</span></code>,
sources for <code class="docutils literal notranslate"><span class="pre">liba</span></code> will be used from the folder <code class="docutils literal notranslate"><span class="pre">~/workdir2/liba</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îú‚îÄ‚îÄ workdir/
‚îÇ   ‚îî‚îÄ‚îÄ my-releng-tool-project/
‚îÇ       ‚îú‚îÄ‚îÄ package/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ liba/
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ       ‚îú‚îÄ‚îÄ LICENSE
‚îÇ       ‚îú‚îÄ‚îÄ README.md
‚îÇ       ‚îî‚îÄ‚îÄ releng-tool.rt
‚îî‚îÄ‚îÄ workdir2/
    ‚îî‚îÄ‚îÄ liba/
        ‚îî‚îÄ‚îÄ ...
</pre></div>
</div>
<p>Users can also provide package-specific overrides. If a user provides a
path which is prefixed with a package‚Äôs name with either a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>) or
at sign (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>), the sources for the provided package will be used from
the respective folder:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>-L<span class="w"> </span>~/workdir2
<span class="gp">$ </span>releng-tool<span class="w"> </span>-L<span class="w"> </span>libb:/mnt/sources/libb
<span class="gp">$ </span>releng-tool<span class="w"> </span>-L<span class="w"> </span>libc:
<span class="gp gp-VirtualEnv">(*)</span> <span class="go">~/workdir2</span>
<span class="gp gp-VirtualEnv">(libb)</span> <span class="go">/mnt/sources/libb</span>
<span class="gp gp-VirtualEnv">(libc)</span> <span class="go">&lt;unset&gt;</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">configured root for local-sources mode</span>
<span class="gp">$ </span>releng-tool
<span class="go">~building against local sources~</span>
<span class="go">...</span>
</pre></div>
</div>
<p>In the above example, if a project had internal packages <code class="docutils literal notranslate"><span class="pre">liba</span></code>,
<code class="docutils literal notranslate"><span class="pre">libb</span></code> and <code class="docutils literal notranslate"><span class="pre">libc</span></code>, the following paths will be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/
‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îî‚îÄ‚îÄ &lt;user&gt;/
‚îÇ       ‚îú‚îÄ‚îÄ workdir/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ my-releng-tool-project/
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ package/
‚îÇ       ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ liba/
‚îÇ       ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ       ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ libb/
‚îÇ       ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ       ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ libc/
‚îÇ       ‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ LICENSE
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ README.md
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ releng-tool.rt
‚îÇ       ‚îî‚îÄ‚îÄ workdir2/
‚îÇ           ‚îî‚îÄ‚îÄ liba/
‚îÇ               ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ mnt/
    ‚îú‚îÄ‚îÄ sources/
    ‚îÇ   ‚îî‚îÄ‚îÄ libb/
    ‚îÇ       ‚îî‚îÄ‚îÄ ...
    ...
</pre></div>
</div>
<ul class="simple">
<li><p>Sources for <code class="docutils literal notranslate"><span class="pre">liba</span></code> will be used from the folder <code class="docutils literal notranslate"><span class="pre">~/workdir2/liba</span></code>,</p></li>
<li><p>Sources for <code class="docutils literal notranslate"><span class="pre">libb</span></code> will be used from the folder <code class="docutils literal notranslate"><span class="pre">/mnt/sources/libb</span></code>; and,</p></li>
<li><p>Sources for <code class="docutils literal notranslate"><span class="pre">libc</span></code> will not be fetched locally.</p></li>
</ul>
<p>A user can either disable local sources mode by:</p>
<ul class="simple">
<li><p>Providing a local-source path of <code class="docutils literal notranslate"><span class="pre">-</span></code> or <code class="docutils literal notranslate"><span class="pre">unset</span></code>;</p></li>
<li><p>Invoking <a class="reference internal" href="#document-guides/arguments#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a>; or,</p></li>
<li><p>By manually removing the file flag found at the root of the project.</p></li>
</ul>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">local</span><span class="o">-</span><span class="n">sources</span> <span class="n">unset</span>
</pre></div>
</div>
</section>
<span id="document-guides/profiles"></span><section id="profiles">
<h4>Profiles<a class="headerlink" href="#profiles" title="Link to this heading">¬∂</a></h4>
<p>Profiles provide a way to support tailoring the execution of a releng-tool
run for select project requirements. A user can define a profile to enable by
providing a <a class="reference internal" href="#document-guides/arguments#arg-profile"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--profile</span></code> argument</span></a>. A profile value can then be
read by a project‚Äôs configuration or various package stages to
manipulate a run as desired. Note that releng-tool does not use any provided
profile values other than normalizing profile strings to be forwarded to
project/package scripts. For example, consider the following run that flags
a profile named <code class="docutils literal notranslate"><span class="pre">awesome-mode</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">profile</span> <span class="n">awesome</span><span class="o">-</span><span class="n">mode</span>
</pre></div>
</div>
<p>A project configuration or package stage can then check the
<a class="reference internal" href="#document-guides/environment#env-releng-profiles"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_PROFILES</span></code></span></a> variable to determine if a
conditional event should be performed. To continue with this example, if
looking to add an additional package when using this profile, the following
can be added in a project‚Äôs <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;example&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">if</span> <span class="s1">&#39;awesome-mode&#39;</span> <span class="ow">in</span> <span class="n">RELENG_PROFILES</span><span class="p">:</span>
    <span class="n">packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;awesome-mods&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Multiple profiles can be provided as well:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">profile</span> <span class="n">awesome</span><span class="o">-</span><span class="n">mode</span> <span class="o">--</span><span class="n">profile</span> <span class="n">another</span><span class="o">-</span><span class="n">example</span>
 <span class="p">(</span><span class="ow">or</span><span class="p">)</span>
<span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">profile</span> <span class="n">awesome</span><span class="o">-</span><span class="n">mode</span><span class="p">,</span><span class="n">another</span><span class="o">-</span><span class="n">example</span>
 <span class="p">(</span><span class="ow">or</span><span class="p">)</span>
<span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">profile</span> <span class="s2">&quot;awesome-mode;another-example&quot;</span>
</pre></div>
</div>
<p>The script environment provides a list of known profiles. However, if reading
the environment variable <code class="docutils literal notranslate"><span class="pre">RELENG_PROFILES</span></code>, note that if more than one profile
is defined, the environment string will be semicolon-separated values.
Considering the above example, the environment variable would be populated
as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awesome</span><span class="o">-</span><span class="n">mode</span><span class="p">;</span><span class="n">another</span><span class="o">-</span><span class="n">example</span>
</pre></div>
</div>
<p>Profile names are normalized when processed by releng-tool. A profile
value will replace special characters with dashes and will lowercase the
resulting value. The following shows an example of normalized profile names
that are all equivalent:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">red-backed-shrike</span></code> (normalized form)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Red_Backed_Shrike</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Red</span> <span class="pre">Backed</span> <span class="pre">Shrike</span></code></p></li>
</ul>
</section>
<span id="document-guides/configuration-overrides"></span><section id="configuration-overrides">
<h4>Configuration overrides<a class="headerlink" href="#configuration-overrides" title="Link to this heading">¬∂</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>The use of a <code class="docutils literal notranslate"><span class="pre">releng-overrides</span></code> script is deprecated. Various override
capabilities noted below can either be supported in a <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code>
configuration or have alternative approaches to performing overrides.</p>
</div>
<p>If a builder needs to (for example) override a tool location or package site, a
user can define either environment options or setup a configuration override
script <code class="docutils literal notranslate"><span class="pre">releng-overrides</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-releng-tool-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ LICENSE
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ releng-tool.rt
    ‚îú‚îÄ‚îÄ releng-overrides     &lt;-- an override script
    ...
</pre></div>
</div>
<p>It is never recommended to persist a configuration overrides file into a
project‚Äôs source repository. Overrides are intended for dealing with specific
hosts (e.g. injecting overrides when running with legacy build images).</p>
<section id="extraction-tool-overrides">
<h5>Extraction tool overrides<a class="headerlink" href="#extraction-tool-overrides" title="Link to this heading">¬∂</a></h5>
<p>See <a class="reference internal" href="#document-guides/configuration#conf-override-extract-tools"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">override_extract_tools</span></code></span></a>.</p>
</section>
<section id="revision-overrides">
<h5>Revision overrides<a class="headerlink" href="#revision-overrides" title="Link to this heading">¬∂</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>The use of revision overrides is deprecated.
Users wanting to override revisions without source modification are
recommended to use <a class="reference internal" href="#document-guides/arguments#arg-variable-injection"><span class="std std-ref">variable injection</span></a>.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">override_revisions</span></code> option inside a configuration override script allows
a dictionary to be provided to map a package name to a new revision value.
Consider the following example: a project defines <code class="docutils literal notranslate"><span class="pre">module-a</span></code> and <code class="docutils literal notranslate"><span class="pre">module-b</span></code>
packages with package <code class="docutils literal notranslate"><span class="pre">module-b</span></code> depending on package <code class="docutils literal notranslate"><span class="pre">module-a</span></code>. A
developer may be attempting to tweak package <code class="docutils literal notranslate"><span class="pre">module-b</span></code> on the fly to test a
new capabilities against the current stable version of <code class="docutils literal notranslate"><span class="pre">module-a</span></code>. However,
the developer does not want to explicitly change the revision inside package
<code class="docutils literal notranslate"><span class="pre">module-b</span></code>‚Äôs definition. To avoid this, an override can be used instead:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">override_revisions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;module-b&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;test-branch&gt;&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above example shows that package <code class="docutils literal notranslate"><span class="pre">module-b</span></code> will fetch using a test branch
instead of what is defined in the actual package definition.</p>
</section>
<section id="site-overrides">
<h5>Site overrides<a class="headerlink" href="#site-overrides" title="Link to this heading">¬∂</a></h5>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.0: </span>The use of site overrides is deprecated.
Users wanting to override sites without source modification are
recommended to use <a class="reference internal" href="#document-guides/arguments#arg-variable-injection"><span class="std std-ref">variable injection</span></a>.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">override_sites</span></code> option inside a configuration override script allows a
dictionary to be provided to map a package name to a new site value. There may
be times where a host may not have access to a specific package site. To have a
host to use a mirror location without having to adjust the package definition,
the site override option can be used. For example, consider a package pulls from
site <code class="docutils literal notranslate"><span class="pre">git&#64;example.com:myproject.git</span></code>. However, the host <code class="docutils literal notranslate"><span class="pre">example.com</span></code> cannot
be access from the host machine. If a mirror location has been setup at
<code class="docutils literal notranslate"><span class="pre">git&#64;example.org:myproject.git</span></code>, the following override can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">override_sites</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;package-name&gt;&#39;</span><span class="p">:</span> <span class="s1">&#39;git@example.org:myproject.git&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="tool-overrides">
<h5>Tool overrides<a class="headerlink" href="#tool-overrides" title="Link to this heading">¬∂</a></h5>
<p>See <a class="reference internal" href="#document-guides/environment#env-tool-overrides"><span class="std std-ref">Environment ‚Äî Tool overrides</span></a>.</p>
</section>
</section>
<span id="document-guides/quirks/quirks"></span><section id="quirks">
<h4>Quirks<a class="headerlink" href="#quirks" title="Link to this heading">¬∂</a></h4>
<p>releng-tool also provides a series of configuration quirks to change the
default running state of a run. This can be used to help manage rare host
environment scenarios where releng-tool may be experiencing issues.</p>
<section id="command-line-quirks">
<h5>Command line quirks<a class="headerlink" href="#command-line-quirks" title="Link to this heading">¬∂</a></h5>
<p>Quirks for a run can be enabled through the command line. releng-tool accepts
<code class="docutils literal notranslate"><span class="pre">--quirk</span> <span class="pre">&lt;quirk-id&gt;</span></code> argument, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">some_quirk_id</span>
</pre></div>
</div>
<p>If multiple quirks are desired, the quirk argument can be provided multiple
times:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">quirk1</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">quirk2</span>
</pre></div>
</div>
<p>Configuration quirks do not persist and need to be utilized each run of
releng-tool.</p>
</section>
<section id="configuration-driven-quirks">
<h5>Configuration-driven quirks<a class="headerlink" href="#configuration-driven-quirks" title="Link to this heading">¬∂</a></h5>
<p>Quirks can also be enabled through the <a class="reference internal" href="#document-guides/configuration#conf-quirks"><span class="std std-ref">project configuration</span></a>.
For example, the following can be used to enable one or more quirks for a
releng-tool run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">quirks</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;releng.quirk1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;releng.quirk2&#39;</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="available-quirks">
<h5>Available quirks<a class="headerlink" href="#available-quirks" title="Link to this heading">¬∂</a></h5>
<p>The following is a list of all available quirks supported by releng-tool:</p>
<div class="toctree-wrapper compound">
<span id="document-guides/quirks/quirk-bzr-certifi"></span><section id="quirk-releng-bzr-certifi">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.bzr.certifi</span></code><a class="headerlink" href="#quirk-releng-bzr-certifi" title="Link to this heading">¬∂</a></h6>
<p>When a package is configured to fetch <a class="reference external" href="https://en.wikipedia.org/wiki/GNU_Bazaar">bzr</a> sources, select environments
may have issues attempting to download from Launchpad (or other hosting) due
to legacy certificates.</p>
<blockquote>
<div><p>See <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">help</span> <span class="pre">ssl.ca_certs</span></code> for how to specify trusted CA certificates.<br />
Pass <code class="docutils literal notranslate"><span class="pre">-Ossl.cert_reqs=none</span></code> to disable certificate verification entirely.</p>
</div></blockquote>
<p>If a user‚Äôs environment has <a class="reference external" href="https://pypi.org/project/certifi/"><code class="docutils literal notranslate"><span class="pre">certifi</span></code></a> installed, a user can invoke
releng-tool with the quirk <code class="docutils literal notranslate"><span class="pre">releng.bzr.certifi</span></code> enabled to use certifi‚Äôs
certificates instead. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">bzr</span><span class="o">.</span><span class="n">certifi</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/GNU_Bazaar">GNU Bazaar</a></p></li>
<li><p><a class="reference external" href="https://web.archive.org/web/http://bazaar.canonical.com/">GNU Bazaar (The Wayback Machine)</a></p></li>
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-cmake-disable_direct_includes"></span><section id="quirk-releng-cmake-disable-direct-includes">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.cmake.disable_direct_includes</span></code><a class="headerlink" href="#quirk-releng-cmake-disable-direct-includes" title="Link to this heading">¬∂</a></h6>
<p>For CMake-based projects, releng-tool will populate a series of include
directories (internally or from a project‚Äôs configuration definition) to
configure a CMake project with. These include paths will be populated into
the <a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_INCLUDE_PATH.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_INCLUDE_PATH</span></code></a> option when generating native
build scripts.</p>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">CMAKE_INCLUDE_PATH</span></code>, releng-tool will also populate multiple
language type‚Äôs
<a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_LANG_STANDARD_INCLUDE_DIRECTORIES.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_STANDARD_INCLUDE_DIRECTORIES</span></code></a> as well.
This registers convenient include paths for languages (e.g. C/C++), avoiding
the need for project definitions to explicitly configure common include paths
in host, staging or target areas.</p>
<p>However, if this causes issues for a build environment (such as when building
a CMake project with a toolchain file which has issues with standard include
overrides), the option can be disabled using the
<code class="docutils literal notranslate"><span class="pre">releng.cmake.disable_direct_includes</span></code> quirk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">cmake</span><span class="o">.</span><span class="n">disable_direct_includes</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_LANG_STANDARD_INCLUDE_DIRECTORIES.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_&lt;LANG&gt;_STANDARD_INCLUDE_DIRECTORIES</span></code></a></p></li>
<li><p><a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_INCLUDE_PATH.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_INCLUDE_PATH</span></code></a></p></li>
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-cmake-disable_parallel_option"></span><section id="quirk-releng-cmake-disable-parallel-option">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.cmake.disable_parallel_option</span></code><a class="headerlink" href="#quirk-releng-cmake-disable-parallel-option" title="Link to this heading">¬∂</a></h6>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 1.0: </span>This quirk is no longer applicable. CMake parallelization is now driven
internally using the <code class="docutils literal notranslate"><span class="pre">CMAKE_BUILD_PARALLEL_LEVEL</span></code> environment variable.</p>
</div>
<p>When releng-tool invokes a build stage for a CMake project, the <code class="docutils literal notranslate"><span class="pre">--parallel</span></code>
argument is used to trigger multiple jobs for a build. If running on a host
system running a version/variant of CMake which do not explicitly provide the
parallelization option, the build may fail. Users to enable the
<code class="docutils literal notranslate"><span class="pre">releng.cmake.disable_parallel_option</span></code> quirk to prevent this option from being
used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">cmake</span><span class="o">.</span><span class="n">disable_parallel_option</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-disable_devmode_ignore_cache"></span><section id="quirk-releng-disable-devmode-ignore-cache">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.disable_devmode_ignore_cache</span></code><a class="headerlink" href="#quirk-releng-disable-devmode-ignore-cache" title="Link to this heading">¬∂</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.4.</span></p>
</div>
<p>Packages may be configured with
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span></code></span></a> to always attempt
a new fetch of sources for a development-configured revision. However, if a
remote is not available during a rebuild event, the process will fail since
the package cannot be re-fetched from the configured site. To help a builder
hint that using the cache is fine for an invoke, this quirk can be provided to
avoid any re-fetch attempt.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">disable_devmode_ignore_cache</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-disable_local_site_warn"></span><section id="quirk-releng-disable-local-site-warn">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.disable_local_site_warn</span></code><a class="headerlink" href="#quirk-releng-disable-local-site-warn" title="Link to this heading">¬∂</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.5: </span>This quirk is no longer applicable. releng-tool will no longer generate
a warning when using a local package.</p>
</div>
<p>Users can create packages using a <a class="reference internal" href="#document-guides/packages/site-definitions#site-local"><span class="std std-ref">local site</span></a> for initial
development and testing scenarios. However, using local sites is not
recommended for long-term use; hence a warning is generated when
releng-tool runs. While the warning aims to promote a user to move the
package into their own site of some sort (e.g. Git), a user may be good
enough with using a specific package as a local one. For such cases,
using this quirk can prevent any warnings generated when a local site is
used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">disable_local_site_warn</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-disable_prerequisites_check"></span><section id="quirk-releng-disable-prerequisites-check">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.disable_prerequisites_check</span></code><a class="headerlink" href="#quirk-releng-disable-prerequisites-check" title="Link to this heading">¬∂</a></h6>
<p>A releng-tool project may require various dependencies. For example, if
a package define a Git-based site for sources, the <code class="docutils literal notranslate"><span class="pre">git</span></code> client will be
required to clone these sources into a build directory. To help inform users
of issues in the early stage of a build, releng-tool will perform a
prerequisites check for certain dependencies. If a prerequisite cannot be
found, the build process stops immediately.</p>
<p>In select scenarios, the prerequisite check may wish to be skipped. For
example, if the running environment is not expected to perform a specific
action in a project that requires an application. To avoid triggering a
run error at start, users may set the <code class="docutils literal notranslate"><span class="pre">releng.disable_prerequisites_check</span></code>
quirk to skip any prerequisite check:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">disable_prerequisites_check</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-disable_remote_configs"></span><section id="quirk-releng-disable-remote-configs">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.disable_remote_configs</span></code><a class="headerlink" href="#quirk-releng-disable-remote-configs" title="Link to this heading">¬∂</a></h6>
<p>releng-tool package sources have the ability to inject late-stage
configuration options from a remote source. If a user is having issues
with a project‚Äôs remote options for a package, the
<code class="docutils literal notranslate"><span class="pre">releng.disable_remote_configs</span></code> quirk can be used to skip any application
of late-stage configuration options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">disable_remote_configs</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-disable_remote_scripts"></span><section id="quirk-releng-disable-remote-scripts">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.disable_remote_scripts</span></code><a class="headerlink" href="#quirk-releng-disable-remote-scripts" title="Link to this heading">¬∂</a></h6>
<p>releng-tool package sources have the ability to define configuration,
build and installation stage scripts from a remote source. If a user is
having issues with a project‚Äôs remote scripts for a package, the
<code class="docutils literal notranslate"><span class="pre">releng.disable_remote_scripts</span></code> quirk can be used to skip any invoke of
these scripts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">disable_remote_scripts</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-disable_spdx_check"></span><section id="quirk-releng-disable-spdx-check">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.disable_spdx_check</span></code><a class="headerlink" href="#quirk-releng-disable-spdx-check" title="Link to this heading">¬∂</a></h6>
<div class="deprecated">
<p><span class="versionmodified deprecated">Veraltet ab Version 2.9: </span>This quirk is no longer applicable. SPDX license checks are now handled by
the <a class="reference internal" href="#document-guides/arguments#action-lint"><span class="std std-ref">lint action</span></a>.</p>
</div>
<p>When package definitions are being processed, any license configurations will
be checked to see if they conform with <a class="reference external" href="https://spdx.org/licenses/">SPDX license identifiers</a>. If
not, a warning will be generated.</p>
<p>If a user wishes to ignore all SPDX license warnings, the
<code class="docutils literal notranslate"><span class="pre">releng.disable_spdx_check</span></code> quirk can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">disable_spdx_check</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
<li><p><a class="reference external" href="https://spdx.org/licenses/">SPDX license identifiers</a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-disable_verbose_patch"></span><section id="quirk-releng-disable-verbose-patch">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.disable_verbose_patch</span></code><a class="headerlink" href="#quirk-releng-disable-verbose-patch" title="Link to this heading">¬∂</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.2.</span></p>
</div>
<p>When utilizing <a class="reference internal" href="#document-guides/patching"><span class="doc std std-doc">patching</span></a> capabilities in releng-tool,
all patches are by default applied with a <code class="docutils literal notranslate"><span class="pre">--verbose</span></code> argument. If this
is not preferred by a project, this quirk can be set to omit the argument.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">disable_verbose_patch</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/patching"><span class="doc std std-doc">Patching</span></a></p></li>
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-git-no_depth"></span><section id="quirk-releng-git-no-depth">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.git.no_depth</span></code><a class="headerlink" href="#quirk-releng-git-no-depth" title="Link to this heading">¬∂</a></h6>
<p>releng-tool may use the <a class="reference external" href="https://git-scm.com/docs/git-clone#Documentation/git-clone.txt-code--depthltdepthgtcode"><code class="docutils literal notranslate"><span class="pre">--depth</span></code></a> option for Git-based packages
to to perform shallow checkouts to improve fetch performance. If a user does
not want to perform shallow checkouts, the <code class="docutils literal notranslate"><span class="pre">releng.git.no_depth</span></code> quirk may be
used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">git</span><span class="o">.</span><span class="n">no_depth</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference external" href="https://git-scm.com/docs/git-clone#Documentation/git-clone.txt-code--depthltdepthgtcode">Git clone‚Äôs <code class="docutils literal notranslate"><span class="pre">--depth</span></code> option</a></p></li>
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-git-no_quick_fetch"></span><section id="quirk-releng-git-no-quick-fetch">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.git.no_quick_fetch</span></code><a class="headerlink" href="#quirk-releng-git-no-quick-fetch" title="Link to this heading">¬∂</a></h6>
<p>When fetching sources for a Git-site-defined package, releng-tool will
attempt to acquire these sources by only pulling applicable revision
references needed for a build (i.e. ‚Äûquick fetching‚Äú, in the context of
releng-tool). For example, if a project defines a Git tag to fetch, only
the <code class="docutils literal notranslate"><span class="pre">refs/tags/&lt;tag&gt;</span></code> reference will be fetched.</p>
<p>If a user does not want to utilizing quick-fetching for Git packages, this
can be disabled by using the <code class="docutils literal notranslate"><span class="pre">releng.git.no_quick_fetch</span></code> quirk.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">git</span><span class="o">.</span><span class="n">no_quick_fetch</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-git-replicate_cache"></span><section id="quirk-releng-git-replicate-cache">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.git.replicate_cache</span></code><a class="headerlink" href="#quirk-releng-git-replicate-cache" title="Link to this heading">¬∂</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 0.17.</span></p>
</div>
<p>When fetching sources for a Git-site-defined package, releng-tool will
keep a project‚Äôs Git repository inside a cache folder and use the project‚Äôs
build directory as the Git work-tree. When extracting a given revision for
a project, releng-tool will also attempt to setup a <code class="docutils literal notranslate"><span class="pre">.git</span></code> file to point to
the cache directory, if users want to perform Git-related commands
(typically, only for unique development/testing scenarios).</p>
<p>In the case where developers want a complete copy of the Git repository in
the build folder instead of a pointer to the cache, the
<code class="docutils literal notranslate"><span class="pre">releng.git.replicate_cache</span></code> quirk can be enabled to force releng-tool to
copy over the Git repository when a package is extracted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">git</span><span class="o">.</span><span class="n">replicate_cache</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-ignore_failed_extensions"></span><section id="quirk-releng-ignore-failed-extensions">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.ignore_failed_extensions</span></code><a class="headerlink" href="#quirk-releng-ignore-failed-extensions" title="Link to this heading">¬∂</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.7.</span></p>
</div>
<p>For projects that configure extensions, if an extension fails to load (either
missing or a bad extension definition), the releng-tool process will stop with
an error.</p>
<p>If a user wants to ignore the failed loading of extension for a given run,
they may do so by configuring the <code class="docutils literal notranslate"><span class="pre">releng.ignore_failed_extensions</span></code> quirk.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">ignore_failed_extensions</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-log-execute_args"></span><section id="quirk-releng-log-execute-args">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.log.execute_args</span></code><a class="headerlink" href="#quirk-releng-log-execute-args" title="Link to this heading">¬∂</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4.</span></p>
</div>
<p>When releng-tool is configured with <a class="reference internal" href="#document-guides/arguments#arg-debug"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--debug</span></code></span></a>, the tool
will log (among other things) process executions. Debugging can print
information such as working directory of an execution, as well as arguments
used for a call. For some commands, the command line and arguments can be
long and may be difficult to quickly scan for issues. To help improve the
user experience, the <code class="docutils literal notranslate"><span class="pre">releng.log.execute_args</span></code> quick can be used to print
each argument on their own line.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">debug</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">execute_args</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-log-execute_env"></span><section id="quirk-releng-log-execute-env">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.log.execute_env</span></code><a class="headerlink" href="#quirk-releng-log-execute-env" title="Link to this heading">¬∂</a></h6>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<p>When releng-tool is configured with <a class="reference internal" href="#document-guides/arguments#arg-debug"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--debug</span></code></span></a>, the tool
will log (among other things) process executions. Debugging can print
information such as working directory of an execution, as well as arguments
used for a call. The environment for an execution is not logged by default.
For users wishing to include this information as well before an invoked
process, the <code class="docutils literal notranslate"><span class="pre">releng.log.execute_env</span></code> quick can be used.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">debug</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">execute_env</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
<span id="document-guides/quirks/quirk-stats-no_pdf"></span><section id="quirk-releng-stats-no-pdf">
<span id="id1"></span><h6>Quirk <code class="docutils literal notranslate"><span class="pre">releng.stats.no_pdf</span></code><a class="headerlink" href="#quirk-releng-stats-no-pdf" title="Link to this heading">¬∂</a></h6>
<p>releng-tool will generate statistics for a build (such as the duration it
takes to build a specific package) and place this information in the
output directory. If an environment has <a class="reference external" href="https://matplotlib.org/">Matplotlib</a> installed,
PDF-format statistics may be generated for a more visual inspection of this
information.</p>
<p>If a user does not want PDF statistics to be created, the quirk
<code class="docutils literal notranslate"><span class="pre">releng.stats.no_pdf</span></code> can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">quirk</span> <span class="n">releng</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">no_pdf</span>
</pre></div>
</div>
<section id="see-also">
<h6 aria-level="7">See also<a class="headerlink" href="#see-also" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p><a class="reference external" href="https://matplotlib.org/">Matplotlib</a></p></li>
<li><p><a class="reference internal" href="#document-guides/quirks/quirks"><span class="doc std std-doc">Quirks</span></a></p></li>
</ul>
</section>
</section>
</div>
</section>
</section>
</div>
</section>
<span id="document-guides/extensions/extensions"></span><section id="extensions">
<h3>Extensions<a class="headerlink" href="#extensions" title="Link to this heading">¬∂</a></h3>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>releng-tool will now stop if an extension fails to load.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Ge√§ndert in Version 2.7: </span>releng-tool projects can define a <code class="docutils literal notranslate"><span class="pre">releng_setup</span></code> hook in their project
configurations to perform similar actions as extensions can.</p>
</div>
<p>A releng-tool project can use an extension by registering the extension name
in the <code class="docutils literal notranslate"><span class="pre">extensions</span></code> configuration option inside the project configuration
(<code class="docutils literal notranslate"><span class="pre">releng</span></code>). For example, to load an extension <code class="docutils literal notranslate"><span class="pre">my_awesome_extension</span></code> into
releng-tool, the following can be defined:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
   <span class="s1">&#39;my_awesome_extension&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>During the initial stages of a releng-tool process, the process will
check and load any configured extension. In the event that an extension is
missing, is unsupported for the running releng-tool version or fails to load;
a detailed error message will be presented to the user.</p>
<p>Extensions are typically Python packages installed for the running Python
environment. If extensions are not packaged/installed, users can alternatively
append the location of an extension implementation into the system path in
the releng-tool configuration file. For example, if a user has a releng-tool
project checked out alongside a checked out extension in a folder named
<code class="docutils literal notranslate"><span class="pre">my-awesome-extension</span></code>, the extension‚Äôs path can be registered into the
system path using the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_register_path</span><span class="p">(</span><span class="n">ROOT_DIR</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s1">&#39;my-awesome-extension&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>While the ability to load extensions is supported, capabilities provided by
extensions are not officially supported by releng-tool. For issues related to
specific extension use, it is recommended to see the documentation provided
by the providers of said extensions.</p>
<p>For developers interesting in implementing extensions, a list of available API
interfaces and documentation for these interfaces can be found inside the
<a class="reference external" href="https://github.com/releng-tool/releng-tool/blob/main/releng_tool/api/__init__.py">API implementation</a>. Implementation in the API folder aims
to be ‚ÄûAPI safe‚Äú ‚Äì there is a strong attempt to prevent the changing of
classes, methods, etc. to prevent compatibility issues as both releng-tool
and extensions (if any) evolve.</p>
<p>Advanced users may also register application hooks by defining a <code class="docutils literal notranslate"><span class="pre">releng_setup</span></code>
hook in their project‚Äôs <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> configuration. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">releng_setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<section id="examples">
<h4>Examples<a class="headerlink" href="#examples" title="Link to this heading">¬∂</a></h4>
<p>The following provides a series of examples for developers on how to develop
extensions for releng-tool:</p>
<div class="toctree-wrapper compound">
<span id="document-guides/extensions/making-a-custom-post-build-action"></span><section id="making-a-custom-post-build-action-extension">
<h5>Making a custom post-build action extension<a class="headerlink" href="#making-a-custom-post-build-action-extension" title="Link to this heading">¬∂</a></h5>
<p>This is an extension example for the following use case:</p>
<blockquote>
<div><p>After performing a build for any of my releng-tool projects, I want to
automatically add a series of files into the output directory before we
attempt to package the contents. I want to do this using an extension to
avoid the need to repeat the process across all my releng-tool projects.</p>
</div></blockquote>
<section id="prelude">
<h6>Prelude<a class="headerlink" href="#prelude" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p>This extension example uses the name <code class="docutils literal notranslate"><span class="pre">my-awesome-extension</span></code>. Developers are
free to change this with whatever name is applicable for their own
extension.</p></li>
<li><p>This tutorial does not cover steps on publishing an extension to an index
such as <a class="reference external" href="https://pypi.org/">PyPI</a>. Instead, steps will be provided to load a extension‚Äôs
sources into the system path for releng-tool (which is optional whenever
a given extension can be installed from an index or runs in an environment
that already manages the installation of the extension).</p></li>
</ul>
</section>
<section id="creating-the-post-build-action-extension">
<h6>Creating the post-build action extension<a class="headerlink" href="#creating-the-post-build-action-extension" title="Link to this heading">¬∂</a></h6>
<p>A first step is to setup the initial file structure for the extension. Assuming
there exists a checked out releng-tool project (<code class="docutils literal notranslate"><span class="pre">my-releng-tool-project</span></code>) to
be tested against, create a new extension folder named <code class="docutils literal notranslate"><span class="pre">my-awesome-extension</span></code>
alongside the releng-tool project(s):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îú‚îÄ‚îÄ my-awesome-extension/
‚îÇ   ‚îú‚îÄ‚îÄ my_awesome_extension/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NOTICE.pdf
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ LICENSE
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ...
‚îî‚îÄ‚îÄ my-releng-tool-project/
</pre></div>
</div>
<p>Inside this folder, create any base documents desired, a sample PDF, as well
as preparing a <code class="docutils literal notranslate"><span class="pre">my_awesome_extension</span></code> Python package folder to hold the
extension implementation. For the <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file, add the following
contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>

<span class="k">def</span><span class="w"> </span><span class="nf">releng_setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;post-build-finished&#39;</span><span class="p">,</span> <span class="n">my_awesome_postbuild_handler</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">my_awesome_postbuild_handler</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;post-build triggered!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above adds a function <code class="docutils literal notranslate"><span class="pre">releng_setup</span></code>, which releng-tool uses to register
the extension into the releng-tool engine. The function is invoked during
initialization by passing an application context (<code class="docutils literal notranslate"><span class="pre">app</span></code>) which the extension
can use to hook onto events and more. This extension implements a function
<code class="docutils literal notranslate"><span class="pre">my_awesome_postbuild_handler</span></code>, which is registered on the <code class="docutils literal notranslate"><span class="pre">post-build-finished</span></code>
event. This allows the handler to be triggered when a post-build stage has
completed for a project.</p>
<p>To test that the post-build event is triggered, use an existing releng-tool
project and register this new example extension into the releng-tool process:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>

<span class="o">...</span>

<span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;my_awesome_extension&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># add local extension path into system path</span>
<span class="n">releng_register_path</span><span class="p">(</span><span class="n">ROOT_DIR</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s1">&#39;my-awesome-extension&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>When running releng-tool, the following message should be printed at the end of
a run:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool
<span class="go">...</span>
<span class="go">post-build triggered!</span>
<span class="gp gp-VirtualEnv">(success)</span> <span class="go">completed (0:00:00)</span>
</pre></div>
</div>
<p>Next, we can now adjust our handler to help modify the output directory
when the event is triggered. In this example, we want to copy an
extension-managed <code class="docutils literal notranslate"><span class="pre">NOTICE.pdf</span></code> file and place it into the output directory.
Update the extension with the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">my_awesome_postbuild_handler</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
    <span class="c1"># find the NOTICE PDF document</span>
    <span class="n">notice_pdf</span> <span class="o">=</span> <span class="n">ROOT_DIR</span> <span class="o">/</span> <span class="s1">&#39;assets&#39;</span> <span class="o">/</span> <span class="s1">&#39;NOTICE.pdf&#39;</span>

    <span class="c1"># copy this file into the target directory</span>
    <span class="n">target</span> <span class="o">=</span> <span class="n">TARGET_DIR</span> <span class="o">/</span> <span class="s1">&#39;NOTICE.pdf&#39;</span>
    <span class="n">releng_copy</span><span class="p">(</span><span class="n">notice_pdf</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
</pre></div>
</div>
<p>With this change, a re-run of the releng-tool project should have the
<code class="docutils literal notranslate"><span class="pre">NOTICE.pdf</span></code> document copied into the target directory for the project.</p>
<p>This concludes this tutorial.</p>
<hr class="docutils" />
<p>For a list of available API interfaces and documentation for these interfaces,
see the documentation found inside the <a class="reference external" href="https://github.com/releng-tool/releng-tool/blob/main/releng_tool/api/__init__.py">API implementation</a>.</p>
</section>
</section>
<span id="document-guides/extensions/making-a-custom-package-type"></span><section id="making-a-custom-package-type-extension">
<h5>Making a custom package type extension<a class="headerlink" href="#making-a-custom-package-type-extension" title="Link to this heading">¬∂</a></h5>
<p>This is an extension example for the following use case:</p>
<blockquote>
<div><p>I‚Äôm using several packages in a project which use a custom package type
(i.e. they are not a typical Autotools or CMake project). I want to have
an extension so that I can trigger custom prepare and build actions for
project that is downloaded from version control.</p>
</div></blockquote>
<section id="prelude">
<h6>Prelude<a class="headerlink" href="#prelude" title="Link to this heading">¬∂</a></h6>
<ul class="simple">
<li><p>This extension example uses the name <code class="docutils literal notranslate"><span class="pre">my-awesome-extension</span></code>. Developers are
free to change this with whatever name is applicable for their own
extension.</p></li>
<li><p>This tutorial does not cover steps on publishing an extension to an index
such as <a class="reference external" href="https://pypi.org/">PyPI</a>. Instead, steps will be provided to load a extension‚Äôs
sources into the system path for releng-tool (which is optional whenever
a given extension can be installed from an index or runs in an environment
that already manages the installation of the extension).</p></li>
</ul>
<p>This tutorial assumes the existence of an already prepared releng-tool
project, which had one or more packages planned to use a newly introduced
package type. The package type operates as follows:</p>
<ul class="simple">
<li><p>A repository will have a <code class="docutils literal notranslate"><span class="pre">prepare</span></code> script at its root, to be run before
any builds are triggered.</p></li>
<li><p>For builds, a <code class="docutils literal notranslate"><span class="pre">build</span></code> script exists at the root, which expects a type of
build (e.g. <code class="docutils literal notranslate"><span class="pre">release</span></code> or <code class="docutils literal notranslate"><span class="pre">debug</span></code>) to be passed as an argument.</p></li>
<li><p>There is no standard installation script/process to perform.</p></li>
</ul>
<p>The example extension below will be designed to handle the above package type
requirements.</p>
</section>
<section id="creating-a-custom-package-type-extension">
<h6>Creating a custom package type extension<a class="headerlink" href="#creating-a-custom-package-type-extension" title="Link to this heading">¬∂</a></h6>
<section id="initial-skeleton">
<h6 aria-level="7">Initial skeleton<a class="headerlink" href="#initial-skeleton" title="Link to this heading">¬∂</a></h6>
<p>A first step is to setup the initial file structure for the extension. Assuming
there exists a checked out releng-tool project (<code class="docutils literal notranslate"><span class="pre">my-releng-tool-project</span></code>) to
be tested against, create a new extension folder named <code class="docutils literal notranslate"><span class="pre">my-awesome-extension</span></code>
alongside the releng-tool project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îú‚îÄ‚îÄ my-awesome-extension/
‚îÇ   ‚îú‚îÄ‚îÄ my_awesome_extension/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MyAwesomePackageType.py
‚îÇ   ‚îú‚îÄ‚îÄ LICENSE
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ...
‚îî‚îÄ‚îÄ my-releng-tool-project/
</pre></div>
</div>
<p>Inside this folder, create any base documents desired as well as preparing a
<code class="docutils literal notranslate"><span class="pre">my_awesome_extension</span></code> Python package folder to hold the extension
implementation. For the <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file, add the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">my_awesome_extension</span><span class="w"> </span><span class="kn">import</span> <span class="n">mapt</span>

<span class="k">def</span><span class="w"> </span><span class="nf">releng_setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_package_type</span><span class="p">(</span><span class="s1">&#39;ext-mapt&#39;</span><span class="p">,</span> <span class="n">mapt</span><span class="o">.</span><span class="n">MyAwesomePackageType</span><span class="p">)</span>
</pre></div>
</div>
<p>The above adds a function <code class="docutils literal notranslate"><span class="pre">releng_setup</span></code>, which releng-tool uses to register
the extension into the releng-tool engine. The function is invoked during
initialization by passing an application context (<code class="docutils literal notranslate"><span class="pre">app</span></code>) which the extension
can use to hook onto events and more.</p>
<p>This extension registers a new package type <code class="docutils literal notranslate"><span class="pre">ext-mapt</span></code>. When this new package
type is registered into releng-tool, the <code class="docutils literal notranslate"><span class="pre">MyAwesomePackageType</span></code> class
definition will be created/used to handle various stages of a package.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>All extension package types must be prefixed with <code class="docutils literal notranslate"><span class="pre">ext-</span></code>.</p>
</div>
<p>For <code class="docutils literal notranslate"><span class="pre">MyAwesomePackageType.py</span></code>, add the following contents:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyAwesomePackageType</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">opts</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TODO -- configure stage:&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">opts</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;TODO -- build stage:&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">opts</span><span class="p">):</span>
        <span class="c1"># do nothing for installation</span>
        <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
<p>The above package type provides a skeleton implementation for the pending
configuration and build stages for this new package type. The installation
stage is also required, but will only return <code class="docutils literal notranslate"><span class="pre">True</span></code> since it is not required
for this package type example.</p>
</section>
<section id="initial-testing">
<h6 aria-level="7">Initial testing<a class="headerlink" href="#initial-testing" title="Link to this heading">¬∂</a></h6>
<p>To test that the new package type is triggered at desired stages, use an
existing releng-tool project and register this new example extension into
the releng-tool process:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>

<span class="o">...</span>

<span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;my_awesome_extension&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># add local extension path into system path</span>
<span class="n">releng_register_path</span><span class="p">(</span><span class="n">ROOT_DIR</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s1">&#39;my-awesome-extension&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we will create/update a package which will use this new type. For
example, for a <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> package, we will configure the package type to
<code class="docutils literal notranslate"><span class="pre">ext-mapt</span></code> and track a custom extension option <code class="docutils literal notranslate"><span class="pre">mapt-build-type</span></code> with a
value of <code class="docutils literal notranslate"><span class="pre">release</span></code> (which we can later use to forward to our build script).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://example.com/libfoo.git&#39;</span>
<span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;ext-mapt&#39;</span>

<span class="n">LIBFOO_EXTOPT</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;mapt-build-type&#39;</span><span class="p">:</span> <span class="s1">&#39;release&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When running releng-tool, the following messages should be printed during
a run:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>libfoo
<span class="go">patching libfoo...</span>
<span class="go">configuring libfoo...</span>
<span class="go">TODO -- configure stage: libfoo</span>
<span class="go">building libfoo...</span>
<span class="go">TODO -- build stage: libfoo</span>
<span class="go">installing libfoo...</span>
</pre></div>
</div>
</section>
<section id="implement-the-configuration-stage">
<h6 aria-level="7">Implement the configuration stage<a class="headerlink" href="#implement-the-configuration-stage" title="Link to this heading">¬∂</a></h6>
<p>With the extension being triggered at expected locations, we can now provide
implementation for these hooks to trigger the required <code class="docutils literal notranslate"><span class="pre">prepare</span></code> and <code class="docutils literal notranslate"><span class="pre">build</span></code>
scripts. The following steps will edit the existing
<code class="docutils literal notranslate"><span class="pre">MyAwesomePackageType.py</span></code> file.</p>
<p>First, add some utility calls for the upcoming implementation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">releng_tool</span><span class="w"> </span><span class="kn">import</span> <span class="n">releng_execute</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">releng_tool</span><span class="w"> </span><span class="kn">import</span> <span class="n">releng_exists</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">releng_tool</span><span class="w"> </span><span class="kn">import</span> <span class="n">releng_exit</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">releng_tool</span><span class="w"> </span><span class="kn">import</span> <span class="n">releng_join</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">releng_tool</span><span class="w"> </span><span class="kn">import</span> <span class="n">verbose</span>

<span class="c1"># script shell to invoke</span>
<span class="n">SHELL_BIN</span> <span class="o">=</span> <span class="s1">&#39;sh&#39;</span>


<span class="k">class</span><span class="w"> </span><span class="nc">MyAwesomePackageType</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The above adds the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SHELL_BIN</span></code>: we define the shell executable to be invoked</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_execute</span></code>: to be used to invoke our prepare/build scripts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_exists</span></code>: to help check if a package has expected scripts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_exit</span></code>: to help exit configure/build events on error</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_join</span></code>: to help join paths for script targets</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verbose</span></code>: some verbose message support to help development/error cases</p></li>
</ul>
<p>Developers can use any supported Python packages/modules for this running
environment, and this example uses a series of helper functions provided
by releng-tool for convenience. Using releng-tool helper functions is not
required if implementations wish to use another approach for their
implementation.</p>
<p>We will implement the configuration event for our extension:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyAwesomePackageType</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">opts</span><span class="p">):</span>
        <span class="n">verbose</span><span class="p">(</span><span class="s1">&#39;invoking a mapt prepare for package: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">prepare_script</span> <span class="o">=</span> <span class="n">releng_join</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">build_dir</span><span class="p">,</span> <span class="s1">&#39;prepare&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">releng_exists</span><span class="p">(</span><span class="n">prepare_script</span><span class="p">):</span>
            <span class="n">releng_exit</span><span class="p">(</span><span class="s1">&#39;project is missing &quot;prepare&quot; script&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">releng_execute</span><span class="p">([</span><span class="n">SHELL_BIN</span><span class="p">,</span> <span class="n">prepare_script</span><span class="p">])</span>

    <span class="o">...</span>
</pre></div>
</div>
<p>The above will:</p>
<ul class="simple">
<li><p>Trigger a verbose message (if releng-tool is running with <code class="docutils literal notranslate"><span class="pre">--verbose</span></code>).</p></li>
<li><p>Build the <code class="docutils literal notranslate"><span class="pre">prepare</span></code> script path expected in the project‚Äôs build directory.</p></li>
<li><p>Verify that the script exists. If not, stop the configuration event.</p></li>
<li><p>Execute the prepare shell script.</p></li>
</ul>
</section>
<section id="implement-the-build-stage">
<h6 aria-level="7">Implement the build stage<a class="headerlink" href="#implement-the-build-stage" title="Link to this heading">¬∂</a></h6>
<p>With the configuration stage completed, we will now implement the build
stage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyAwesomePackageType</span><span class="p">:</span>
    <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">opts</span><span class="p">):</span>
        <span class="n">verbose</span><span class="p">(</span><span class="s1">&#39;invoking a mapt build for package: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="n">build_script</span> <span class="o">=</span> <span class="n">releng_join</span><span class="p">(</span><span class="n">opts</span><span class="o">.</span><span class="n">build_dir</span><span class="p">,</span> <span class="s1">&#39;build&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">releng_exists</span><span class="p">(</span><span class="n">build_script</span><span class="p">):</span>
            <span class="n">releng_exit</span><span class="p">(</span><span class="s1">&#39;project is missing &quot;build&quot; script&#39;</span><span class="p">)</span>

        <span class="n">build_type</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">ext</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mapt-build-type&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">build_type</span><span class="p">:</span>
            <span class="n">releng_exit</span><span class="p">(</span><span class="s1">&#39;project is missing &quot;mapt-build-type&quot; option&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">releng_execute</span><span class="p">([</span><span class="n">SHELL_BIN</span><span class="p">,</span> <span class="n">build_script</span><span class="p">,</span> <span class="n">build_type</span><span class="p">])</span>
</pre></div>
</div>
<p>The above will:</p>
<ul class="simple">
<li><p>Trigger a verbose message (if releng-tool is running with <code class="docutils literal notranslate"><span class="pre">--verbose</span></code>).</p></li>
<li><p>Build the <code class="docutils literal notranslate"><span class="pre">build</span></code> script path expected in the project‚Äôs build directory.</p></li>
<li><p>Verify that the script exists. If not, stop the build event.</p></li>
<li><p>Extract the expected <code class="docutils literal notranslate"><span class="pre">mapt-build-type</span></code> option from the package definition.
If the option does not exist, the build event will be stopped.</p></li>
<li><p>Execute the build shell script.</p></li>
</ul>
</section>
<section id="final-testing">
<h6 aria-level="7">Final testing<a class="headerlink" href="#final-testing" title="Link to this heading">¬∂</a></h6>
<p>With the extension events implemented, re-run the releng-tool project from
the package‚Äôs configuration stage to see expected output:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>libfoo-reconfigure
<span class="go">configuring libfoo...</span>
<span class="go">building libfoo...</span>
<span class="go">installing libfoo...</span>
</pre></div>
</div>
<p>Based on the package‚Äôs <code class="docutils literal notranslate"><span class="pre">prepare</span></code> and <code class="docutils literal notranslate"><span class="pre">build</span></code> script, inspect the console
output and build output to verify the respective scripts have performed
their tasks.</p>
<p>This concludes this tutorial.</p>
<hr class="docutils" />
<p>For a list of available API interfaces and documentation for these interfaces,
see the documentation found inside the <a class="reference external" href="https://github.com/releng-tool/releng-tool/blob/main/releng_tool/api/__init__.py">API implementation</a>.</p>
</section>
</section>
</section>
</div>
</section>
</section>
</div>
</section>
<span id="document-examples/examples"></span><section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¬∂</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>New developers may be interested in reading the
<a class="reference internal" href="#document-getting-started/tutorials"><span class="doc std std-doc">tutorials</span></a> section for step-by-step examples.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Developers wishing to quickly generate an initial project skeleton in
their working directory can use the <code class="docutils literal notranslate"><span class="pre">init</span></code> action:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>init
</pre></div>
</div>
</div>
<p>A series of demonstration projects can be found in the following repository:</p>
<blockquote>
<div><p>releng-tool ‚Äî Examples repository <br />
<a class="reference external" href="https://github.com/releng-tool/releng-tool-examples">https://github.com/releng-tool/releng-tool-examples</a></p>
</div></blockquote>
<p>Package examples:</p>
<div class="toctree-wrapper compound">
<span id="document-examples/examples-autotools"></span><section id="autotools-package-examples">
<h3>Autotools package examples<a class="headerlink" href="#autotools-package-examples" title="Link to this heading">¬∂</a></h3>
<p>An example <a class="reference internal" href="#document-guides/packages/pkg-type-autotools"><span class="doc std std-doc">Autotools package</span></a> definition:</p>
<p><strong>package/libfoo/libfoo.rt</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_NEEDS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;libbar&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">LIBFOO_INSTALL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;staging&#39;</span>
<span class="n">LIBFOO_LICENSE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;BSD-2-Clause&#39;</span><span class="p">]</span>
<span class="n">LIBFOO_LICENSE_FILES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;COPYING&#39;</span><span class="p">]</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://www.example.com/download/libfoo-1.2.4.tar.xz&#39;</span>
<span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;autotools&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.2.4&#39;</span>

<span class="n">LIBFOO_CONF_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;PKG_CONFIG&#39;</span><span class="p">:</span> <span class="s1">&#39;pkg-config --static&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PKG_CONFIG_PATH&#39;</span><span class="p">:</span> <span class="n">STAGING_DIR</span> <span class="o">/</span> <span class="s1">&#39;$PREFIX/lib/pkgconfig&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># static only</span>
    <span class="s1">&#39;--disable-shared&#39;</span><span class="p">,</span>
    <span class="c1"># features</span>
    <span class="s1">&#39;--without-feature-a&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--without-feature-c&#39;</span><span class="p">,</span>
    <span class="c1"># disable extras and miscellaneous</span>
    <span class="s1">&#39;--disable-docs&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<span id="document-examples/examples-cargo"></span><section id="cargo-package-examples">
<h3>Cargo package examples<a class="headerlink" href="#cargo-package-examples" title="Link to this heading">¬∂</a></h3>
<p>An example <a class="reference internal" href="#document-guides/packages/pkg-type-cargo"><span class="doc std std-doc">Cargo package</span></a> definition:</p>
<p><strong>package/libfoo/libfoo.rt</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_LICENSE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;BSD-2-Clause&#39;</span><span class="p">]</span>
<span class="n">LIBFOO_LICENSE_FILES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;LICENSE&#39;</span><span class="p">]</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git+git@example.com:base/libfoo.git&#39;</span>
<span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;cargo&#39;</span>

<span class="n">LIBFOO__CUSTOM_FEATURES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># tailor specific features</span>
    <span class="s1">&#39;--no-default-features&#39;</span><span class="p">,</span>
    <span class="s1">&#39;--features&#39;</span><span class="p">,</span> <span class="s1">&#39;feature-a,feature-b&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">LIBFOO_BUILD_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">*</span><span class="n">LIBFOO__CUSTOM_FEATURES</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">*</span><span class="n">LIBFOO__CUSTOM_FEATURES</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<span id="document-examples/examples-cmake"></span><section id="cmake-package-examples">
<h3>CMake package examples<a class="headerlink" href="#cmake-package-examples" title="Link to this heading">¬∂</a></h3>
<p>An example <a class="reference internal" href="#document-guides/packages/pkg-type-cmake"><span class="doc std std-doc">CMake package</span></a> definition:</p>
<p><strong>package/libfoo/libfoo.rt</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_NEEDS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;libbar&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">LIBFOO_LICENSE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Apache-2.0&#39;</span><span class="p">]</span>
<span class="n">LIBFOO_LICENSE_FILES</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;LICENSE.txt&#39;</span><span class="p">]</span>
<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;sdk-1.2.170.0&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://git.example.com/example/example.git&#39;</span>
<span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;cmake&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;1.2.170&#39;</span>

<span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;BUILD_FEATURE_A&#39;</span><span class="p">:</span> <span class="s1">&#39;ON&#39;</span><span class="p">,</span>
    <span class="s1">&#39;BUILD_SAMPLES&#39;</span><span class="p">:</span> <span class="s1">&#39;OFF&#39;</span><span class="p">,</span>
    <span class="s1">&#39;LIBBAR_INSTALL_DIR&#39;</span><span class="p">:</span> <span class="n">STAGING_DIR</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<span id="document-examples/examples-make"></span><section id="make-package-examples">
<h3>Make package examples<a class="headerlink" href="#make-package-examples" title="Link to this heading">¬∂</a></h3>
<p>An example <a class="reference internal" href="#document-guides/packages/pkg-type-make"><span class="doc std std-doc">Make package</span></a> definition:</p>
<p><strong>package/libfoo/libfoo.rt</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_LICENSE</span> <span class="o">=</span> <span class="s1">&#39;GPL-3.0-or-later&#39;</span>
<span class="n">LIBFOO_LICENSE_FILES</span> <span class="o">=</span> <span class="s1">&#39;README&#39;</span>
<span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://git.example.com/eng/support/libfoo.git&#39;</span>
<span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;make&#39;</span>
<span class="n">LIBFOO_VERSION</span> <span class="o">=</span> <span class="s1">&#39;0.23&#39;</span>

<span class="n">LIBFOO_INSTALL_OPTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;install-minimal&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<span id="document-examples/examples-meson"></span><section id="meson-package-examples">
<h3>Meson package examples<a class="headerlink" href="#meson-package-examples" title="Link to this heading">¬∂</a></h3>
<p>An example <a class="reference internal" href="#document-guides/packages/pkg-type-meson"><span class="doc std std-doc">Meson package</span></a> definition:</p>
<p><strong>package/scantool/scantool.rt</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SCANTOOL_LICENSE</span> <span class="o">=</span> <span class="s1">&#39;OSL-2.1&#39;</span>
<span class="n">SCANTOOL_LICENSE_FILES</span> <span class="o">=</span> <span class="s1">&#39;COPYING&#39;</span>
<span class="n">SCANTOOL_MESON_BUILD_TYPE</span> <span class="o">=</span> <span class="s1">&#39;release&#39;</span>
<span class="n">SCANTOOL_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v3.1&#39;</span>
<span class="n">SCANTOOL_SITE</span> <span class="o">=</span> <span class="s1">&#39;hg+https://example.com/scantool&#39;</span>
<span class="n">SCANTOOL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;meson&#39;</span>

<span class="n">SCANTOOL_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;SCANTOOL_OPT_MODE&#39;</span><span class="p">:</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<span id="document-examples/examples-python"></span><section id="python-package-examples">
<h3>Python package examples<a class="headerlink" href="#python-package-examples" title="Link to this heading">¬∂</a></h3>
<p>An example <a class="reference internal" href="#document-guides/packages/pkg-type-python"><span class="doc std std-doc">Python package</span></a> definition:</p>
<p><strong>package/myhosttool/myhosttool.rt</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MYHOSTTOOL_INSTALL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;host&#39;</span>
<span class="n">MYHOSTTOOL_PYTHON_SETUP_TYPE</span> <span class="o">=</span> <span class="s1">&#39;setuptools&#39;</span>
<span class="n">MYHOSTTOOL_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v$</span><span class="si">{MYHOSTTOOL_VERSION}</span><span class="s1">&#39;</span>
<span class="n">MYHOSTTOOL_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://git.example.org/utils/myhosttool.git&#39;</span>
<span class="n">MYHOSTTOOL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;python&#39;</span>
<span class="n">MYHOSTTOOL_VERSION</span> <span class="o">=</span> <span class="s1">&#39;5.3.0&#39;</span>
</pre></div>
</div>
</section>
<span id="document-examples/examples-scons"></span><section id="scons-package-examples">
<h3>SCons package examples<a class="headerlink" href="#scons-package-examples" title="Link to this heading">¬∂</a></h3>
<p>An example <a class="reference internal" href="#document-guides/packages/pkg-type-scons"><span class="doc std std-doc">SCons package</span></a> definition:</p>
<p><strong>package/exampleprj/exampleprj.rt</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">EXAMPLEPRJ_INTERNAL</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">EXAMPLEPRJ_SCONS_NOINSTALL</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">EXAMPLEPRJ_SITE</span> <span class="o">=</span> <span class="s1">&#39;svn+https://svn.example.com/repos/exampleprj/c/branches/prj-3.4.5&#39;</span>
<span class="n">EXAMPLEPRJ_TYPE</span> <span class="o">=</span> <span class="s1">&#39;scons&#39;</span>
</pre></div>
</div>
</section>
<span id="document-examples/examples-waf"></span><section id="waf-package-examples">
<h3>Waf package examples<a class="headerlink" href="#waf-package-examples" title="Link to this heading">¬∂</a></h3>
<p>An example <a class="reference internal" href="#document-guides/packages/pkg-type-waf"><span class="doc std std-doc">Waf package</span></a> definition:</p>
<p><strong>package/myapp/myapp.rt</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MYAPP_LICENSE</span> <span class="o">=</span> <span class="s1">&#39;Buddy&#39;</span>
<span class="n">MYAPP_LICENSE_FILES</span> <span class="o">=</span> <span class="s1">&#39;COPYING&#39;</span>
<span class="n">MYAPP_REVISION</span> <span class="o">=</span> <span class="s1">&#39;myapp-8.3&#39;</span>
<span class="n">MYAPP_SITE</span> <span class="o">=</span> <span class="s1">&#39;https://git.example.org/mygroup/myapp.git&#39;</span>
<span class="n">MYAPP_TYPE</span> <span class="o">=</span> <span class="s1">&#39;waf&#39;</span>
</pre></div>
</div>
</section>
</div>
</section>
<span id="document-help"></span><section id="requesting-help">
<h2>Um Hilfe bitten<a class="headerlink" href="#requesting-help" title="Link to this heading">¬∂</a></h2>
<p>If experience issues with using releng-tool, developing extensions, etc.; do
not hesitate to create an issue in this project‚Äôs GitHub page:</p>
<blockquote>
<div><p>releng-tool ‚Äî Issues <br />
<a class="reference external" href="https://github.com/releng-tool/releng-tool/issues">https://github.com/releng-tool/releng-tool/issues</a></p>
</div></blockquote>
</section>
<span id="document-contributors"></span><section id="contributor-guide">
<h2>Leitfaden f√ºr Mitwirkende<a class="headerlink" href="#contributor-guide" title="Link to this heading">¬∂</a></h2>
<p>The following outlines common directory locations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Documentation</span></code> - Project documentation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_tool/api/</span></code> - API for supporting releng-tool extensions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_tool/engine/</span></code> - Core implementation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_tool/ext/</span></code> - Extensions that are maintained in the official tree</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_tool/extract/</span></code> - Translate fetched content to a build‚Äôs working area</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_tool/fetch/</span></code> - Support for fetching content from package sites</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">releng_tool/tool/</span></code> - Definitions for host tools used by tool features</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test/</span></code> - Testing-related content for this project‚Äôs implementation</p></li>
</ul>
<p>releng-tool is built on the Python language and aims to be the minimum
dependency for users of the tool. Specific features enabled by a developer‚Äôs
project may require additional tools (e.g. using <a class="reference external" href="https://git-scm.com/">Git</a> to fetch sources
requires <code class="docutils literal notranslate"><span class="pre">git</span></code> to be installed); however, a user should not be required to
install tools for features that are not being used.</p>
<section id="contributing">
<h3>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">¬∂</a></h3>
<p>Developers are free to submit contributions for this project. Developers wishing
to contribute should read this project‚Äôs <a class="reference external" href="https://github.com/releng-tool/releng-tool/blob/main/CONTRIBUTING.md">CONTRIBUTING</a> document.
A reminder that any contributions must be signed off with the
<a class="reference external" href="https://developercertificate.org/">Developer Certificate of Origin</a>.</p>
<p>Implementation (source, comments, commits, etc.) submitted to this project
should be provided in English.</p>
</section>
<section id="root-directory">
<h3>Root directory<a class="headerlink" href="#root-directory" title="Link to this heading">¬∂</a></h3>
<p>A user invoking releng-tool will attempt to operate in a project root directory.
Any content managed by this tool (e.g. creating directories, downloading
sources, etc.) should all be performed inside the root directory. Some
exceptions exist where a user requests to adjust the download directory (e.g.
providing the <code class="docutils literal notranslate"><span class="pre">--dl-dir</span></code> argument).</p>
</section>
<section id="fetching-design">
<h3>Fetching design<a class="headerlink" href="#fetching-design" title="Link to this heading">¬∂</a></h3>
<p>Packages can describe where external content should be fetched from. The most
common fetching method is a simple URI-style fetch such as downloading an
archive from an HTTP/FTP location. Assets acquired in this manner are downloaded
into the root directory‚Äôs download folder (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;ROOT&gt;/dl</span></code>). The extraction
phase will later use this folder to find package content to prepare against.</p>
<p>releng-tool also supports the fetching of content from version control systems.
Sources can either be fetched and placed into an archive, in a similar fashion
as fetching an archive from HTTP/FTP locations, or sources can be fetched into a
‚Äûcache directory‚Äú if supported (typically distributed version controlled
sources). For example, <a class="reference external" href="https://git-scm.com/">Git</a> repositories (see also Git‚Äôs
<a class="reference external" href="https://git-scm.com/docs/git#Documentation/git.txt---git-dirltpathgt"><code class="docutils literal notranslate"><span class="pre">--git-dir</span></code></a>) will be stored in the root directory‚Äôs cache folder
(e.g. <code class="docutils literal notranslate"><span class="pre">&lt;ROOT&gt;/cache</span></code>). During the extraction stage, target revisions will
be pulled from the cache location using the <code class="docutils literal notranslate"><span class="pre">git</span></code> client.</p>
<p>Not all packages will fetch content (e.g. placeholder packages).</p>
</section>
<section id="extraction-design">
<h3>Extraction design<a class="headerlink" href="#extraction-design" title="Link to this heading">¬∂</a></h3>
<p>In most cases, the extraction phase will process archives (e.g. <code class="docutils literal notranslate"><span class="pre">.tar.gz</span></code>,
<code class="docutils literal notranslate"><span class="pre">.zip</span></code>, etc.) and place their contents into a package‚Äôs build working
directory. Implementation will vary for fetching implementation which stores
content into a cache directory. For example, <a class="reference external" href="https://git-scm.com/">Git</a> and
<a class="reference external" href="https://www.mercurial-scm.org/">Mercurial</a> sources have their own extraction implementations to
pull content from their respective distributed file systems into a package‚Äôs
build working directory.</p>
</section>
<section id="host-and-build-environment">
<h3>Host and Build environment<a class="headerlink" href="#host-and-build-environment" title="Link to this heading">¬∂</a></h3>
<p>releng-tool attempts to minimize the impact of a host system‚Äôs environment on a
project‚Äôs build. For example, the build phase of a package should not be pulling
compiler flags provided from the host system‚Äôs environment. These flags should
be provided from the package definition. Tools invoked by releng-tool will
attempt to be invoked to ignore these external environment variables. Some
exceptions apply such as environment variables dealing with authorization
tokens.</p>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">¬∂</a></h3>
<p>Improvements to this project‚Äôs documentation are always welcome ‚Äì not only
for adding/updating documentation for releng-tool features but also
translations.</p>
<p>For users interested in documentation for this project, please see the
following repository:</p>
<blockquote>
<div><p>releng-tool ‚Äì Documentation<br />
<a class="reference external" href="https://github.com/releng-tool/releng-tool-docs">https://github.com/releng-tool/releng-tool-docs</a></p>
</div></blockquote>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-release-notes"></span><section id="release-notes">
<h2>Versionshinweise<a class="headerlink" href="#release-notes" title="Link to this heading">¬∂</a></h2>
<p>The following provides the notable features, bug fixes and more for each
release of releng-tool. For a complete list of detailed changes to
releng-tool, please see the project‚Äôs <a class="reference external" href="https://github.com/releng-tool/releng-tool/commits">repository commits</a>.</p>
<section id="news">
<h3>News<a class="headerlink" href="#news" title="Link to this heading">¬∂</a></h3>
<div class="toctree-wrapper compound">
<span id="document-news/2026-03-01_02.09.00"></span><section id="v2-9-2026-03-01">
<h4>2.9 (2026-03-01)<a class="headerlink" href="#v2-9-2026-03-01" title="Link to this heading">¬∂</a></h4>
<section id="new-linting-checks">
<h5>New Linting Checks<a class="headerlink" href="#new-linting-checks" title="Link to this heading">¬∂</a></h5>
<p>Thirteen new linting checks have been added when using the
<a class="reference internal" href="#document-guides/arguments#action-lint"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">lint</span></code></span></a> action:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">lint</span>
</pre></div>
</div>
<p>An overall summary of additions includes:</p>
<ul class="simple">
<li><p>Notify use of deprecated configurations.</p></li>
<li><p>Notify use of development-mode package configurations for packages which do
not configure a development revision.</p></li>
<li><p>Various checks for package/feature-specific configurations when a given
package/VCS/feature type is not applicable (e.g. attempting to use
Git-related features for a non-Git VCS type package).</p></li>
</ul>
<p>This change drops some warnings that were originally presented in a default
releng-tool run to now only show in a lint request.</p>
</section>
<section id="support-for-development-mode-patching">
<h5>Support for Development Mode Patching<a class="headerlink" href="#support-for-development-mode-patching" title="Link to this heading">¬∂</a></h5>
<p>Developers may now utilizing patching support for packages with a
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-revision"><span class="std std-ref">development revision</span></a>. Historically, patches
would only be aimed to run for non-development revisions as a way to
support delays in patch application for upstream release versions. However,
maintainers of a releng-tool project may also experience the same delays
when waiting for the application of packages on development streams they
cannot control. With this release, developers will have new options to
hint whether or not patches are applied to a package no matter what mode
is configured.</p>
<p>The default patching strategy has not changed from previous releases. Patches
for a package are still automatically detected and applied for non-development
revisioned packages.</p>
<p>If a developer now wishes to apply patches for a package with a development
mode revision, the <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_PATCHES</span></code></span></a> option
can now be used. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_REVISION</span> <span class="o">=</span> <span class="s1">&#39;feature/alpha&#39;</span>
<span class="n">LIBFOO_DEVMODE_PATCHES</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>When operating in <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>, the <code class="docutils literal notranslate"><span class="pre">libfoo</span></code>
package will utilize the <code class="docutils literal notranslate"><span class="pre">feature/alpha</span></code> branch and will automatically apply
patches to the cloned sources during the patching stage. The patch
configuration also supports pattern matching to have only specific or a
wildcard of patches to apply. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_PATCHES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;005-correct-cint-usage.patch&#39;</span><span class="p">,</span>
    <span class="s1">&#39;007-remove-broken-mode.patch&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>With the ability to support patching packages in development mode,
developers utilizing this feature may now need to configure packages to not
apply for a standard build. To support this, the configuration option
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-ignore-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_IGNORE_PATCHES</span></code></span></a> has been introduced.
If a developer wants to have new patches applied to only in a development mode
context, the following configuration can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_REVISION</span> <span class="o">=</span> <span class="s1">&#39;feature/bravo&#39;</span>
<span class="n">LIBFOO_DEVMODE_PATCHES</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">LIBFOO_IGNORE_PATCHES</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Normal builds will now not apply any patches to <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> by default, and only
apply changes when in a development mode. This option also supports patterns
to allow ignoring only specific patches for a normal build. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_IGNORE_PATCHES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;*-new-feature-*&#39;</span><span class="p">,</span>
    <span class="s1">&#39;006-support-new-compiler.patch&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>For more information on tailoring patch applications for specific development
modes, refer to the documentation of the newly added options.</p>
</section>
<section id="planned-removals-next-release">
<h5>Planned Removals Next Release<a class="headerlink" href="#planned-removals-next-release" title="Link to this heading">¬∂</a></h5>
<p>A series of deprecated features are now planned to be removed in a following
release.</p>
<ul class="simple">
<li><p>Bazaar-site support is planned to be removed. Developers can switch to
using the Breezy-site type.</p></li>
<li><p>Support for Python 3.9 (EOL) will be dropped.</p></li>
<li><p>Package configurations <a class="reference internal" href="#document-guides/configuration#conf-override-revisions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">override_revisions</span></code></span></a> and
<a class="reference internal" href="#document-guides/configuration#conf-override-sites"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">override_sites</span></code></span></a> will no longer be supported.
Developers can take advantage of the <a class="reference internal" href="#document-guides/configuration#conf-revisions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">revisions</span></code></span></a>
configuration key or utilize <a class="reference internal" href="#document-guides/arguments#arg-variable-injection"><span class="std std-ref">variable injection</span></a>
for overriding options on the fly.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">LIBFOO_SKIP_REMOTE_*</span></code> options will be removed as respective
<code class="docutils literal notranslate"><span class="pre">LIBFOO_REMOTE_*</span></code> options exist.</p></li>
<li><p>An implicit Python package setup type will no longer be supported.
Python-based packages are required to configure
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-setup-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_SETUP_TYPE</span></code></span></a>.</p></li>
</ul>
</section>
</section>
<span id="document-news/2026-02-22_02.08.00"></span><section id="v2-8-2026-02-22">
<h4>2.8 (2026-02-22)<a class="headerlink" href="#v2-8-2026-02-22" title="Link to this heading">¬∂</a></h4>
<section id="support-for-waf-package-types">
<h5>Support for Waf package types<a class="headerlink" href="#support-for-waf-package-types" title="Link to this heading">¬∂</a></h5>
<p>Introduction of the <a class="reference internal" href="#document-guides/packages/pkg-type-waf"><span class="doc std std-doc"><code class="docutils literal notranslate"><span class="pre">waf</span></code> package type</span></a>. This
new package type allow a developer to easily invoke Waf targets at various
stages, without needing invoke these tools inside a scripts package.</p>
</section>
<section id="introduce-package-configurable-maximum-job-limit">
<h5>Introduce package configurable maximum job limit<a class="headerlink" href="#introduce-package-configurable-maximum-job-limit" title="Link to this heading">¬∂</a></h5>
<p>This release introduces support for <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a>,
allowing a specific package to configure maximum number of jobs it should use
for a build.</p>
<p>While <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> somewhat served this capability
before, its use was tailored for restricting packages to a single job only. If
a project could use a subset of jobs to run, there was no easy way to
configure this. This could be tricky for packages which might have memory
requirements per job unit which cannot be provided by a builder.</p>
<p>If a build environment has tens to hundreds of cores, but a developer knows a
package can only run around four jobs for package, they may tailor a maximum
count as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MAX_JOBS</span> <span class="o">=</span> <span class="mi">4</span>
</pre></div>
</div>
<p>In addition to limiting job counts, the max-jobs value also accepts negative
values. This can be used to hint to using N-less jobs than the detected amount.
For example, if a package is best to use all cores but one for a build, a
package may define negative one as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MAX_JOBS</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section id="project-configuration-revisions-options">
<h5>Project configuration revisions options<a class="headerlink" href="#project-configuration-revisions-options" title="Link to this heading">¬∂</a></h5>
<p>Packages will typically define revisions to fetch through
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a> and <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a>
options. This follows the idea of containing package-specific information
inside a package‚Äôs definition. However, developers may instead wish to manage
fixed revisions in a single location due to their possible volatility when
compared to other options.</p>
<p>Developers looking for the convenience of managing revisions in a single
location can do so by defining a <a class="reference internal" href="#document-guides/configuration#conf-revisions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">revisions</span></code></span></a> project
configuration option. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">revisions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;libfoo&#39;</span><span class="p">:</span> <span class="s1">&#39;libfoo-v2.1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;myapp&#39;</span><span class="p">:</span> <span class="s1">&#39;1.0.0&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For the package <code class="docutils literal notranslate"><span class="pre">libfoo</span></code>, the its <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> will
be configured to <code class="docutils literal notranslate"><span class="pre">libfoo-v2.1</span></code>. As well as the package <code class="docutils literal notranslate"><span class="pre">myapp</span></code> will have its
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">MYAPP_REVISION</span></code></span></a> configured to <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code>.</p>
</section>
<section id="support-skipping-integrity-checks-for-development-marked-packages">
<h5>Support skipping integrity checks for development-marked packages<a class="headerlink" href="#support-skipping-integrity-checks-for-development-marked-packages" title="Link to this heading">¬∂</a></h5>
<p>Support has been added to allow developers to skip integrity checks for
specific packages when in <a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a>.</p>
<p>A package definition will typically have hashes defined for static resources to
verify their contents. While this is desired approach for standard packages,
a developer which defines a development-variant package when testing bleeding
edge sources can experience fetch failures since development assets will have
a mismatched hash. A developer can workaround this by appending additional
hashes for a package, but this can remove the flexibility of acquiring bleeding
edge assets for an internal package.</p>
<p>To workaround this scenario, the package configuration
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-skip-integrity-check"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_SKIP_INTEGRITY_CHECK</span></code></span></a>
has been introduced. Consider this example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DEFAULT_SITE</span><span class="p">:</span> <span class="s1">&#39;https://pkgs.example.com/releases/libfoo-1.2.3.tar.gz&#39;</span><span class="p">,</span>
    <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="s1">&#39;https://staging.example.org/nightly/libfoo-latest.tar.gz&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">LIBFOO_DEVMODE_SKIP_INTEGRITY_CHECK</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>This package defines a default and development site for a package resource.
If the package defined a hash file (<code class="docutils literal notranslate"><span class="pre">libfoo.hash</span></code>), the hash definition would
typically require explicit hashes for both <code class="docutils literal notranslate"><span class="pre">libfoo-1.2.3.tar.gz</span></code> and
<code class="docutils literal notranslate"><span class="pre">libfoo-latest.tar.gz</span></code>. However, if <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_SKIP_INTEGRITY_CHECK</span></code> is
set, when running with in a <code class="docutils literal notranslate"><span class="pre">test</span></code> development mode, no hashes are required
for the latest artifact.</p>
</section>
<section id="spdx-license-database-updated">
<h5>SPDX license database updated<a class="headerlink" href="#spdx-license-database-updated" title="Link to this heading">¬∂</a></h5>
<p>The internally managed copy of the <a class="reference external" href="https://spdx.org/licenses/">SPDX license identifiers</a> has
been updated to the most recent version (v3.28).</p>
</section>
</section>
<span id="document-news/2026-02-08_02.07.00"></span><section id="v2-7-2026-02-08">
<h4>2.7 (2026-02-08)<a class="headerlink" href="#v2-7-2026-02-08" title="Link to this heading">¬∂</a></h4>
<section id="improved-processing-of-command-outputs">
<h5>Improved processing of command outputs<a class="headerlink" href="#improved-processing-of-command-outputs" title="Link to this heading">¬∂</a></h5>
<p>For executable calls, all command line output is now processed as a stream over
character polling for newlines. This should help improve a user‚Äôs experience
for outputs that utilize a carriage return character to update an existing
line.</p>
<p>For example, Git fetch attempts would previously output multiple lines of
fetch status updates:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fetching my-project...
fetching most recent sources
remote: Enumerating objects: 2517, done.
remote: Counting objects:   0% (1/2517)
remote: Counting objects:   1% (26/2517)
remote: Counting objects:   2% (51/2517)
...
remote: Counting objects: 100% (2517/2517), done.
remote: Compressing objects:   0% (1/1812)
remote: Compressing objects:   1% (19/1812)
remote: Compressing objects:   2% (37/1812)
...
remote: Compressing objects: 100% (1812/1812), done.
Receiving objects:   0% (1/2517)
Receiving objects:   1% (26/2517)
Receiving objects:   2% (51/2517)
...
Receiving objects: 100% (2517/2517), 3.60 MiB | 8.47 MiB/s, done.
remote: Total 2517 (delta 1038), reused 1465 (delta 663), pack-reused 0 (from 0)
Resolving deltas:   0% (0/1038)
Resolving deltas:   1% (11/1038)
Resolving deltas:   2% (21/1038)
...
Resolving deltas: 100% (1038/1038), done.
...
</pre></div>
</div>
<p>Where now the output operates in a similar fashion as one would experience if
invoking <code class="docutils literal notranslate"><span class="pre">git</span></code> calls directly:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fetching my-project...
fetching most recent sources
remote: Enumerating objects: 2517, done.
remote: Counting objects: 100% (2517/2517), done.
remote: Compressing objects: 100% (1812/1812), done.
remote: Total 2517 (delta 1038), reused 1465 (delta 663), pack-reused 0 (from 0)
Receiving objects: 100% (2517/2517), 3.60 MiB | 8.72 MiB/s, done.
Resolving deltas: 100% (1038/1038), done.
...
</pre></div>
</div>
</section>
<section id="linting-support">
<h5>Linting support<a class="headerlink" href="#linting-support" title="Link to this heading">¬∂</a></h5>
<p>New linting actions have been added into releng-tool. Users can perform a
quality check on a project using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">lint</span>
</pre></div>
</div>
<p>Or perform a package-specific lint using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">&lt;</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;-</span><span class="n">lint</span>
</pre></div>
</div>
<p>Linting checks are very limited at this time by only checking for expected
package definition variables. Ideally it can be improved/expanded on over
time.</p>
</section>
<section id="meson-build-type-package-option">
<h5>Meson Build Type package option<a class="headerlink" href="#meson-build-type-package-option" title="Link to this heading">¬∂</a></h5>
<p>A new package option <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_BUILD_TYPE</span></code></span></a> has
been added for Meson packages. In previous releases, to override the build
type, an option override was required to be set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_OPTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;buildtype&#39;</span><span class="p">:</span> <span class="s1">&#39;debug&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Alternatively, users can now specify the build type without needing to prepare
package options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_MESON_BUILD_TYPE</span> <span class="o">=</span> <span class="s1">&#39;debug&#39;</span>
</pre></div>
</div>
</section>
<section id="only-show-ssh-error-logs-for-remote-git-actions">
<h5>Only show SSH error logs for remote Git actions<a class="headerlink" href="#only-show-ssh-error-logs-for-remote-git-actions" title="Link to this heading">¬∂</a></h5>
<p>Git operations will now suppress non-error log messages by default. This it to
help avoid possible MOTDs or other instance banner messages that is not
typically desired in an automated fetch/build context.</p>
</section>
<section id="new-package-stage-extension-events">
<h5>New Package Stage Extension Events<a class="headerlink" href="#new-package-stage-extension-events" title="Link to this heading">¬∂</a></h5>
<p>Extension support now includes events for individual package stages (e.g.
configuration, build, etc.). Each stage will now emit events at the start of
a stage and after a stage has been successfully run.</p>
<p>For example, to hook into the start and end events of each package‚Äôs
configuration stage, the following can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">releng_setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;package-configure-started&#39;</span><span class="p">,</span> <span class="n">on_pkgcfg_started</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;package-configure-finished&#39;</span><span class="p">,</span> <span class="n">on_pkgcfg_finished</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_pkgcfg_started</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_pkgcfg_finished</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>For more information, see <a class="reference internal" href="#document-guides/extensions/extensions"><span class="doc std std-doc">extensions</span></a>.</p>
</section>
</section>
<span id="document-news/2025-08-03_02.06.00"></span><section id="v2-6-2025-08-03">
<h4>2.6 (2025-08-03)<a class="headerlink" href="#v2-6-2025-08-03" title="Link to this heading">¬∂</a></h4>
<section id="adjustments-to-local-sources-interaction">
<h5>Adjustments to local-sources interaction<a class="headerlink" href="#adjustments-to-local-sources-interaction" title="Link to this heading">¬∂</a></h5>
<p>Two adjustments have been made for user‚Äôs who utilize local-sources mode. First,
when running releng-tool configured for a local-sources mode, paths of any
configured local-source overrides are now always printed at the start of a
releng-tool run.</p>
<p>The second improvement is the handling of provided local-sources paths on the
command line. Supported paths would include explicit directories; however, if a
trailing slash was provided in the path, the mapping to the package may not
work. This is not ideal for users utilizing path expansion in their shells which
typically end in trailing slashes. releng-tool has been updated to now accept
trailing-slashed paths.</p>
</section>
<section id="rework-of-provided-staging-target-host-paths-for-cmake-projects">
<h5>Rework of provided staging/target/host paths for CMake projects<a class="headerlink" href="#rework-of-provided-staging-target-host-paths-for-cmake-projects" title="Link to this heading">¬∂</a></h5>
<p>CMake-based projects are provided locations for various include, library and
module paths in their configuration stages. This is to help hint at assets
generated by packages that can be found by other packages that locally depend
on them. However, some limitations have existed in how releng-tool configured
a project, especially for environments which used strict
<code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH_MODE_*</span></code> modes.</p>
<p>While projects are invoked with <a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_INCLUDE_PATH.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_INCLUDE_PATH</span></code></a>,
<a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_LIBRARY_PATH.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_LIBRARY_PATH</span></code></a>, etc. to help find various resources;
a <a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_FIND_ROOT_PATH.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code></a> path was never provided. This
could be problematic for builds that may be configured with, for example,
<a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_FIND_ROOT_PATH_MODE_INCLUDE.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH_MODE_INCLUDE</span></code></a> set to
<code class="docutils literal notranslate"><span class="pre">ONLY</span></code> and options like <code class="docutils literal notranslate"><span class="pre">CMAKE_INCLUDE_PATH</span></code> are ignored.</p>
<p>Toolchain configurations should be configuring <a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_SYSROOT.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_SYSROOT</span></code></a>
and ideally allow <code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code> to be tailored (if a caller can provide
extended sysroot paths). Since releng-tool now provides <code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code>,
toolchain configurations should be able to support the base toolchain sysroot
and additional staged/target files prepared by a releng-tool project.</p>
<p>Example toolchain configuration should ideally support either:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">APPEND</span> <span class="n">CMAKE_FIND_ROOT_PATH</span> <span class="s2">&quot;INTERNAL_SDK_PATH&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="n">NOT</span> <span class="n">DEFINED</span> <span class="n">CMAKE_FIND_ROOT_PATH</span><span class="p">)</span>
    <span class="nb">set</span><span class="p">(</span><span class="n">CMAKE_FIND_ROOT_PATH</span> <span class="s2">&quot;INTERNAL_SDK_PATH&quot;</span><span class="p">)</span>
<span class="n">endif</span><span class="p">()</span>
</pre></div>
</div>
<p>Before the use of <code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code>, releng-tool used to configure
<a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_PREFIX_PATH.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_PREFIX_PATH</span></code></a> to help projects find content in the
staging/target area. This resulted in some undesired side effects as it could
result in program finding to try to find/use staged/target executables in the
host environment. Defining the prefix path is not required with the proper
find-related configurations; therefore, releng-tool will no longer explicitly
configure <code class="docutils literal notranslate"><span class="pre">CMAKE_PREFIX_PATH</span></code>.</p>
</section>
<section id="spdx-license-database-updated">
<h5>SPDX license database updated<a class="headerlink" href="#spdx-license-database-updated" title="Link to this heading">¬∂</a></h5>
<p>The internally managed copy of the <a class="reference external" href="https://spdx.org/licenses/">SPDX license identifiers</a> has
been updated to the most recent version (v3.27).</p>
</section>
</section>
<span id="document-news/2025-06-22_02.05.00"></span><section id="v2-5-2025-06-22">
<h4>2.5 (2025-06-22)<a class="headerlink" href="#v2-5-2025-06-22" title="Link to this heading">¬∂</a></h4>
<section id="introducing-profiles">
<h5>Introducing Profiles<a class="headerlink" href="#introducing-profiles" title="Link to this heading">¬∂</a></h5>
<p>A user can now provide <a class="reference internal" href="#document-guides/profiles"><span class="doc std std-doc">‚Äûprofile‚Äú hints</span></a> for a releng-tool
execution. These are simple string hints that a caller can used to inform a
project of custom runtime states that should be performed. A user can trigger
a run to use a profile by using the <a class="reference internal" href="#document-guides/arguments#arg-profile"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--profile</span></code> argument</span></a>. For
example, the following will enable a profile name <code class="docutils literal notranslate"><span class="pre">awesome-mode</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">profile</span> <span class="n">awesome</span><span class="o">-</span><span class="n">mode</span>
</pre></div>
</div>
<p>A profile value can then be read by a project‚Äôs configuration or various
package stages to manipulate a run as desired. Active profiles can be
determined by checking the <a class="reference internal" href="#document-guides/environment#env-releng-profiles"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_PROFILES</span></code></span></a> variable.
To continue with this example, if looking to add an additional package when
using the <code class="docutils literal notranslate"><span class="pre">awesome-mode</span></code> profile, the following can be added in a project‚Äôs
<code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;example&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">if</span> <span class="s1">&#39;awesome-mode&#39;</span> <span class="ow">in</span> <span class="n">RELENG_PROFILES</span><span class="p">:</span>
    <span class="n">packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;awesome-mods&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Multiple profiles can be enabled for a run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">profile</span> <span class="n">awesome</span><span class="o">-</span><span class="n">mode</span> <span class="o">--</span><span class="n">profile</span> <span class="n">another</span><span class="o">-</span><span class="n">example</span>
</pre></div>
</div>
<p>Note that releng-tool does not use any provided profile values other than
normalizing profile strings to be forwarded to project/package scripts.</p>
</section>
<section id="support-flexible-visual-studio-developer-command-prompt-installs">
<h5>Support flexible Visual Studio Developer Command Prompt installs<a class="headerlink" href="#support-flexible-visual-studio-developer-command-prompt-installs" title="Link to this heading">¬∂</a></h5>
<p>For projects using the <a class="reference internal" href="#document-guides/configuration#conf-vsdevcmd"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd</span></code></span></a> option, it was not
consistent to which Visual Studio installation was used based on how
releng-tool invoked <a class="reference external" href="https://github.com/microsoft/vswhere">Visual Studio Locator (vswhere)</a>. This release
aims to be more consistent and flexible for the automatic selection by:</p>
<ul class="simple">
<li><p>Using the most recent revision of Visual Studio (e.g. 2022 over 2019) and
most recent install (e.g. if Visual Studio Enterprise was the most recent
install, it is used).</p></li>
<li><p>If a Visual Studio installation does not define a Visual Studio Developer
Command Prompt script (<code class="docutils literal notranslate"><span class="pre">VsDevCmd.bat</span></code>), look for the next Visual Studio
installation. This can help avoid issues where environments may include an
installation of Visual Studio Test Agent.</p></li>
</ul>
<p>Note that users can still use the <a class="reference internal" href="#document-guides/configuration#conf-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd_products</span></code></span></a>
project configuration or <a class="reference internal" href="#document-guides/packages/system-pkg-options#pkg-opt-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD_PRODUCTS</span></code></span></a>
package configuration to select a specific product type to use.</p>
</section>
</section>
<span id="document-news/2025-05-31_02.04.00"></span><section id="v2-4-2025-05-31">
<h4>2.4 (2025-05-31)<a class="headerlink" href="#v2-4-2025-05-31" title="Link to this heading">¬∂</a></h4>
<section id="add-vcs-revision-to-sbom-documents">
<h5>Add VCS revision to SBOM documents<a class="headerlink" href="#add-vcs-revision-to-sbom-documents" title="Link to this heading">¬∂</a></h5>
<p>When generating software build of materials (SBOM) documents, these documents
will now attempt to include package revision values where applicable. The
version entry for packages have always used <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a>
(or fallback to <a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> if a version is not
configured). However, the version/revision is sometimes be a branch and may
not be helpful in identifying of what sources are used.</p>
<p>For Git and Mercurial VCS types, the commit hash is now queried and included
for package entries. For other VCS types, if the revision value does not match
the configured version value, the revision value will now be included.</p>
</section>
<section id="introduce-a-debug-extended-argument">
<h5>Introduce a <code class="docutils literal notranslate"><span class="pre">--debug-extended</span></code> argument<a class="headerlink" href="#introduce-a-debug-extended-argument" title="Link to this heading">¬∂</a></h5>
<p>releng-tool command line arguments will now support a <code class="docutils literal notranslate"><span class="pre">--debug-extended</span></code>
argument. When configured, a releng-tool process may print more information
than what may be seen in a normal debug-run. At this time, this includes
printing an extended/sorted list of arguments used in process executions, as
well as printing out each environment variable used for the process executions.</p>
</section>
<section id="support-visual-studio-build-tools-when-using-injected-visual-studio-support">
<h5>Support Visual Studio Build Tools when using injected Visual Studio support<a class="headerlink" href="#support-visual-studio-build-tools-when-using-injected-visual-studio-support" title="Link to this heading">¬∂</a></h5>
<p>For projects using the <a class="reference internal" href="#document-guides/configuration#conf-vsdevcmd"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd</span></code></span></a> option to inject Visual
Studio Developer Command Prompt (<code class="docutils literal notranslate"><span class="pre">VsDevCmd.bat</span></code>) variables into the
releng-tool process, this implementation relies on
<a class="reference external" href="https://github.com/microsoft/vswhere">Visual Studio Locator (vswhere)</a> to find which version of Visual
Studios to use. While finding the tooling works for most installations,
environments that rely on Visual Studio Build Tools may fail to inject since
it is not a product type that is automatically included in a search.</p>
<p>This latest release of releng-tool now forces the inclusion of all product
types when searching for tooling on a system. For users wanting to target
specific products can now use the recently introduced
<a class="reference internal" href="#document-guides/configuration#conf-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd_products</span></code></span></a> project configuration or
<a class="reference internal" href="#document-guides/packages/system-pkg-options#pkg-opt-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD_PRODUCTS</span></code></span></a> package configuration.</p>
</section>
</section>
<span id="document-news/2025-05-04_02.03.00"></span><section id="v2-3-2025-05-04">
<h4>2.3 (2025-05-04)<a class="headerlink" href="#v2-3-2025-05-04" title="Link to this heading">¬∂</a></h4>
<section id="extended-support-make-scons-utilizing-a-configuration-stage">
<h5>Extended support Make/SCons utilizing a configuration stage<a class="headerlink" href="#extended-support-make-scons-utilizing-a-configuration-stage" title="Link to this heading">¬∂</a></h5>
<p>For both Make and SCons, there is no default configuration stage invoked.
Users have the ability to define command line options in <code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code>
to help trigger an invoke of the respective tooling if configured; useful
for packages which support a pre-build event.</p>
<p>However, if a package only utilized <code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code> or <code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code>
(or a combination), the configuration stage would not be invoked since
<code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code> was not configured. With this release, if any package
configuration setting is set, the configuration stage will be invoked for
the package.</p>
</section>
<section id="interpreter-configuration-for-generated-python-package-launchers">
<h5>Interpreter configuration for generated Python package launchers<a class="headerlink" href="#interpreter-configuration-for-generated-python-package-launchers" title="Link to this heading">¬∂</a></h5>
<p>As of v2.0, all Python packages use
<a class="reference external" href="https://installer.pypa.io/">Python‚Äôs <code class="docutils literal notranslate"><span class="pre">installer</span></code> module</a> to install packages into
a staging/target area. If a package defines project scripts, the <code class="docutils literal notranslate"><span class="pre">installer</span></code>
module would generate launcher scripts based on the running interpreter of
releng-tool. While functional for host packages, the results may be unexpected
for target installs (e.g. if releng-tool is running from a virtualized
environment).</p>
<p>In this release, releng-tool will now use fixed/‚Äúcommon‚Äú interpreter paths
to be used during launcher generation:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-right"><p>Type</p></th>
<th class="head text-left"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-right"><p>Non-Windows</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">/usr/bin/python</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-right"><p>Windows</p></td>
<td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">python.exe</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>Developers looking to tailor the interpreter used can utilize the new option
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-installer-interpreter"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_INTERPRETER</span></code></span></a>.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_PYTHON_INSTALLER_INTERPRETER</span> <span class="o">=</span> <span class="s1">&#39;/opt/custom/python&#39;</span>
</pre></div>
</div>
</section>
<section id="introducing-releng-path-helper-script-function">
<h5>Introducing <code class="docutils literal notranslate"><span class="pre">releng_path</span></code> helper script function<a class="headerlink" href="#introducing-releng-path-helper-script-function" title="Link to this heading">¬∂</a></h5>
<p>To help the user experience for developers wishing to easily create
<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> instances without needing to define an
<code class="docutils literal notranslate"><span class="pre">import</span></code>, a new script helper <code class="docutils literal notranslate"><span class="pre">releng_path</span></code> has been introduced.</p>
<p>For example, instead of needing to invoke:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">mypath</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;example&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The following may be performed in a releng-tool script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mypath</span> <span class="o">=</span> <span class="n">releng_path</span><span class="p">(</span><span class="s1">&#39;example&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="support-for-environment-configured-parallel-job-count">
<h5>Support for environment-configured parallel/job count<a class="headerlink" href="#support-for-environment-configured-parallel-job-count" title="Link to this heading">¬∂</a></h5>
<p>Users of a build can use the <a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span> <span class="pre">&lt;jobs&gt;</span></code></span></a> argument to
explicitly configure the number of jobs to use for a run. However, using
the command line may not be preferred over trying to configure with an
environment variable instead. To be flexible for such scenarios, the
<a class="reference internal" href="#document-guides/environment#env-releng-parallel-level"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_PARALLEL_LEVEL</span></code></span></a> environment option
has been introduced as an alternative way to configure the job count.</p>
</section>
</section>
<span id="document-news/2025-03-29_02.02.00"></span><section id="v2-2-2025-03-29">
<h4>2.2 (2025-03-29)<a class="headerlink" href="#v2-2-2025-03-29" title="Link to this heading">¬∂</a></h4>
<section id="improved-support-for-path-like-usage">
<h5>Improved support for Path-like usage<a class="headerlink" href="#improved-support-for-path-like-usage" title="Link to this heading">¬∂</a></h5>
<p>Improvements have been made to both package configurations and script
environment variables to handle/provide Path-like capabilities. This
should provide flexibility for developers wanting to use either string
or Path-like variables in their scripts.</p>
<p>For example, environment variables representing paths in scripts can now
utilizing Path-like features. Previous implementation may have had scripts
that prepared paths using joins:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_subdir</span> <span class="o">=</span> <span class="n">releng_join</span><span class="p">(</span><span class="n">TARGET_DIR</span><span class="p">,</span> <span class="s1">&#39;subdir&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This now can be replaced using the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_subdir</span> <span class="o">=</span> <span class="n">TARGET_DIR</span> <span class="o">/</span> <span class="s1">&#39;subdir&#39;</span>
</pre></div>
</div>
<p>Package configuration options now accept Path-like values as well. For
example, previous releases where developers may use <code class="docutils literal notranslate"><span class="pre">pathlib</span></code> to define
a file would have had to cast the value before providing it into a
<code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code> option:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">MY_CONFIG</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span> <span class="o">/</span> <span class="s1">&#39;resources&#39;</span> <span class="o">/</span> <span class="s1">&#39;prj.conf&#39;</span>

<span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;--conf&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">MY_CONFIG</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
<p>With this release, performing a cast is no longer required:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CONF_DEFS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;--conf&#39;</span><span class="p">:</span> <span class="n">MY_CONFIG</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that capabilities like <a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_join" title="releng_tool.releng_join"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">releng_join</span></code></span></a> will
remain. releng-tool plans to support both string and Path-like arguments
where possible.</p>
</section>
<section id="extension-priority-changes">
<h5>Extension priority changes<a class="headerlink" href="#extension-priority-changes" title="Link to this heading">¬∂</a></h5>
<p>Support for <a class="reference internal" href="#document-guides/tips/alternative-extensions"><span class="doc std std-doc">alternative extensions</span></a>
has been tweaked in which extension is used first over others. As
releng-tool promotes the <code class="docutils literal notranslate"><span class="pre">.rt</span></code> extension over others, it will be the
first extension checked for. The new extension ordering is as follows:</p>
<ol class="arabic simple">
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.rt</span></code> extension</p></li>
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension</p></li>
<li><p>File without an extension <em>(deprecated)</em></p></li>
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.releng</span></code> extension <em>(deprecated)</em></p></li>
</ol>
<p>Where before this release, the extension priority was:</p>
<ol class="arabic simple">
<li><p>File without an extension</p></li>
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.rt</span></code> extension</p></li>
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.releng</span></code> extension</p></li>
<li><p>File with a <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension</p></li>
</ol>
<p>It is recommended for any projects using extensionless scripts or using the
<code class="docutils literal notranslate"><span class="pre">.releng</span></code> extension to transition to using the <code class="docutils literal notranslate"><span class="pre">.rt</span></code> extension.</p>
</section>
<section id="fixes-with-directory-copies-and-symbolic-links">
<h5>Fixes with directory copies and symbolic links<a class="headerlink" href="#fixes-with-directory-copies-and-symbolic-links" title="Link to this heading">¬∂</a></h5>
<p>Corrections to <a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_copy" title="releng_tool.releng_copy"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_copy</span></code></span></a> and
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_copy_into" title="releng_tool.releng_copy_into"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_copy_into</span></code></span></a> have been made to
properly replicate directory symbolic links found in the first-level path
of a provided directory. The original implementation of these calls would
treat directory symbolic links in the same manner as directories and
replicate the content inside.</p>
</section>
<section id="convenient-working-directory-changes-with-releng-tmpdir">
<h5>Convenient working directory changes with <code class="docutils literal notranslate"><span class="pre">releng_tmpdir</span></code><a class="headerlink" href="#convenient-working-directory-changes-with-releng-tmpdir" title="Link to this heading">¬∂</a></h5>
<p>The <a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_tmpdir" title="releng_tool.releng_tmpdir"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_tmpdir</span></code></span></a> script helper has been
updated to allow hinting a working directory change should occur in a
prepared temporary directory.</p>
<p>Before, developers could use a combination of
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_tmpdir" title="releng_tool.releng_tmpdir"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_tmpdir</span></code></span></a> with
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_wd" title="releng_tool.releng_wd"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_wd</span></code></span></a> to help easily prepare and
move a working context into a temporary directory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">releng_tmpdir</span><span class="p">()</span> <span class="k">as</span> <span class="n">dir_</span><span class="p">,</span> <span class="n">releng_wd</span><span class="p">(</span><span class="n">dir_</span><span class="p">):</span>
    <span class="c1"># invoked in temporary directory</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>With this release, developers can use the <code class="docutils literal notranslate"><span class="pre">wd</span></code> argument to achieve the
same result:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">releng_tmpdir</span><span class="p">(</span><span class="n">wd</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="c1"># invoked in temporary directory</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
</section>
<span id="document-news/2025-02-17_02.01.00"></span><section id="v2-1-2025-02-17">
<h4>2.1 (2025-02-17)<a class="headerlink" href="#v2-1-2025-02-17" title="Link to this heading">¬∂</a></h4>
<section id="adding-share-directory-environment-script-variables">
<h5>Adding share directory environment/script variables<a class="headerlink" href="#adding-share-directory-environment-script-variables" title="Link to this heading">¬∂</a></h5>
<p>While releng-tool‚Äôs previous releases included path helpers for a project‚Äôs
<code class="docutils literal notranslate"><span class="pre">bin</span></code>/<code class="docutils literal notranslate"><span class="pre">include</span></code>/<code class="docutils literal notranslate"><span class="pre">lib</span></code> directories (e.g.
<a class="reference internal" href="#document-guides/environment#env-target-include-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">TARGET_INCLUDE_DIR</span></code></span></a>), no helpers existed for a
<code class="docutils literal notranslate"><span class="pre">share</span></code> path. This release introduces support for the following new variables:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#document-guides/environment#env-host-share-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">HOST_SHARE_DIR</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#document-guides/environment#env-staging-share-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">STAGING_SHARE_DIR</span></code></span></a></p></li>
<li><p><a class="reference internal" href="#document-guides/environment#env-target-share-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">TARGET_SHARE_DIR</span></code></span></a></p></li>
</ul>
</section>
<section id="default-cmake-module-path-support">
<h5>Default <code class="docutils literal notranslate"><span class="pre">CMAKE_MODULE_PATH</span></code> support<a class="headerlink" href="#default-cmake-module-path-support" title="Link to this heading">¬∂</a></h5>
<p><a class="reference internal" href="#document-guides/packages/pkg-type-cmake"><span class="doc std std-doc">CMake</span></a> packages now populate a
<a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_MODULE_PATH.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_MODULE_PATH</span></code></a> configuration by default. The value
used for this option is a share-folder path (<code class="docutils literal notranslate"><span class="pre">share/cmake/Modules</span></code>) based on
the configured <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a>.</p>
<p>For example, a project configured to use the staging area may have the
following path configured:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;root-dir&gt;/output/staging/usr/share/cmake/Modules
</pre></div>
</div>
<p>CMake packages which install provided modules into the standard share path
can be automatically used by other CMake dependent packages.</p>
</section>
<section id="usability-improvements-to-local-sources">
<h5>Usability improvements to local-sources<a class="headerlink" href="#usability-improvements-to-local-sources" title="Link to this heading">¬∂</a></h5>
<p>Two minor tweaks have been made towards the
<a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources</span></a> capability. For package-specific
overrides, users can now include a <code class="docutils literal notranslate"><span class="pre">package/</span></code> prefix as part of the package
name. For example, projects would typically register a local-sources
override for <code class="docutils literal notranslate"><span class="pre">libfoo</span></code> using:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool --local-sources libfoo:/mnt/code/libfoo
 (or)
releng-tool -L libfoo:/mnt/code/libfoo
</pre></div>
</div>
<p>With this release, the above example and below example will result in the
same configuration applied:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool --local-sources package/libfoo:/mnt/code/libfoo
 (or)
releng-tool -L package/libfoo:/mnt/code/libfoo
</pre></div>
</div>
<p>This allows users to easily populate desired packages in a shell environment
that supports completions.</p>
<p>Second, clearing all local-sources configurations can now be cleared using a
single <code class="docutils literal notranslate"><span class="pre">unset</span></code> request. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool --local-sources unset
 (or)
releng-tool -L unset
</pre></div>
</div>
</section>
</section>
<span id="document-news/2025-02-09_02.00.00"></span><section id="v2-0-2025-02-09">
<h4>2.0 (2025-02-09)<a class="headerlink" href="#v2-0-2025-02-09" title="Link to this heading">¬∂</a></h4>
<section id="dropping-support-for-end-of-life-versions-of-python">
<h5>Dropping support for end-of-life versions of Python<a class="headerlink" href="#dropping-support-for-end-of-life-versions-of-python" title="Link to this heading">¬∂</a></h5>
<p>To help improve maintenance work for releng-tool, the utility will now only
support versions of Python that have not reached
<a class="reference external" href="https://devguide.python.org/versions/">end-of-life</a>. At the time of this release, this includes
support for Python 3.9 and later.</p>
</section>
<section id="overhaul-of-python-package-processing">
<h5>Overhaul of Python package processing<a class="headerlink" href="#overhaul-of-python-package-processing" title="Link to this heading">¬∂</a></h5>
<p>A significant rework of the management of Python packages has been made. This
aims to address the shortcomings on how packages were installed to a target.
All Python packages will use <a class="reference external" href="https://installer.pypa.io/">Python‚Äôs <code class="docutils literal notranslate"><span class="pre">installer</span></code> module</a>
for their install stage. A consistent scheme (similar to
<a class="reference external" href="https://docs.python.org/3/library/sysconfig.html#posix-home"><code class="docutils literal notranslate"><span class="pre">posix_home</span></code></a>) will be used no matter what
platform or distribution releng-tool is running on. This should prevent
oddities in the location where Python files are installed into a host,
staging or target area.</p>
<p>Developers can override the scheme used by configuring
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-installer-scheme"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_SCHEME</span></code></span></a> for a
package. The scheme may be configured to <code class="docutils literal notranslate"><span class="pre">native</span></code> to observe the same results
in older versions of releng-tool. The option can also be configured with a
supported variant defined by <a class="reference external" href="https://docs.python.org/3/library/sysconfig.html"><code class="docutils literal notranslate"><span class="pre">sysconfig</span></code></a> or even a
completely customized scheme for the project/package.</p>
<p>Additional configurations for Python package includes
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-installer-launcher-kind"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_LAUNCHER_KIND</span></code></span></a>,
which can be used to tailor what type of package script is generated during
an install; as well as <a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-dist-path"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_DIST_PATH</span></code></span></a>,
which can be used to indicate the alternative location for a <code class="docutils literal notranslate"><span class="pre">dist/</span></code> (if
required). Note that older Python setup types will require <a class="reference external" href="https://wheel.readthedocs.io/"><code class="docutils literal notranslate"><span class="pre">wheel</span></code></a>
to be available to ensure a proper wheel is generated to be installed.</p>
<p>Related to the above changes, the following improvements have been made to
Python packages:</p>
<ul class="simple">
<li><p>Addressed some installation scenarios where configured package installation
prefixes were not applied.</p></li>
<li><p>Improve the automatic path registration for host-configured Python packages.
This includes both installed scripts and provided Python modules.</p></li>
<li><p>Developers can now issue re-install events on Python packages without
the process complaining about overwriting files in a target.</p></li>
</ul>
</section>
<section id="corrections-to-git-submodule-using-incorrect-revisions">
<h5>Corrections to Git submodule using incorrect revisions<a class="headerlink" href="#corrections-to-git-submodule-using-incorrect-revisions" title="Link to this heading">¬∂</a></h5>
<p>While releng-tool has aimed to support the use of Git submodules for Git-based
sites, limitations existed in which revisions were used when cloning these
modules. When a submodule was processed in previous versions, releng-tool
would incorrectly determine the revision based on the most recent release of
a target branch instead of the fixed revision tracked by the Git repository
(unless a package defined an explicit revision to use).</p>
<p>This releases corrects this by querying the specific revision in the Git
repository for the submodule path instead of incorrectly relying on a
submodule configuration used for synchronization.</p>
</section>
<section id="alternative-hash-files-for-package-development-revisions">
<h5>Alternative hash-files for package development revisions<a class="headerlink" href="#alternative-hash-files-for-package-development-revisions" title="Link to this heading">¬∂</a></h5>
<p>A project can define <a class="reference internal" href="#document-guides/packages/hash-file"><span class="doc std std-doc">hashes</span></a> (e.g. <code class="docutils literal notranslate"><span class="pre">libfoo.hash</span></code>
for packages to validate fetched sources. An issue for users operating in a
<a class="reference internal" href="#document-guides/development-mode"><span class="doc std std-doc">development mode</span></a> is that configured hash checks
may fail if using an alternate revision for a package. This release now
supports creating revision-specific hash sets. A package may define a
respective <code class="docutils literal notranslate"><span class="pre">libfoo.hash-&lt;rev&gt;</span></code> file in a package, where <code class="docutils literal notranslate"><span class="pre">&lt;rev&gt;</span></code> matches
the revision being fetched:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îú‚îÄ‚îÄ libfoo/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ libfoo.rt
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ libfoo.hash
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libfoo.hash-&lt;rev&gt;     &lt;----
    ‚îÇ   ...
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
</section>
<section id="additional-control-capabilities-on-fetching-url-sources">
<h5>Additional control/capabilities on fetching URL sources<a class="headerlink" href="#additional-control-capabilities-on-fetching-url-sources" title="Link to this heading">¬∂</a></h5>
<p>Two improvements have been added into releng-tool in relation to managing
URL sources for a project. The first change adds support for retrying
fetch attempts if a transient error is detected. This includes scenarios
where a server has indicated a timeout, an internal server error or more.
A fetch attempt will now try up to a total of three times before stopping.
This aims to improve use cases such as preventing scheduled build failures
if a site is only down for a small interval.</p>
<p>A second change related to URL fetching is the introduction of the
<a class="reference internal" href="#document-guides/arguments#arg-only-mirror"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--only-mirror</span></code></span></a> argument. When the argument is set for a
project that also defines <a class="reference internal" href="#document-guides/configuration#conf-url-mirror"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">url_mirror</span></code></span></a>, all
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-external"><span class="std std-ref">external packages</span></a> will only be attempted to be downloaded
through the configured mirror. This may be helpful for developers wanting
to sanity check all expected resources are locally cached.</p>
</section>
</section>
<span id="document-news/2025-01-19_01.04.00"></span><section id="v1-4-2025-01-19">
<h4>1.4 (2025-01-19)<a class="headerlink" href="#v1-4-2025-01-19" title="Link to this heading">¬∂</a></h4>
<section id="introducing-the-rt-file-extension">
<h5>Introducing the <code class="docutils literal notranslate"><span class="pre">.rt</span></code> file extension<a class="headerlink" href="#introducing-the-rt-file-extension" title="Link to this heading">¬∂</a></h5>
<p>Changes to the promoted file extension used for project and packages have
been made. When releng-tool was originally released, no extension was used
for various package definitions and scripts. While functional, this was not
always ideal for development environments wanting some level of syntax
highlighting support. Over the years, alternative extension support has been
added, allowing <code class="docutils literal notranslate"><span class="pre">.releng</span></code> or even <code class="docutils literal notranslate"><span class="pre">.py</span></code> for an extension type to be used.</p>
<p>For this release, the promoted extension type to use will now be <code class="docutils literal notranslate"><span class="pre">.rt</span></code>. It is
a minimal file extension with a name appropriate to this tool and is believed
to not be in conflict with other modern applications/tools that exist today.
releng-tool still supports extensionless files as well as the <code class="docutils literal notranslate"><span class="pre">.py</span></code> extension.
The use of <code class="docutils literal notranslate"><span class="pre">.rt</span></code> over only using <code class="docutils literal notranslate"><span class="pre">.py</span></code> will allow developers to have a
distinction between releng-tool-compatible Python files and generic Python
files.</p>
<p>With these changes, the default project configuration will also be
<code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code>. An example project structure is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îî‚îÄ‚îÄ my-project/
    ‚îú‚îÄ‚îÄ package/
    ‚îÇ   ‚îú‚îÄ‚îÄ libbar/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ libbar.rt
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libbar.hash
    ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
    ‚îÇ       ‚îú‚îÄ‚îÄ libfoo.rt
    ‚îÇ       ‚îî‚îÄ‚îÄ libfoo.hash
    ‚îî‚îÄ‚îÄ releng-tool.rt
</pre></div>
</div>
</section>
<section id="copy-remove-corrections-when-handling-broken-symbolic-links">
<h5>Copy/remove corrections when handling broken symbolic links<a class="headerlink" href="#copy-remove-corrections-when-handling-broken-symbolic-links" title="Link to this heading">¬∂</a></h5>
<p>Script helpers <a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_copy" title="releng_tool.releng_copy"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_copy</span></code></span></a> and
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_remove" title="releng_tool.releng_remove"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_remove</span></code></span></a> have been updated to improve
handling when managing symbolic links that are dangling. This allows a script
definition to handle scenarios where symbolic links are broken or when a
build prepares symbolic links for a target environment that are considered
invalid in a host environment.</p>
<p>Previous versions would detect an issue with a symbolic link and a copy or
remove event would stop with an error.</p>
</section>
<section id="improved-cargo-support">
<h5>Improved Cargo support<a class="headerlink" href="#improved-cargo-support" title="Link to this heading">¬∂</a></h5>
<p>Support for Cargo-based packages have been improved. Cargo packages now
share a build target to prevent re-compiling package dependencies multiple
times when multiple Cargo applications exist.</p>
<p>This update also supports automatic Cargo patching for projects that
define Cargo libraries. Cargo applications will automatically be patched to
use a defined Cargo library in a releng-tool project, if a developer wishes
to manage specific libraries in a project.</p>
<p>Lastly, the fetching of Cargo dependencies now occurs after a package‚Äôs
patch stage. This will allow developers to patch downloaded sources before
attempts are made to post-fetch any configured dependencies on a Cargo project.</p>
</section>
<section id="new-fresh-package-action">
<h5>New ‚Äûfresh‚Äú package action<a class="headerlink" href="#new-fresh-package-action" title="Link to this heading">¬∂</a></h5>
<p>A new package action named ‚Äûfresh‚Äú (<a class="reference internal" href="#document-guides/arguments#action-pkg-fresh"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fresh</span></code></span></a>) is
now supported by releng-tool. This action can be used by default to easily
setup a package into a ‚Äûfresh‚Äú state for development/testing purposes.
Essentially, the fresh action is a combination of performing
<a class="reference internal" href="#document-guides/arguments#action-pkg-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-clean</span></code></span></a> then
<a class="reference internal" href="#document-guides/arguments#action-pkg-configure"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-configure</span></code></span></a>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>releng-tool<span class="w"> </span>libfoo-fresh
</pre></div>
</div>
</section>
<section id="improved-visual-studio-integration">
<h5>Improved Visual Studio integration<a class="headerlink" href="#improved-visual-studio-integration" title="Link to this heading">¬∂</a></h5>
<p>For builds running in a Windows environment, variables provided by a Visual
Studio Developer Command Prompt (<code class="docutils literal notranslate"><span class="pre">VsDevCmd.bat</span></code>) can be preloaded into a
projects or package context.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vsdevcmd</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>This can be used to avoid any requirement to run releng-tool from inside
a Visual Studio Developer Command Prompt when attempting to perform a build.</p>
<p>Projects looking to use an explicit version of Visual Studio can specify a
version string that is compatible with <a class="reference external" href="https://github.com/microsoft/vswhere">Visual Studio Locator‚Äôs</a>
(vswhere) <code class="docutils literal notranslate"><span class="pre">-version</span></code> argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vsdevcmd</span> <span class="o">=</span> <span class="s1">&#39;[17.0,18.0)&#39;</span>
</pre></div>
</div>
</section>
</section>
<span id="document-news/2024-08-01_01.03.00"></span><section id="v1-3-2024-08-19">
<h4>1.3 (2024-08-19)<a class="headerlink" href="#v1-3-2024-08-19" title="Link to this heading">¬∂</a></h4>
<section id="environment-project-configuration">
<h5>Environment project configuration<a class="headerlink" href="#environment-project-configuration" title="Link to this heading">¬∂</a></h5>
<p>A <a class="reference internal" href="#document-guides/configuration"><span class="doc std std-doc">project configuration</span></a> now supports the
<a class="reference internal" href="#document-guides/configuration#conf-environment"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">environment</span></code></span></a> configuration option. A user can use a
dictionary to define environment variables to apply to all stages of a run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">environment</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;MY_ENV_1&#39;</span><span class="p">:</span> <span class="s1">&#39;First example&#39;</span><span class="p">,</span>
    <span class="s1">&#39;MY_ENV_2&#39;</span><span class="p">:</span> <span class="s1">&#39;Another example&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="support-for-cargo-packages">
<h5>Support for Cargo packages<a class="headerlink" href="#support-for-cargo-packages" title="Link to this heading">¬∂</a></h5>
<p>Support has been added for <a class="reference external" href="https://doc.rust-lang.org/cargo/">Cargo</a>-based packages. A package can now
configure <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_TYPE</span></code></span></a> to <code class="docutils literal notranslate"><span class="pre">cargo</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;cargo&#39;</span>
</pre></div>
</div>
<p>Dependencies for Cargo packages will be vendored into the local cache
directory.</p>
</section>
<section id="introducing-libfoo-needs">
<h5>Introducing <code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code><a class="headerlink" href="#introducing-libfoo-needs" title="Link to this heading">¬∂</a></h5>
<p>releng-tool now supports a <a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-needs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code></span></a> option for
packages:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_NEEDS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;liba&#39;</span><span class="p">,</span>
    <span class="s1">&#39;libb&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>This aims to replace the <a class="reference internal" href="#document-guides/packages/deprecated-pkg-options#pkg-opt-dependencies"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEPENDENCIES</span></code></span></a>
option for a smaller/simple configuration key. The new configuration acts
the same as the previous. If <code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code> is set, the <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEPENDENCIES</span></code>
option will be ignored. Projects can still use <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEPENDENCIES</span></code> for
the interim.</p>
</section>
</section>
<span id="document-news/2024-07-01_01.02.00"></span><section id="v1-2-2024-07-01">
<h4>1.2 (2024-07-01)<a class="headerlink" href="#v1-2-2024-07-01" title="Link to this heading">¬∂</a></h4>
<section id="automatic-package-preparation-for-compatible-local-sourced-packages">
<h5>Automatic package preparation for compatible local-sourced packages<a class="headerlink" href="#automatic-package-preparation-for-compatible-local-sourced-packages" title="Link to this heading">¬∂</a></h5>
<p>When operating in a <a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>, users
would be required to prepare the sources of internal-flagged packages before
running a build. While this gives users full control over the sources used,
the process can be a tedious when trying to prepare a new working environment.</p>
<p>To help improve the user experience, when releng-tool is now operating in a
local-sources mode and an internal-flagged package does not have sources
already setup, releng-tool will attempt to prepare the package automatically.
For supported version control systems, when a repository is detected as
missing, releng-tool will use the package‚Äôs site to automatically
clone/checkout sources. Supported types are as follows:</p>
<ul class="simple">
<li><p>CVS</p></li>
<li><p>Git</p></li>
<li><p>Mercurial</p></li>
<li><p>SVN</p></li>
</ul>
<p>Once a local package has been prepared, releng-tool will no longer try to
manage the repository. Responsibility moves back to the user in the same
manner as if the user manually prepared the repository.</p>
</section>
<section id="introducing-the-punch-action">
<h5>Introducing the punch action<a class="headerlink" href="#introducing-the-punch-action" title="Link to this heading">¬∂</a></h5>
<p>For a releng-tool run, packages will go through various stages (fetching,
configuration, building, etc.) followed by any post-stage scripts. Once a
package has been processed, it will not repeat a stage until the output is
cleaned. Users do have means to perform <a class="reference internal" href="#document-getting-started/rebuilds"><span class="doc std std-doc">rebuilds</span></a>,
although users need to explicitly request reconfigurations, rebuilds, etc.
on specific packages based on what they may be working on. If a developer is
updating several packages, which may be common in a
<a class="reference internal" href="#document-guides/local-sources-mode"><span class="doc std std-doc">local-sources mode</span></a>, the developer may need to
explicitly request a re-action on multiple packages which can be
time-consuming.</p>
<p>This release introduces a new action <a class="reference internal" href="#document-guides/arguments#action-punch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">punch</span></code></span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">punch</span>
</pre></div>
</div>
<p>It allows a user to hint to releng-tool to force processing each package,
even if a package has already completed stages before. Specifically, when
running with a <a class="reference internal" href="#document-guides/arguments#action-punch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">punch</span></code></span></a> action, a releng-tool run will
operate very similar as if the action was not set. However, if a package
has already be configured, built or installed; these actions will be
performed again in the same manner as if a user invoked
<a class="reference internal" href="#document-guides/arguments#action-pkg-reconfigure"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-reconfigure</span></code></span></a>,
<a class="reference internal" href="#document-guides/arguments#action-pkg-rebuild"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-rebuild</span></code></span></a> or
<a class="reference internal" href="#document-guides/arguments#action-pkg-reinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;package&gt;-reinstall</span></code></span></a>; respectively. This may be
time-consuming for a run to repeat these stages, but helps a user avoid
needing to run multiple commands for a desired rebuild.</p>
<p>Note that this is similar to what the <a class="reference internal" href="#document-guides/arguments#arg-force"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--force</span></code></span></a> argument
already provides. Having an action dedicated for this capability should
make it a bit more straightforward to users what they are performing. The
use of the <a class="reference internal" href="#document-guides/arguments#arg-force"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--force</span></code></span></a> argument may change in the future.
Introducing this action should help support a possible deprecation/repurpose,
if needed.</p>
</section>
</section>
<span id="document-news/2024-03-29_01.01.00"></span><section id="v1-1-2024-03-29">
<h4>1.1 (2024-03-29)<a class="headerlink" href="#v1-1-2024-03-29" title="Link to this heading">¬∂</a></h4>
<section id="support-for-output-directory-overrides-using-environment-variables">
<h5>Support for output directory overrides using environment variables<a class="headerlink" href="#support-for-output-directory-overrides-using-environment-variables" title="Link to this heading">¬∂</a></h5>
<p>While users had the means of configuring a custom output directory using
the <a class="reference internal" href="#document-guides/arguments#arg-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--out-dir</span></code></span></a> command line argument, there was no graceful
way of trying to override the output directory using environment variables.
As of v1.1, there are now two supported environment variables which can be
used to override where output content is placed.</p>
<p>The first variable to mention is <a class="reference internal" href="#document-guides/environment#env-releng-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR</span></code></span></a>. If this variable is
set, the value will define where output content is generated in the same
manner as if the value was set in <a class="reference internal" href="#document-guides/arguments#arg-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--out-dir</span></code></span></a>. This can be useful for users
wanting to invoke releng-tool multiple times, without wanting to define the
output directory in the command line each time. Note that the command line
argument takes precedence over any environment variable set.</p>
<p>Support for a more advanced variable
<a class="reference internal" href="#document-guides/environment#env-releng-global-out-container-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_GLOBAL_OUTPUT_CONTAINER_DIR</span></code></span></a>
has also been added. The use of this variable can be helpful for users who
build multiple releng-tool projects and wants to store output content in a
different location (either due to space limitations or mixed file system
environments). The path set in this variable is used as a container
path for all releng-tool projects. The resulting output path for a project
will be a combination of this container path, along with the name of
project‚Äôs directory.</p>
<p>For example, if a user stores multiple projects inside a <code class="docutils literal notranslate"><span class="pre">~/projects/</span></code> path
and configures this option to the path <code class="docutils literal notranslate"><span class="pre">/mnt/extern-disk</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">RELENG_GLOBAL_OUTPUT_CONTAINER_DIR</span><span class="o">=/</span><span class="n">mnt</span><span class="o">/</span><span class="n">extern</span><span class="o">-</span><span class="n">disk</span>
</pre></div>
</div>
<p>The following folder structure should be expected:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>‚îú‚îÄ‚îÄ usr/
‚îÇ   ‚îî‚îÄ‚îÄ home/
‚îÇ       ‚îî‚îÄ‚îÄ myuser/
‚îÇ           ‚îî‚îÄ‚îÄ projects/
‚îÇ               ‚îú‚îÄ‚îÄ my-project-a/
‚îÇ               ‚îÇ   ‚îú‚îÄ‚îÄ ...
‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ releng.py
‚îÇ               ‚îî‚îÄ‚îÄ my-project-b/
‚îÇ                   ‚îú‚îÄ‚îÄ ...
‚îÇ                   ‚îî‚îÄ‚îÄ releng.py
‚îî‚îÄ‚îÄ mnt/
    ‚îî‚îÄ‚îÄ extern-disk/
        ‚îú‚îÄ‚îÄ my-project-a/
        ‚îÇ   ‚îî‚îÄ‚îÄ ...
        ‚îî‚îÄ‚îÄ my-project-b/
            ‚îî‚îÄ‚îÄ ...
</pre></div>
</div>
</section>
<section id="spdx-updates-custom-licenses-and-database-updated">
<h5>SPDX updates ‚Äì custom licenses and database updated<a class="headerlink" href="#spdx-updates-custom-licenses-and-database-updated" title="Link to this heading">¬∂</a></h5>
<p>Licenses checks for SPDX-approriate values now properly validate against
custom <a class="reference external" href="https://spdx.github.io/spdx-spec/v2.3/other-licensing-information-detected/">license identifier field</a> values. The use of a license
entry such as <code class="docutils literal notranslate"><span class="pre">Proprietary</span></code> is no longer accepted as a valid license
value. Users wishing to define a custom license for a package should use
a license identifier field value such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_LICENSE</span> <span class="o">=</span> <span class="s1">&#39;LicenseRef-MyCompanyLicenseId&#39;</span>
</pre></div>
</div>
<p>Replacing <code class="docutils literal notranslate"><span class="pre">MyCompanyLicenseId</span></code> with an appropriate identifier promoted by
the organization or user licensing this package.</p>
<p>In addition, the internally managed copy of the
<a class="reference external" href="https://spdx.org/licenses/">SPDX license identifiers</a> has been updated to the most recent
version (v3.23).</p>
</section>
</section>
<span id="document-news/2023-12-22_01.00.00"></span><section id="v1-0-2023-12-22">
<h4>1.0 (2023-12-22)<a class="headerlink" href="#v1-0-2023-12-22" title="Link to this heading">¬∂</a></h4>
<section id="marking-a-1-0-release">
<h5>Marking a 1.0 release!<a class="headerlink" href="#marking-a-1-0-release" title="Link to this heading">¬∂</a></h5>
<p>releng-tool has had several beta releases over the last couple of years.
Multiple enhancements and fixes have been applied during this period,
putting this tool in what appears to be a good state. With the updates
made to the documentation, now is a good time as any to flag this tool
into a first stable v1.0 release.</p>
</section>
<section id="new-script-and-script-directory-context-variables">
<h5>New script and script-directory context variables<a class="headerlink" href="#new-script-and-script-directory-context-variables" title="Link to this heading">¬∂</a></h5>
<p>As various scripts are invoked during a releng-tool run, developers may
wish to determine the path of the running script or the directory which
an active script is running (whether this is a build script for a package,
a post-build script, etc.).</p>
<p>Changes have been introduced into releng-tool so that any time a script
is executed, the variables <a class="reference internal" href="#document-guides/environment#env-releng-script"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT</span></code></span></a> and
<a class="reference internal" href="#document-guides/environment#env-releng-script-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT_DIR</span></code></span></a> will be set. This includes
global contexts as well as environment variables. The variable
<a class="reference internal" href="#document-guides/environment#env-releng-script"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT</span></code></span></a> will be set to the absolute path of
the running script. As for <a class="reference internal" href="#document-guides/environment#env-releng-script-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT_DIR</span></code></span></a>,
the value will be a subset of the script path, holding the absolute path
of the directory holding the script.</p>
<p>When using <a class="reference internal" href="#document-guides/script-helpers"><span class="doc std std-doc">script helpers</span></a> such as
<code class="docutils literal notranslate"><span class="pre">releng_include</span></code>, the values of <a class="reference internal" href="#document-guides/environment#env-releng-script"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT</span></code></span></a> and
<a class="reference internal" href="#document-guides/environment#env-releng-script-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT_DIR</span></code></span></a> will be updated in the included
context for the included script.</p>
</section>
<section id="spdx-license-database-updated">
<h5>SPDX license database updated<a class="headerlink" href="#spdx-license-database-updated" title="Link to this heading">¬∂</a></h5>
<p>The internally managed copy of the <a class="reference external" href="https://spdx.org/licenses/">SPDX license identifiers</a> has
been updated to the most recent version (v3.22).</p>
</section>
</section>
<span id="document-news/2023-08-06_00.17.00"></span><section id="v0-17-2023-08-06">
<h4>0.17 (2023-08-06)<a class="headerlink" href="#v0-17-2023-08-06" title="Link to this heading">¬∂</a></h4>
<section id="configure-environment-variables-across-configure-build-and-install-stages">
<h5>Configure environment variables across configure, build and install stages<a class="headerlink" href="#configure-environment-variables-across-configure-build-and-install-stages" title="Link to this heading">¬∂</a></h5>
<p>Packages performing configuration, building and installation stages have the
ability to forward configured environment variables for each stage (using
<code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code>, <code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code> and <code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code>). This
requires some duplication if a developer wanted to define an environment
variable to apply to all of these stages. With the introduction of the
<code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code> option, this can now be achieving as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_ENV</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;OPTION&#39;</span><span class="p">:</span> <span class="s1">&#39;VALUE&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="option-to-explicitly-override-cmake-build-type">
<h5>Option to explicitly override <code class="docutils literal notranslate"><span class="pre">CMAKE_BUILD_TYPE</span></code><a class="headerlink" href="#option-to-explicitly-override-cmake-build-type" title="Link to this heading">¬∂</a></h5>
<p>When building with CMake in releng-tool, the default build type is configured
for <code class="docutils literal notranslate"><span class="pre">RelWithDebInfo</span></code>. Developers can now override this for a package by
using the newly added <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code></span></a>
option (alternatively, over defining a <a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html"><code class="docutils literal notranslate"><span class="pre">CMAKE_BUILD_TYPE</span></code></a>
override in a configuration define dictionary).</p>
</section>
<section id="improvements-for-development-and-local-sources-modes">
<h5>Improvements for development and local-sources modes<a class="headerlink" href="#improvements-for-development-and-local-sources-modes" title="Link to this heading">¬∂</a></h5>
<p>A series of changes have been made to help improve usability when taking
advantage of development or local-sources modes. A new action
<a class="reference internal" href="#document-guides/arguments#action-state"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">state</span></code></span></a> has been added to allow users to query active modes
without having to manually inspect file flags or perform active run of
releng-tool:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>state
<span class="go">...</span>
<span class="go">Development mode: Enabled</span>
<span class="go">Local-sources mode: Disabled</span>
</pre></div>
</div>
<p>When disabling development or local-sources mode, users would originally
have to invoke a <a class="reference internal" href="#document-guides/arguments#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a> call or manually clear
file flags. With this release, users can pass in a <code class="docutils literal notranslate"><span class="pre">-</span></code> value for these
modes when attempting to unconfigure. For example, to unconfigure
development mode:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>--development<span class="w"> </span>-
<span class="go">...</span>
<span class="gp gp-VirtualEnv">(warn)</span> <span class="go">development mode has been unconfigured</span>
</pre></div>
</div>
<p>Or remove a local-source mapping:</p>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>releng-tool<span class="w"> </span>--local-sources<span class="w"> </span>pkg-a:-
<span class="go">...</span>
<span class="gp gp-VirtualEnv">(warn)</span> <span class="go">local-sources mode has been unconfigured</span>
</pre></div>
</div>
<p>Additional changes include:</p>
<ul class="simple">
<li><p>Relative paths are now properly handled when provided into a local-sources
command line argument.</p></li>
<li><p>When listing configured local-sources for a project, releng-tool will
inform users if the configured directory does not exist.</p></li>
</ul>
</section>
<section id="support-for-perforce-sites">
<h5>Support for Perforce sites<a class="headerlink" href="#support-for-perforce-sites" title="Link to this heading">¬∂</a></h5>
<p>With this release, releng-tool now supports cloning from Perforce depots.
In a host environment with Git and Perforce client utilities installed,
releng-tool runs can download a copy of depot file specification when
processing a package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;perforce+&lt;host&gt; &lt;depot-file-spec&gt;&#39;</span>
</pre></div>
</div>
</section>
</section>
<span id="document-news/2023-05-07_00.16.00"></span><section id="v0-16-2023-05-07">
<h4>0.16 (2023-05-07)<a class="headerlink" href="#v0-16-2023-05-07" title="Link to this heading">¬∂</a></h4>
<section id="support-for-spdx-formatted-software-build-of-materials-sbom">
<h5>Support for SPDX-formatted software build of materials (SBOM)<a class="headerlink" href="#support-for-spdx-formatted-software-build-of-materials-sbom" title="Link to this heading">¬∂</a></h5>
<p>As of v0.14, releng-tool supported a series of formats to use for generating a
SBOM document. All these formats are generic documents, not following any
specification. With v0.16, this release introduces initial support for
SPDX-styled SBOM documents (JSON and RDF/XML formats).</p>
<p>These documents attempt to follow the SPDX v2.3 specification. Assuming
projects use valid <a class="reference external" href="https://spdx.org/licenses/">SPDX license identifiers</a>, generated SPDX SBOM
documents should be compliant with the specification.</p>
</section>
<section id="support-for-meson-package-types">
<h5>Support for Meson package types<a class="headerlink" href="#support-for-meson-package-types" title="Link to this heading">¬∂</a></h5>
<p>Introduction of the <code class="docutils literal notranslate"><span class="pre">meson</span></code> package type. This new package type allow a
developer to easily invoke Meson targets at various stages, without needing
invoke these tools inside a scripts package.</p>
</section>
<section id="accept-module-specific-local-sources-using">
<h5>Accept module-specific local-sources using <code class="docutils literal notranslate"><span class="pre">:</span></code><a class="headerlink" href="#accept-module-specific-local-sources-using" title="Link to this heading">¬∂</a></h5>
<p>Users overriding module-specific local-sources could do so using an at sign
(<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>) to identify between a package and a target path. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">local</span><span class="o">-</span><span class="n">sources</span> <span class="n">libfoo</span><span class="o">@~/</span><span class="n">devwork</span><span class="o">/</span><span class="n">libfoo</span>
</pre></div>
</div>
<p>An issue using the <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> is that a user may not easily be able to use tab
completion for a target path in their shell environment. To help support
shells with tab completion support, these commands now accept an alternative
format using a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>) character. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">local</span><span class="o">-</span><span class="n">sources</span> <span class="n">libfoo</span><span class="p">:</span><span class="o">~/</span><span class="n">devwork</span><span class="o">/</span><span class="n">libfoo</span>
</pre></div>
</div>
<p>Both formats are supported.</p>
</section>
<section id="notable-fixes">
<h5>Notable fixes<a class="headerlink" href="#notable-fixes" title="Link to this heading">¬∂</a></h5>
<p>Two notable issues have been addressed from previous releases:</p>
<ol class="arabic simple">
<li><p>SBOM support when using the <code class="docutils literal notranslate"><span class="pre">html</span></code> format would generate a document with
no package information. This has been corrected in this version.</p></li>
<li><p>A regression with <code class="docutils literal notranslate"><span class="pre">releng_copy</span></code> has been corrected. When using the copy
call with a destination of a single relative path, the call would throw an
exception (e.g. a call such as <code class="docutils literal notranslate"><span class="pre">releng_copy(src,</span> <span class="pre">'output')</span></code> would always
fail). This was a result of an incorrect check that attempts to ensure the
output directory exists, and fails to create an ‚Äûempty‚Äú directory. With
this new release, <code class="docutils literal notranslate"><span class="pre">releng_copy</span></code> properly handles a single relative path.</p></li>
</ol>
</section>
</section>
<span id="document-news/2023-02-12_00.15.00"></span><section id="v0-15-2023-02-12">
<h4>0.15 (2023-02-12)<a class="headerlink" href="#v0-15-2023-02-12" title="Link to this heading">¬∂</a></h4>
<section id="introduce-extension-support-for-event-listeners">
<h5>Introduce extension support for event listeners<a class="headerlink" href="#introduce-extension-support-for-event-listeners" title="Link to this heading">¬∂</a></h5>
<p>Support has been added for extensions to listen on various events generated
by releng-tool. Extensions can react to certain events to either manipulate
build content at certain stages or even manipulate the script environment.
Consider the following example which injects a custom function into the script
environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">releng_setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;post-build-started&#39;</span><span class="p">,</span> <span class="n">on_postbuild</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_postbuild</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
    <span class="n">env</span><span class="p">[</span><span class="s1">&#39;my_function&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">my_function</span>

<span class="k">def</span><span class="w"> </span><span class="nf">my_function</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">42</span>
</pre></div>
</div>
<p>With this extension loaded in for a project, the function <code class="docutils literal notranslate"><span class="pre">my_function</span></code> can
now be used in a project‚Äôs post-build script (e.g. <code class="docutils literal notranslate"><span class="pre">releng-post-build</span></code>).</p>
<p>The following outlines the list of all newly added event types:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">config-loaded</span></code> ‚Äì Triggered after a configuration is processed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">post-build-started</span></code> ‚Äì Triggered before a post-build event starts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">post-build-finished</span></code> ‚Äì Triggered after a post-build event ends</p></li>
</ul>
<p>For more information on implementing support to listen for events or creating
extensions in general, see the API implementation found in this tool‚Äôs
repository (<a class="reference external" href="https://github.com/releng-tool/releng-tool/blob/main/releng_tool/api/__init__.py">releng_tool/api/<strong>init</strong>.py</a>).</p>
</section>
<section id="support-setting-software-build-of-materials-format-in-project-configuration">
<h5>Support setting software build of materials format in project configuration<a class="headerlink" href="#support-setting-software-build-of-materials-format-in-project-configuration" title="Link to this heading">¬∂</a></h5>
<p>Developers can now specify a target software build of materials (SBOM) format
in a project‚Äôs configuration file. For example, to produce a JSON formatted
SBOM file over a default text file, the following can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sbom_format</span> <span class="o">=</span> <span class="s1">&#39;json&#39;</span>
</pre></div>
</div>
<p>This should allow developers to provide specific SBOM formatted documents for
their builds without needing to supply <code class="docutils literal notranslate"><span class="pre">--sbom-format</span></code> in their terminal or
an external build script.</p>
</section>
<section id="directory-configuration-for-package-patching">
<h5>Directory configuration for package patching<a class="headerlink" href="#directory-configuration-for-package-patching" title="Link to this heading">¬∂</a></h5>
<p>When a package includes patches to apply after extraction, the target directory
where patches were applied could vary if a project utilized the
<code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code> option. This made the use of patches difficult for users
who had patches designed for the extracted-root of a package, and not
necessarily the root of build scripts for a package.</p>
<p>This release ensures that users can apply patches directly at the root of
packages by no longer considering the configuration <code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code>.
Users who need to utilize patching in a subdirectory of a package can now
use the <code class="docutils literal notranslate"><span class="pre">LIBFOO_PATCH_SUBDIR</span></code> option.</p>
</section>
<section id="make-projects-provided-prefix-in-installation-stage">
<h5>Make projects provided prefix in installation stage<a class="headerlink" href="#make-projects-provided-prefix-in-installation-stage" title="Link to this heading">¬∂</a></h5>
<p>Project supporting an installation stage will typically handle a destination
directory option (e.g. <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code>) and a prefix option (<code class="docutils literal notranslate"><span class="pre">PREFIX</span></code>; if
applicable). While various project types are configured/provided these
appropriate options, <code class="docutils literal notranslate"><span class="pre">make</span></code>-based projects were never implicitly provided a
hint to the configured prefix. Packages which wanted to share the configured
prefix for a build needed to explicitly forward the prefix option via a
project‚Äôs package definition.</p>
<p>This release changes this by always provided the <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code> option when a
Make-based project‚Äôs installation stage occurs.</p>
</section>
<section id="fixed-issue-where-reconfiguration-rebuild-flags-may-not-be-set">
<h5>Fixed issue where reconfiguration/rebuild flags may not be set<a class="headerlink" href="#fixed-issue-where-reconfiguration-rebuild-flags-may-not-be-set" title="Link to this heading">¬∂</a></h5>
<p>Projects may define various build conditionals whether the system is a fresh
build or a rebuild. releng-tool provides a series of flags to help projects
understand the running state: <code class="docutils literal notranslate"><span class="pre">RELENG_REBUILD</span></code>, <code class="docutils literal notranslate"><span class="pre">RELENG_RECONFIGURE</span></code> and
<code class="docutils literal notranslate"><span class="pre">RELENG_REINSTALL</span></code>. Unfortunately, previous releases were somewhat inconsistent
to when these flags were enabled. While, for example, a package rebuild
would result in the <code class="docutils literal notranslate"><span class="pre">RELENG_REBUILD</span></code> flag to be set, the <code class="docutils literal notranslate"><span class="pre">RELENG_REINSTALL</span></code>
option may not be set in this case. Developers may have expected the
reinstallation flag be set in this example since the re-build without the
<code class="docutils literal notranslate"><span class="pre">-only</span></code> postfix would automatically process trailing stages.</p>
<p>Changes have been made in this most recent version to ensure appropriate flags
are set. Specifically, a <code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure</span></code> request will now ensure
<code class="docutils literal notranslate"><span class="pre">RELENG_REBUILD</span></code> and <code class="docutils literal notranslate"><span class="pre">RELENG_REINSTALL</span></code> are set. Also, a <code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild</span></code>
request will now ensure <code class="docutils literal notranslate"><span class="pre">RELENG_REINSTALL</span></code> is set.</p>
</section>
</section>
<span id="document-news/2023-02-05_00.14.00"></span><section id="v0-14-2023-02-05">
<h4>0.14 (2023-02-05)<a class="headerlink" href="#v0-14-2023-02-05" title="Link to this heading">¬∂</a></h4>
<section id="removal-of-the-deprecated-releng-namespace">
<h5>Removal of the deprecated <code class="docutils literal notranslate"><span class="pre">releng</span></code> namespace<a class="headerlink" href="#removal-of-the-deprecated-releng-namespace" title="Link to this heading">¬∂</a></h5>
<p>It has been over two years since the switch from the <code class="docutils literal notranslate"><span class="pre">releng</span></code> namespace to
the <code class="docutils literal notranslate"><span class="pre">releng_tool</span></code> namespace. Projects using the obsolete namespace for
project scripting support will now be required to update there scripts to
use the most recent version of releng-tool. For projects which still may
be using the obsolete namespace, changes should be as simple as changing
implementation such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">releng</span><span class="w"> </span><span class="kn">import</span> <span class="n">releng_execute</span>
</pre></div>
</div>
<p>to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">releng_tool</span><span class="w"> </span><span class="kn">import</span> <span class="n">releng_execute</span>
</pre></div>
</div>
<p>All calls supported in the previous namespace will be available in the
new namespace.</p>
</section>
<section id="software-build-of-materials">
<h5>Software build of materials<a class="headerlink" href="#software-build-of-materials" title="Link to this heading">¬∂</a></h5>
<p>Projects will now automatically generate a software build of materials
(SBOM) at the end of a build. This can be helpful for environments
which want to have a summary (and even parsable) description of the
package components used, their versions, licenses and more. Users can
find SBOM documents in the configured output folder after a build.</p>
<p>Various SBOM formats are supported. For example, users wanting to
generate a JSON SBOM output can use the <code class="docutils literal notranslate"><span class="pre">--sbom-format</span> <span class="pre">json</span></code> argument
on the command line. Generating an SBOM for a project does not require
a build, if desired ‚Äì users can generate an SBOM by using the action
<code class="docutils literal notranslate"><span class="pre">sbom</span></code> on a project. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ releng-tool sbom
</pre></div>
</div>
</section>
<section id="promotion-of-spdx-license-identifiers">
<h5>Promotion of SPDX license identifiers<a class="headerlink" href="#promotion-of-spdx-license-identifiers" title="Link to this heading">¬∂</a></h5>
<p>It is now recommended to use <a class="reference external" href="https://spdx.org/licenses/">SPDX license identifiers</a> for package
licenses. The goal is to help promote the use of standardized short
identifier for license entries, which can be helpful for environments
wishing to process SBOM output of a releng-tool project for license
analysis.</p>
<p>When a package license is configured and the value does not match a SPDX
license identifier, a warning will be generated. Warnings will also be
generated when using deprecated identifiers as well.</p>
<p>If a package is required to use a license string that is not a listed SPDX
license identifier, extra license and exception identifiers can be
registered in the project‚Äôs configuration script. See the
<code class="docutils literal notranslate"><span class="pre">extra_licenses</span></code> and <code class="docutils literal notranslate"><span class="pre">extra_license_exceptions</span></code> configuration options
for more details.</p>
<p><s>Note that releng-tool will not generate a warning if the license value
<code class="docutils literal notranslate"><span class="pre">Proprietary</span></code> is provided.</s> <br />
<strong>Edit</strong>: As of v1.1+, we no longer a <code class="docutils literal notranslate"><span class="pre">Proprietary</span></code> marking; use a
<a class="reference external" href="https://spdx.github.io/spdx-spec/v2.3/other-licensing-information-detected/">license identifier field</a> instead.</p>
</section>
<section id="new-environment-script-variables">
<h5>New environment/script variables<a class="headerlink" href="#new-environment-script-variables" title="Link to this heading">¬∂</a></h5>
<p>This release includes the <code class="docutils literal notranslate"><span class="pre">*_BIN_DIR</span></code> environment/script variables. These
can be used to allow a developer to reference specific bin paths for the
host, staging or target areas. The following lists the newly added
variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HOST_BIN_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;host-dir&gt;/usr/bin</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STAGING_BIN_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;staging-dir&gt;/usr/bin</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TARGET_BIN_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;target-dir&gt;/usr/bin</span></code>)</p></li>
</ul>
</section>
<section id="new-move-into-script-function">
<h5>New move-into script function<a class="headerlink" href="#new-move-into-script-function" title="Link to this heading">¬∂</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">releng_move_into</span></code> helper function has been added to allow releng-tool
script to explicitly move a source into a target directory. This can be
helpful for users who wish to avoid scenarios using <code class="docutils literal notranslate"><span class="pre">releng_move</span></code> and
needing to ensure the destination directory exists or avoiding the need
to add a trailing file separator at the end of the destination target.
An example of this new call is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_move_into</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="support-for-poetry-python-setup-type">
<h5>Support for Poetry Python setup type<a class="headerlink" href="#support-for-poetry-python-setup-type" title="Link to this heading">¬∂</a></h5>
<p>The previous release of releng-tool introduces support for processing
Python packages using various common setup types. This release extends
on this by adding support for <a class="reference external" href="https://python-poetry.org/">Poetry</a>.</p>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;python&#39;</span>
<span class="n">LIBFOO_PYTHON_SETUP_TYPE</span> <span class="o">=</span> <span class="s1">&#39;poetry&#39;</span>
</pre></div>
</div>
</section>
</section>
<span id="document-news/2022-08-10_00.13.00"></span><section id="v0-13-2022-08-10">
<h4>0.13 (2022-08-10)<a class="headerlink" href="#v0-13-2022-08-10" title="Link to this heading">¬∂</a></h4>
<section id="allow-project-configuration-path-overrides">
<h5>Allow project configuration path overrides<a class="headerlink" href="#allow-project-configuration-path-overrides" title="Link to this heading">¬∂</a></h5>
<p>When loading a project‚Äôs configuration file, releng-tool will look for
a configuration file found in the <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;/releng</span></code> path. If a user wishes to
load releng-tool with an alternative configuration (either for testing, using
multiple configurations, etc.), users can now specify the path of a
configuration file to load using the <code class="docutils literal notranslate"><span class="pre">--config</span></code> argument. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool --config my-second-config
</pre></div>
</div>
</section>
<section id="support-for-make-and-scons-package-types">
<h5>Support for make and SCons package types<a class="headerlink" href="#support-for-make-and-scons-package-types" title="Link to this heading">¬∂</a></h5>
<p>Introduction of the <code class="docutils literal notranslate"><span class="pre">make</span></code> and <code class="docutils literal notranslate"><span class="pre">scons</span></code> package types. These new package types
allow a developer to easily invoke Make and SCons targets at various stages,
without needing invoke these tools inside a scripts package.</p>
</section>
<section id="support-for-python-setup-types">
<h5>Support for Python setup types<a class="headerlink" href="#support-for-python-setup-types" title="Link to this heading">¬∂</a></h5>
<p>Python packages can now tailor their build and installation stages by
configuration setup types. Packages would originally be processed as if
they were distutils-managed packages. releng-tool now support additional
setup types:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://flit.pypa.io">Flit</a></p></li>
<li><p><a class="reference external" href="https://hatch.pypa.io">Hatch</a></p></li>
<li><p><a class="reference external" href="https://pdm.fming.dev">PDM</a></p></li>
<li><p><a class="reference external" href="https://pypa-build.readthedocs.io">PEP 517 (build)</a></p></li>
<li><p><a class="reference external" href="https://setuptools.pypa.io">Setuptools</a></p></li>
</ul>
<p>For example, if a Python package wishes to use Setuptools, the following
can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_TYPE</span> <span class="o">=</span> <span class="s1">&#39;python&#39;</span>
<span class="n">LIBFOO_PYTHON_SETUP_TYPE</span> <span class="o">=</span> <span class="s1">&#39;setuptools&#39;</span>
</pre></div>
</div>
<p>For PEP 517 build systems, the <a class="reference external" href="https://installer.readthedocs.io">installer</a>
module will be used to install packages to host, staging and target areas.</p>
</section>
<section id="support-development-modes">
<h5>Support development modes<a class="headerlink" href="#support-development-modes" title="Link to this heading">¬∂</a></h5>
<p>Specific development modes are now supported for a releng-tool run. Developers
can switch between a development version of a package over a stable version by
first enabling development mode:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool --development
</pre></div>
</div>
<p>For example, with development mode enabled, a <code class="docutils literal notranslate"><span class="pre">LIBFOO</span></code> package would instead
fetch sources from the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch with the following package configuration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_DEVMODE_REVISION</span> <span class="o">=</span> <span class="s1">&#39;main&#39;</span>
<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;v3.0&#39;</span>
</pre></div>
</div>
<p>Developers may wish to have more than one alternative mode to target for,
as well as tweaking sites depending on the mode. A user can now invoke the
development argument with a mode value, which hints to the name of the mode
to build with. For example, if a user invoked releng-tool with the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool --development test
</pre></div>
</div>
<p>Subsequent runs will now be running under the <code class="docutils literal notranslate"><span class="pre">test</span></code> mode. If a package is
configured with <code class="docutils literal notranslate"><span class="pre">test</span></code>-specific mode, it can change what revision a package
will use as well as other possible tweaks. For example, with the following
package definition:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">DEFAULT_SITE</span><span class="p">:</span> <span class="s1">&#39;https://pkgs.example.com/releases/libfoo-$</span><span class="si">{LIBFOO_VERSION}</span><span class="s1">.tar.gz&#39;</span><span class="p">,</span>
    <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="s1">&#39;https://git.example.com/libfoo.git&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="s1">&#39;main&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">LIBFOO</span></code> package would normally fetch an archive folder based off the
configured version value. When operating in a <code class="docutils literal notranslate"><span class="pre">test</span></code> development mode, sources
for <code class="docutils literal notranslate"><span class="pre">LIBFOO</span></code> will now be fetched from the provided Git repository using the
<code class="docutils literal notranslate"><span class="pre">main</span></code> branch.</p>
</section>
<section id="support-path-overrides-for-local-sources-mode">
<h5>Support path overrides for local-sources mode<a class="headerlink" href="#support-path-overrides-for-local-sources-mode" title="Link to this heading">¬∂</a></h5>
<p>Users have had the ability to enable local-sources mode to load sources of
internal-marked packages from a local file system. This was achieved using
the <code class="docutils literal notranslate"><span class="pre">--local-sources</span></code> argument to enable this mode. The idea is allow users
developing on internal packages to clone packages in their development
environment manually, where releng-tool can build against and users can
use their own Git tools/capabilities to manage their sources.</p>
<p>Local-sources mode was limited on its usage. When enabled, all internal
packages were looked for in a parent path of a configured root directory,
without having any option to change the path or ignore for select packages.
With this most recent version, these options are now available.</p>
<p>The default of <code class="docutils literal notranslate"><span class="pre">--local-sources</span></code> (or just <code class="docutils literal notranslate"><span class="pre">-L</span></code>) will configure an environment
to look for packages in the parent folder of the root directory. For example,
if a project has a <code class="docutils literal notranslate"><span class="pre">liba</span></code> package, sources for the package will be found under
<code class="docutils literal notranslate"><span class="pre">&lt;root-dir&gt;/../liba</span></code>. If a user provides a path to the <code class="docutils literal notranslate"><span class="pre">--local-sources</span></code>
argument, packages will now be looked for inside the provided folder. For
example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool --local-sources ~/workdir
</pre></div>
</div>
<p>Continuing with the example of <code class="docutils literal notranslate"><span class="pre">liba</span></code>, the sources for this packages will now
be looked for inside <code class="docutils literal notranslate"><span class="pre">~/workdir/liba</span></code>.</p>
<p>There can be cases where a developer may need to tweak the path of a
specific package. If a user specifies the package name prefixed to a path
inside the command line argument, a user can override where the specific
package sources are found. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool -L ~/anotherdir -L libb@/mnt/share/libb
</pre></div>
</div>
<p>The above shows an example where sources for all internal packages will be
looked for inside <code class="docutils literal notranslate"><span class="pre">~/anotherdir</span></code>, with the exception of <code class="docutils literal notranslate"><span class="pre">libb</span></code> which will
look for its sources directly in the <code class="docutils literal notranslate"><span class="pre">/mnt/share/libb</span></code> path.</p>
<p>Users also have the ability to ignore local-sources for a specific package
(i.e. ‚Äûfetch all packages locally but these ones‚Äú). Consider the following
example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool -L ~/morework -L libc@
</pre></div>
</div>
<p>The above shows an example where sources for all internal packages will be
looked for inside <code class="docutils literal notranslate"><span class="pre">~/morework</span></code>, with the exception of <code class="docutils literal notranslate"><span class="pre">libc</span></code> which will
checkout sources normally as if local-sources mode was not enabled.</p>
<p>Reminder that users can disable local-sources mode by performing a <code class="docutils literal notranslate"><span class="pre">distclean</span></code>
action, or manually removing the <code class="docutils literal notranslate"><span class="pre">.releng-flag-local-sources</span></code> file.</p>
</section>
<section id="new-copy-into-script-function">
<h5>New copy-into script function<a class="headerlink" href="#new-copy-into-script-function" title="Link to this heading">¬∂</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">releng_copy_into</span></code> helper function has been added to allow releng-tool
script to explicitly copy a source into a target directory. This can be helpful
for users who wish to avoid scenarios using <code class="docutils literal notranslate"><span class="pre">releng_copy</span></code> to ensure the
destination directory exists or avoiding the need to add a trailing file
separator at the end of the destination target. An example of this new call
is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_copy_into</span><span class="p">(</span><span class="s1">&#39;my-file&#39;</span><span class="p">,</span> <span class="s1">&#39;my-directory&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="support-certificates-override-for-bazaar">
<h5>Support certificates override for Bazaar<a class="headerlink" href="#support-certificates-override-for-bazaar" title="Link to this heading">¬∂</a></h5>
<p>When a package is configured to fetch <a class="reference external" href="https://web.archive.org/web/https://bazaar.canonical.com">bzr</a> sources, select environments
may have issues attempting to download from Launchpad (or other hosting) due
to legacy certificates.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>See `bzr help ssl.ca_certs` for how to specify trusted CA certificates.
Pass `-Ossl.cert_reqs=none` to disable certificate verification entirely.
</pre></div>
</div>
<p>If a user‚Äôs environment has <a class="reference external" href="https://pypi.org/project/certifi/"><code class="docutils literal notranslate"><span class="pre">certifi</span></code></a> installed, a user can invoke
releng-tool with the quirk <code class="docutils literal notranslate"><span class="pre">releng.bzr.certifi</span></code> enabled to use certifi‚Äôs
certificates instead. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>releng-tool --quirk releng.bzr.certifi
</pre></div>
</div>
</section>
</section>
<span id="document-news/2022-05-02_00.12.00"></span><section id="v0-12-2022-05-02">
<h4>0.12 (2022-05-02)<a class="headerlink" href="#v0-12-2022-05-02" title="Link to this heading">¬∂</a></h4>
<section id="support-package-variable-overrides-using-the-command-line">
<h5>Support package variable overrides using the command line<a class="headerlink" href="#support-package-variable-overrides-using-the-command-line" title="Link to this heading">¬∂</a></h5>
<p>Package variables can now be overridden from the command line. Consider the
following site example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;git@example.com:base/libfoo.git&#39;</span>
</pre></div>
</div>
<p>This Git-sourced package will cache the repository found at
<code class="docutils literal notranslate"><span class="pre">git&#64;example.com:base/libfoo.git</span></code> before extracting the configured revision
into the package‚Äôs build output directory. If a developer wanted to
temporarily override this option for a build, the following shows how a
developer can override the site variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">LIBFOO_SITE</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">libfoo</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Note that complex package variables may not be able to be overridden from
the command line.</p>
</section>
<section id="support-environment-variable-injection-using-the-command-line">
<h5>Support environment variable injection using the command line<a class="headerlink" href="#support-environment-variable-injection-using-the-command-line" title="Link to this heading">¬∂</a></h5>
<p>Environment variables can now be injected into the releng-tool process from
the command line. While users can use either export/set variables in their
environments, or (on Unix) prefix a command call with variable assignments;
the ways to do this is not consistent. A desire was to allow users to be
able to inject environment options in a way similar to how Makefile calls
can perform variable assignments through the command line. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make TEST=1
</pre></div>
</div>
<p>This new feature enables such a capability by scanning the argument options
of a releng-tool invoke and applying key-value pair entries into the
working environment. Before, users would have to perform something such
as the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">*</span><span class="n">nix</span><span class="p">)</span>
<span class="n">MY_CUSTOM_ENV</span><span class="o">=</span><span class="n">testing</span> <span class="n">releng</span><span class="o">-</span><span class="n">tool</span>
<span class="p">(</span><span class="o">*</span><span class="n">nix</span><span class="p">;</span> <span class="n">alternative</span><span class="p">)</span>
<span class="n">export</span> <span class="n">MY_CUSTOM_ENV</span><span class="o">=</span><span class="n">testing</span>
<span class="n">releng</span><span class="o">-</span><span class="n">tool</span>
<span class="p">(</span><span class="n">windows</span><span class="p">)</span>
<span class="nb">set</span> <span class="n">MY_CUSTOM_ENV</span><span class="o">=</span><span class="n">testing</span>
<span class="n">releng</span><span class="o">-</span><span class="n">tool</span>
</pre></div>
</div>
<p>With this change, the following will work for any environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">MY_CUSTOM_ENV</span><span class="o">=</span><span class="n">testing</span>
</pre></div>
</div>
</section>
<section id="package-specific-command-line-execution">
<h5>Package-specific command line execution<a class="headerlink" href="#package-specific-command-line-execution" title="Link to this heading">¬∂</a></h5>
<p>Developer now have an easy way to issue raw commands inside a package‚Äôs
prepared build directory. For example, developing/testing with an
Autotools project, a developer can issue a manual configuration request
to test/sanity check options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">libfoo</span><span class="o">-</span><span class="n">exec</span> <span class="s2">&quot;./configure --help&quot;</span>
</pre></div>
</div>
<p>This is to help developers try out alternative commands/actions without
manually editing their package‚Äôs definition; as well as avoiding the
need to navigate to an output directory, manually preparing environment
variables and issuing raw commands in an output directory.</p>
</section>
<section id="new-environment-script-variables">
<h5>New environment/script variables<a class="headerlink" href="#new-environment-script-variables" title="Link to this heading">¬∂</a></h5>
<p>This release includes a series of new environment/script variables to help
developers better tailor their package definitions.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PKG_BUILD_BASE_DIR</span></code> has been introduced, providing a way for a package
to reference the root of a package‚Äôs extracted folder. In most cases, the
<code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code> variable can be used to serve this purpose; however, if a
package defines <code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code>, the build directory will be resolved
to the subdirectory location in the extracted folder. If a package utilizes
the subdirectory configuration and still wishes to somehow reference
extracted content from the root of the extracted package, this ‚Äûbase‚Äú
directory can be used.</p>
<p>Several prefixed-related directories are also defined. These can be used to
allow a developer to reference specific include or library paths for the host,
staging or target areas. The following lists the newly added prefixed-related
variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HOST_INCLUDE_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;host-dir&gt;/usr/include</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HOST_LIB_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;host-dir&gt;/usr/lib</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREFIXED_HOST_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;host-dir&gt;/usr</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREFIXED_STAGING_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;staging-dir&gt;/usr</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREFIXED_TARGET_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;target-dir&gt;/usr</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STAGING_INCLUDE_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;staging-dir&gt;/usr/include</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STAGING_LIB_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;staging-dir&gt;/usr/lib</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TARGET_INCLUDE_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;target-dir&gt;/usr/include</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TARGET_LIB_DIR</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;target-dir&gt;/usr/lib</span></code>)</p></li>
</ul>
</section>
<section id="new-include-script-function">
<h5>New include script function<a class="headerlink" href="#new-include-script-function" title="Link to this heading">¬∂</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">releng_include</span></code> helper function has been added to allow releng-tool
script to load scripts alongside a given script ‚Äì providing a way to split
up a script across multiple files. For example, a script-based package with
a <code class="docutils literal notranslate"><span class="pre">libfoo-build</span></code> build script can split various build operations across
multiple files and include them in their build script:</p>
<p><small><strong>[package/libfoo/libfoo-build]</strong></small></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># perform various tasks</span>
<span class="n">releng_include</span><span class="p">(</span><span class="s1">&#39;build-task-a&#39;</span><span class="p">)</span>
<span class="n">releng_include</span><span class="p">(</span><span class="s1">&#39;build-task-b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><small><strong>[package/libfoo/build-task-a]</strong></small></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">note</span><span class="p">(</span><span class="s1">&#39;performing task a&#39;</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
<p><small><strong>[package/libfoo/build-task-b]</strong></small></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">note</span><span class="p">(</span><span class="s1">&#39;performing task b&#39;</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="correct-git-cache-management-with-branch-updates">
<h5>Correct Git cache management with branch updates<a class="headerlink" href="#correct-git-cache-management-with-branch-updates" title="Link to this heading">¬∂</a></h5>
<p>For VCS-based sites, the revision field can accept a branch value for the
respective VCS-type. In this case, specifying the branch of a Git repository
as the version or revision value will fetch the branch from the configured
site before attempting to extract/build the package. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_REVISION</span> <span class="o">=</span> <span class="s1">&#39;my-feature-branch&#39;</span>
</pre></div>
</div>
<p>With releng-tool, once a package is fetched, it will not be fetched again. For
branch-based references, this may not be ideal if the branch is expected to
update over time. Users could build from a clean environment, but this can add
additional build time where many packages are used and each one needs to
re-download/re-build their sources. For a user to perform a rebuild of a
VCS-type project, the following steps should be supported:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">libfoo</span><span class="o">-</span><span class="n">fetch</span>    <span class="c1"># fetch the new version of a branch</span>
<span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">libfoo</span><span class="o">-</span><span class="n">clean</span>    <span class="c1"># remove any previously extracted files</span>
<span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">libfoo</span>          <span class="c1"># build the package again</span>
</pre></div>
</div>
<p>An issue with releng-tool‚Äôs Git extraction process would incorrectly
extract the contents of the previously cached revision of a branch the first
time it has been extracted from an updated fetch. This release includes
corrections to this process to always use the most recently updated revision
for a branch is used after performing a fresh fetch/clean with cached content.</p>
</section>
</section>
<span id="document-news/2022-02-26_00.11.00"></span><section id="v0-11-2022-02-26">
<h4>0.11 (2022-02-26)<a class="headerlink" href="#v0-11-2022-02-26" title="Link to this heading">¬∂</a></h4>
<section id="new-script-functions">
<h5>New script functions<a class="headerlink" href="#new-script-functions" title="Link to this heading">¬∂</a></h5>
<p>A series of new helper script functions are now available for projects.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">releng_require_version</span></code> helper function has been added to allow
releng-tool projects to specify the minimum version of releng-tool needed
to run a project. For example, to indicate that at least v0.11 is required,
the following can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_require_version</span><span class="p">(</span><span class="s1">&#39;0.11&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If the version requirement is not met, the releng-tool process will stop,
indicating that the host environment‚Äôs releng-tool package requires an
update.</p>
<p>At this time, using this option now may not yield ideal output for releng-tool
versions prior to v0.11, as the function is not available in these version. A
workaround that could be used is the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">releng_require_version</span><span class="p">(</span><span class="s1">&#39;0.11&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="n">releng_exit</span><span class="p">(</span><span class="s1">&#39;requires releng-tool v0.11 or greater&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">releng_cat</span></code> and <code class="docutils literal notranslate"><span class="pre">releng_ls</span></code> helper functions have been introduced to help
developers examine/debug their releng-tool package states. The <code class="docutils literal notranslate"><span class="pre">releng_cat</span></code>
helper function can be used to dump the contents of a file to the standard
output stream (similar to the <code class="docutils literal notranslate"><span class="pre">cat</span></code> command):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_cat</span><span class="p">(</span><span class="s1">&#39;config.log&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">releng_ls</span></code> helper function can be used to dump the file listing for
a directory to the standard output stream (similar to the <code class="docutils literal notranslate"><span class="pre">ls</span></code> command):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">releng_ls</span><span class="p">(</span><span class="n">IMAGES_DIR</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="improved-support-for-extracting-zip-files">
<h5>Improved support for extracting zip files<a class="headerlink" href="#improved-support-for-extracting-zip-files" title="Link to this heading">¬∂</a></h5>
<p>The initial zip-file extraction for releng-tool would cycle through
defined directory and file entries in an archive, ensuring directories
were created before writing extracted files into project‚Äôs output
directory. It has been observed that with some archive files, the parsing of
an archive may not always identify directory entries. This can result in the
extraction phase failing for packages, where it attempts to extract a file
to a directory which has not been created.</p>
<p>To be flexible with various zip archive types, this release adjusts the
extraction for zip files to always attempt to build directory paths, even
if a directory entry is not specified.</p>
</section>
<section id="introducing-the-force-argument">
<h5>Introducing the <code class="docutils literal notranslate"><span class="pre">--force</span></code> argument<a class="headerlink" href="#introducing-the-force-argument" title="Link to this heading">¬∂</a></h5>
<p>For developers testing changes in their releng-tool project, or changes with
one or more packages defined in their project, a developer will most likely
try to reconfigure/rebuild packages to verify these changes. Since releng-tool
does not repeat completed stages, developers will utilize certain packages
actions to re-perform stages. For example, a developer can rebuild a package
using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">libfoo</span><span class="o">-</span><span class="n">rebuild</span>
</pre></div>
</div>
<p>While the various <code class="docutils literal notranslate"><span class="pre">libfoo-re*</span></code> actions can help a developer re-perform a stage,
sometimes a developer may wish to force a repeat trigger of all stages in
their project. By specifying the <code class="docutils literal notranslate"><span class="pre">--force</span></code> argument on the command line, each
package‚Äôs configuration, build and install stages will be performed again in
the same manner as if a user invoked <code class="docutils literal notranslate"><span class="pre">libfoo-reconfigure</span></code> on each package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="o">--</span><span class="n">force</span>
</pre></div>
</div>
<p>A reminder to developers that rebuilds can be complex and may not always
yield the same results as a clean build.</p>
<p>With the <code class="docutils literal notranslate"><span class="pre">--force</span></code> argument providing an easy way to perform
configuration/build/install stages again, the argument can also be used for
overriding some fetched content. If a user invokes releng-tool with the
<code class="docutils literal notranslate"><span class="pre">fetch</span></code> argument, all cachable version control content will be fetched again:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">fetch</span>
</pre></div>
</div>
<p>However, this does not apply to content which is stored into the download
(<code class="docutils literal notranslate"><span class="pre">dl/</span></code>) folder. If a user wanted to force the re-downloading of
a package‚Äôs site without performing a <code class="docutils literal notranslate"><span class="pre">distclean</span></code> or manually deleting a
package‚Äôs file, using the <code class="docutils literal notranslate"><span class="pre">fetch</span></code> action along with the <code class="docutils literal notranslate"><span class="pre">--force</span></code> argument
can be used instead. For example, to re-download a package‚Äôs file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">libfoo</span><span class="o">-</span><span class="n">fetch</span> <span class="o">--</span><span class="n">force</span>
</pre></div>
</div>
<p>Or re-download all package files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">releng</span><span class="o">-</span><span class="n">tool</span> <span class="n">fetch</span> <span class="o">--</span><span class="n">force</span>
</pre></div>
</div>
</section>
</section>
<span id="document-news/2021-12-31_00.10.00"></span><section id="v0-10-2021-12-31">
<h4>0.10 (2021-12-31)<a class="headerlink" href="#v0-10-2021-12-31" title="Link to this heading">¬∂</a></h4>
<section id="new-definition-directory-package-environment-script-variable">
<h5>New ‚Äûdefinition directory‚Äú package environment/script variable<a class="headerlink" href="#new-definition-directory-package-environment-script-variable" title="Link to this heading">¬∂</a></h5>
<p>A new environment/script variable has been added to help a project refer
to a package‚Äôs ‚Äûdefinition directory‚Äú ‚Äì the specific folder of a package
found under <code class="docutils literal notranslate"><span class="pre">package/</span></code>. The key for this variable is <code class="docutils literal notranslate"><span class="pre">&lt;PKG_NAME&gt;_DEFDIR</span></code>.</p>
<p>For example, if a package script wishes to use content from inside the
package‚Äôs definition directory, they can refer to it as follow:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">releng_join</span><span class="p">(</span><span class="n">LIBFOO_DEFDIR</span><span class="p">,</span> <span class="s1">&#39;my-resource.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="suppress-installation-stage-for-cmake-projects">
<h5>Suppress installation stage for CMake projects<a class="headerlink" href="#suppress-installation-stage-for-cmake-projects" title="Link to this heading">¬∂</a></h5>
<p>While releng-tool attempts to provide the common ‚Äûconfiguration ‚Üí
build ‚Üí install‚Äú stages, not all projects support an installation phase.
CMake projects which did not define an <a class="reference external" href="https://cmake.org/cmake/help/latest/command/install.html"><code class="docutils literal notranslate"><span class="pre">install</span></code></a> rule, the
installation stage for these projects would always fail.</p>
<p>To explicitly skip the install stage for these packages, the
<code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_NOINSTALL</span></code> can be configured inside a package‚Äôs definition file
to ignore the stage for a package. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_CMAKE_NOINSTALL</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="support-rsync-based-sites">
<h5>Support rsync-based sites<a class="headerlink" href="#support-rsync-based-sites" title="Link to this heading">¬∂</a></h5>
<p>releng-tool now supports fetching content from an <a class="reference external" href="https://linux.die.net/man/1/rsync">rsync</a> compatible
source. By adjusting a package‚Äôs <code class="docutils literal notranslate"><span class="pre">LIBFOO_SITE</span></code> definition to be prefixed with
<code class="docutils literal notranslate"><span class="pre">rsync+</span></code>, the trailing value can be used to define the rsync source to copy
content from.</p>
<p>For example, to copy content from a mounted NAS location at <code class="docutils literal notranslate"><span class="pre">/mnt/nas/project</span></code>,
the following could be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;rsync+/mnt/nas/project&#39;</span>
</pre></div>
</div>
<p>Packages can also pull content from a remote source:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LIBFOO_SITE</span> <span class="o">=</span> <span class="s1">&#39;rsync+anonymous@192.51.100.4:~/project&#39;</span>
</pre></div>
</div>
<p>What specific source paths are support will vary based off the host‚Äôs
installed <code class="docutils literal notranslate"><span class="pre">rsync</span></code> tool.</p>
</section>
<section id="remove-the-requirement-for-a-package-version-configuration">
<h5>Remove the requirement for a package version configuration<a class="headerlink" href="#remove-the-requirement-for-a-package-version-configuration" title="Link to this heading">¬∂</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code> configuration is the recommended way to define the
version of a package. It serves two purposes ‚Äì it can be used to identify
the version to use when pulling content from a remote repository, as well as
used when managing the names of build/cache folders for a project.</p>
<p>However, both these purposes are not always required. A package may define a
<code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code> entry to specify the specific revision to use for
source-fetching. The output of a build location does not require a version
value to be postfixed. While specifying a version can help manage/identify
output files for a build, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">output</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">libfoo</span><span class="o">-</span><span class="mf">1.3</span>
</pre></div>
</div>
<p>The benefits of output inspection and manual version change/testing should
not impose defining a version entry for a package. Therefore, package types
which do not need a version or have <code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code> defined for a package,
the <code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code> configuration can be omitted.</p>
</section>
<section id="flexible-asset-management">
<h5>Flexible asset management<a class="headerlink" href="#flexible-asset-management" title="Link to this heading">¬∂</a></h5>
<p>Typical runs will download files (<code class="docutils literal notranslate"><span class="pre">dl/</span></code>) and cache content (<code class="docutils literal notranslate"><span class="pre">cache/</span></code>) in the
project‚Äôs root directory. While users could override these paths using the
<code class="docutils literal notranslate"><span class="pre">--cache-dir</span> <span class="pre">&lt;dir&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">--dl-dir</span> <span class="pre">&lt;dir&gt;</span></code> command line options:</p>
<ul class="simple">
<li><p>Needing to specify both these arguments on each run is not always ideal.</p></li>
<li><p>There was not an easy way to point to a single path to say ‚Äûstore all content
in this folder‚Äú.</p></li>
</ul>
<p>To improve the user experience, the concept on an ‚Äûasset‚Äú directory has been
introduced. If a user specifies <code class="docutils literal notranslate"><span class="pre">--assets-dir</span> <span class="pre">&lt;dir&gt;</span></code> on the command line,
both the cache and download directories will be stored inside the provided
container folder.</p>
<p>For cases where specifying these paths using command line options is not ideal,
the following environment variables can be used instead:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RELENG_ASSETS_DIR=&lt;dir&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RELENG_CACHE_DIR=&lt;dir&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RELENG_DL_DIR=&lt;dir&gt;</span></code></p></li>
</ul>
</section>
</section>
</div>
</section>
<section id="v2-9-0-2026-03-01">
<h3>2.9.0 (2026-03-01)<a class="headerlink" href="#v2-9-0-2026-03-01" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p><strong>(note)</strong> Last version supporting Bazaar sites</p></li>
<li><p><strong>(note)</strong> Last version supporting Python 3.9</p></li>
<li><p><strong>(note)</strong> Last version supporting <code class="docutils literal notranslate"><span class="pre">override_revisions</span></code></p></li>
<li><p><strong>(note)</strong> Last version supporting <code class="docutils literal notranslate"><span class="pre">override_sites</span></code></p></li>
<li><p><strong>(note)</strong> Last version supporting <code class="docutils literal notranslate"><span class="pre">LIBFOO_SKIP_REMOTE_SCRIPTS</span></code></p></li>
<li><p><strong>(note)</strong> Last version supporting <code class="docutils literal notranslate"><span class="pre">LIBFOO_SKIP_REMOTE_CONFIG</span></code></p></li>
<li><p><strong>(note)</strong> Last version supporting an implicit <code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_SETUP_TYPE</span></code></p></li>
<li><p>Added a series of package configuration lint checks (RT100-RT115)</p></li>
<li><p>Fix undesired warnings when using <code class="docutils literal notranslate"><span class="pre">revisions</span></code> in development mode</p></li>
<li><p>Fix where <code class="docutils literal notranslate"><span class="pre">NJOBSCONF</span></code> was not properly set when using <code class="docutils literal notranslate"><span class="pre">RELENG_PARALLEL_LEVEL</span></code></p></li>
<li><p>Improved support for setting local-sources POSIX paths on Windows platforms</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_PATCHES</span></code> to support development mode patching</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_IGNORE_PATCHES</span></code> to support ignoring package patches</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_ONLY_DEVMODE</span></code> to support development-only packages</p></li>
<li><p>Move package SPDX license check warnings into the lint action</p></li>
<li><p>Printed local-sources paths are now printed in POSIX format</p></li>
<li><p>Support for negative jobs value to reduce detected job usage</p></li>
<li><p>Support not overwriting environment variables when using <code class="docutils literal notranslate"><span class="pre">releng_env</span></code></p></li>
<li><p>Use of local-sources mode with external packages now generate a warning</p></li>
</ul>
</section>
<section id="v2-8-0-2026-02-22">
<h3>2.8.0 (2026-02-22)<a class="headerlink" href="#v2-8-0-2026-02-22" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTENSION</span></code> to support empty extensions</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_SKIP_INTEGRITY_CHECK</span></code> for development scenarios</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code> to help cap/limit package jobs</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">revisions</span></code> project configuration</p></li>
<li><p>Introduce support for Waf-based packages</p></li>
<li><p>Support exit code overrides on a successful run</p></li>
<li><p>Update SPDX license database to v3.28</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">sysroot_prefix</span></code> to also accept a path-like value</p></li>
</ul>
</section>
<section id="v2-7-0-2026-02-08">
<h3>2.7.0 (2026-02-08)<a class="headerlink" href="#v2-7-0-2026-02-08" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Allow project configurations to define a <code class="docutils literal notranslate"><span class="pre">releng_setup</span></code> registry hook</p></li>
<li><p>Failures in loading project extensions will now stop releng-tool</p></li>
<li><p>Fixed some scenarios where using <code class="docutils literal notranslate"><span class="pre">--debug-extended</span></code> may crash releng-tool</p></li>
<li><p>Generate a ‚Äûstep over‚Äú message for already processed packages on rebuilds</p></li>
<li><p>Handle trailing path-slash in a path-completed action request</p></li>
<li><p>Improved error handling for incorrect extension handle signatures</p></li>
<li><p>Improved processing of command outputs</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_BUILD_TYPE</span></code> to override Meson build types</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_PREEXTRACT</span></code> to support forced pre-configuration extraction</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">default_cmake_build_type</span></code> project configuration</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">default_meson_build_type</span></code> project configuration</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_define</span></code> helper script function</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_register_path</span></code> helper script function</p></li>
<li><p>Introduce multiple package event types extension can hook into</p></li>
<li><p>Introduce the <code class="docutils literal notranslate"><span class="pre">lint</span></code> action to support quality checks on a project/package</p></li>
<li><p>Introduce the <code class="docutils literal notranslate"><span class="pre">printvars</span></code> action to support dumping package variable names</p></li>
<li><p>Only show SSH error logs for remote Git actions</p></li>
<li><p>Prevent default CMake define conflicts when overrides set in <code class="docutils literal notranslate"><span class="pre">&lt;PKG&gt;_CONF_DEFS</span></code></p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">PKG_DEFDIR</span></code> in early package configuration variable expansions</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">releng_include</span></code> sourcing variables into caller script</p></li>
<li><p>Support the existence of a <code class="docutils literal notranslate"><span class="pre">FORCE_COLOR</span></code> environment variable</p></li>
<li><p>Support variable expansion on various logging calls</p></li>
<li><p>Support variable expansion on various path-like utility calls</p></li>
</ul>
</section>
<section id="v2-6-0-2025-08-03">
<h3>2.6.0 (2025-08-03)<a class="headerlink" href="#v2-6-0-2025-08-03" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Always output configured local sources paths</p></li>
<li><p>Avoid configuring <code class="docutils literal notranslate"><span class="pre">CMAKE_PREFIX_PATH</span></code> and solely rely on find-related defines</p></li>
<li><p>Detected tool version information is printed in debug mode</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">CMAKE_MODULE_PATH</span></code> paths are pre-populated to avoid directory building</p></li>
<li><p>Handle trailing path-slash in a local sources package reference</p></li>
<li><p>Support a pre-defined <code class="docutils literal notranslate"><span class="pre">CMAKE_FIND_ROOT_PATH</span></code> for staging/target/host areas</p></li>
<li><p>Update SPDX license database to v3.27</p></li>
</ul>
</section>
<section id="v2-5-0-2025-06-22">
<h3>2.5.0 (2025-06-22)<a class="headerlink" href="#v2-5-0-2025-06-22" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Avoid forwarding arguments to project when using <code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-exec</span></code></p></li>
<li><p>Drop warnings when using local-site packages</p></li>
<li><p>Introduce a profile argument for a project‚Äôs configuration discretion</p></li>
<li><p>Support checking multiple Visual Studio installs for <code class="docutils literal notranslate"><span class="pre">VsDevCmd.bat</span></code></p></li>
</ul>
</section>
<section id="v2-4-0-2025-05-31">
<h3>2.4.0 (2025-05-31)<a class="headerlink" href="#v2-4-0-2025-05-31" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Include VCS revisions in generated SBOM documents</p></li>
<li><p>Introduce a <code class="docutils literal notranslate"><span class="pre">--debug-extended</span></code> argument</p></li>
<li><p>Introduce quirk to help disable package-specific ignore-cache flags</p></li>
<li><p>Renamed SBOM format <code class="docutils literal notranslate"><span class="pre">rdp-spdx</span></code> to <code class="docutils literal notranslate"><span class="pre">rdf-spdx</span></code></p></li>
<li><p>Support Visual Studio Build Tools when using injected Visual Studio support</p></li>
</ul>
</section>
<section id="v2-3-0-2025-05-04">
<h3>2.3.0 (2025-05-04)<a class="headerlink" href="#v2-3-0-2025-05-04" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Installed Python packages now use releng-tool interpreter values for launchers</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_INTERPRETER</span></code> for interpreter tailoring</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">RELENG_PARALLEL_LEVEL</span></code> for environment-managed job management</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_path</span></code> helper script function</p></li>
<li><p>Ensure Make configuration stage runs if any configuration setting is set</p></li>
<li><p>Ensure SCons configuration stage runs if any configuration setting is set</p></li>
</ul>
</section>
<section id="v2-2-0-2025-03-29">
<h3>2.2.0 (2025-03-29)<a class="headerlink" href="#v2-2-0-2025-03-29" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Cleanup unexpected prints in <code class="docutils literal notranslate"><span class="pre">releng_require_version</span></code></p></li>
<li><p>Extension priority changed: (1) <code class="docutils literal notranslate"><span class="pre">.rt</span></code>, (2) <code class="docutils literal notranslate"><span class="pre">.py</span></code>, (3) <em>(none)</em>, (4) <code class="docutils literal notranslate"><span class="pre">.releng</span></code></p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">releng_copy</span></code> not replicating symlinks in base directory</p></li>
<li><p>Improve accepting of path-like arguments into multiple <code class="docutils literal notranslate"><span class="pre">releng_*</span></code> calls</p></li>
<li><p>Improve accepting of path-like arguments into multiple package options</p></li>
<li><p>Patches are applied with the <code class="docutils literal notranslate"><span class="pre">--verbose</span></code> argument</p></li>
<li><p>Support for extensionless configuration/scripts is deprecated</p></li>
<li><p>Support path-like types for multiple path-like script variables</p></li>
<li><p>Support working-directory changing with <code class="docutils literal notranslate"><span class="pre">releng_tmpdir</span></code></p></li>
</ul>
</section>
<section id="v2-1-1-2025-02-17">
<h3>2.1.1 (2025-02-17)<a class="headerlink" href="#v2-1-1-2025-02-17" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Fixed extraction warnings for non-empty folders due to improper fetch flags</p></li>
</ul>
</section>
<section id="v2-1-0-2025-02-17">
<h3>2.1.0 (2025-02-17)<a class="headerlink" href="#v2-1-0-2025-02-17" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Avoid multi-fetching packages with ignore-cache in development mode</p></li>
<li><p>Improve ease of unconfiguring local-sources mode with single <code class="docutils literal notranslate"><span class="pre">unset</span></code> call</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">*_SHARE_DIR</span></code> environment/script variables</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">default_devmode_ignore_cache</span></code> project configuration</p></li>
<li><p>Local-sources configurations can now accept <code class="docutils literal notranslate"><span class="pre">package/</span></code>-prefixed entries</p></li>
<li><p>Prevent unused CLI warnings with CMake for releng-tool-managed options</p></li>
<li><p>Support a pre-defined <code class="docutils literal notranslate"><span class="pre">CMAKE_MODULE_PATH</span></code> for CMake staging/target/host areas</p></li>
</ul>
</section>
<section id="v2-0-1-2025-02-09">
<h3>2.0.1 (2025-02-09)<a class="headerlink" href="#v2-0-1-2025-02-09" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Including missing completion scripts and man page in source package</p></li>
</ul>
</section>
<section id="v2-0-2025-02-09">
<h3>2.0 (2025-02-09)<a class="headerlink" href="#v2-0-2025-02-09" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p><strong>(note)</strong> Support for non-LTS version of Python have been dropped</p></li>
<li><p>Fixed handling of Git submodules using incorrect revisions</p></li>
<li><p>Fixed issue where configured prefixes could be ignored in Python packages</p></li>
<li><p>Fixed issue where file URIs sites may prevent other URL sites from fetching</p></li>
<li><p>Fixed issue where triggering a re-install on select Python packages would fail</p></li>
<li><p>Improved support for host tool integration with Python packages</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">--only-mirror</span></code> argument to force external package fetch with mirror</p></li>
<li><p>Introduce alternative hash-files for package development revisions</p></li>
<li><p>Overhaul of Python package processing with install scheme configuration
via <code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_SCHEME</span></code>, launcher configuration via
<code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_LAUNCHER_KIND</span></code> and dist overrides via
<code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_DIST_PATH</span></code></p></li>
<li><p>Script function <code class="docutils literal notranslate"><span class="pre">releng_ls</span></code> now accepts a <code class="docutils literal notranslate"><span class="pre">recursive</span></code> argument</p></li>
<li><p>Support URL fetch retries on transient errors</p></li>
<li><p>Support for GNU Bazaar sites is deprecated</p></li>
<li><p>Support for Python distutils packages is deprecated</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">override_revisions</span></code> is deprecated</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">override_sites</span></code> is deprecated</p></li>
<li><p>Support format hints in <code class="docutils literal notranslate"><span class="pre">url_mirror</span></code></p></li>
<li><p>Support ignoring <code class="docutils literal notranslate"><span class="pre">stderr</span></code> output in execute calls</p></li>
<li><p>Support maximum checks when using <code class="docutils literal notranslate"><span class="pre">releng_require_version</span></code></p></li>
<li><p>Use of Python‚Äôs <code class="docutils literal notranslate"><span class="pre">installer</span></code> required for all Python packages</p></li>
</ul>
</section>
<section id="v1-4-2025-01-19">
<h3>1.4 (2025-01-19)<a class="headerlink" href="#v1-4-2025-01-19" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Allow adding a package without a definition that defines at least one script</p></li>
<li><p>Allow users to suppress local-site package warnings</p></li>
<li><p>Correct <code class="docutils literal notranslate"><span class="pre">hint</span></code> missing from script environments</p></li>
<li><p>Disable garbage collection and maintenance tasks for Git caches</p></li>
<li><p>Disable update checks for PDM when processing PDM packages</p></li>
<li><p>Ensure the <code class="docutils literal notranslate"><span class="pre">punch</span></code> action triggers the post-build stage</p></li>
<li><p>Fixed configuration failure when using older Meson (pre-v1.1.1)</p></li>
<li><p>Fixed incorrect JSON/SPDX SBOM documents for projects with empty/local sites</p></li>
<li><p>Fixed issue where <code class="docutils literal notranslate"><span class="pre">releng_copy</span></code> could not copy a broken symbolic link</p></li>
<li><p>Fixed issue where <code class="docutils literal notranslate"><span class="pre">releng_remove</span></code> could not remove a broken symbolic link</p></li>
<li><p>Fixed patch overrides not supporting alternative file extensions</p></li>
<li><p>Flag <code class="docutils literal notranslate"><span class="pre">RELENG_FORCE</span></code> when using the <code class="docutils literal notranslate"><span class="pre">punch</span></code> action</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_CARGO_NOINSTALL</span></code> to support Cargo libraries</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">RELENG_EXEC</span></code> environment/script variable</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">libfoo-fresh</span></code> action</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_symlink</span></code> helper script function</p></li>
<li><p>Introduce a <code class="docutils literal notranslate"><span class="pre">nested</span></code> option for I/O copy/move utility calls</p></li>
<li><p>Introduce a shared build target for Cargo packages</p></li>
<li><p>Perform automatic Cargo patching for project-managed dependencies</p></li>
<li><p>Post-fetching Cargo dependencies now occurs after a package‚Äôs patch stage</p></li>
<li><p>Promote use of <code class="docutils literal notranslate"><span class="pre">.rt</span></code> extensions for definitions/scripts</p></li>
<li><p>Promote use of <code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code> for project configuration</p></li>
<li><p>Support Breezy VCS-type</p></li>
<li><p>Support injecting Visual Studio development environment variables</p></li>
<li><p>Support newer GitLab CI flag for automatic debugging mode</p></li>
<li><p>Support preallocated list/dictionary package configurations</p></li>
<li><p>Update SPDX license database to v3.26</p></li>
<li><p>Utilize forwarded arguments as fallback for <code class="docutils literal notranslate"><span class="pre">libfoo-exec</span></code> action</p></li>
</ul>
</section>
<section id="v1-3-2024-08-19">
<h3>1.3 (2024-08-19)<a class="headerlink" href="#v1-3-2024-08-19" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Automatic debugging mode when detecting CI debugging runs</p></li>
<li><p>Correct unexpected dot in prefix path variables for empty prefixed builds</p></li>
<li><p>Fixed incorrect specification version tag in RDF/SPDX SBOM documents</p></li>
<li><p>Fixed issue where an aborted Mercurial fetch could require manual cleanup</p></li>
<li><p>Include license list version in SPDX SBOM documents</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code> to replace <code class="docutils literal notranslate"><span class="pre">LIBFOO_DEPENDENCIES</span></code></p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">RELENG_GENERATED_LICENSES</span></code> script variable</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">RELENG_GENERATED_SBOMS</span></code> script variable</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">environment</span></code> project configuration</p></li>
<li><p>Introduce support for Cargo-based packages</p></li>
<li><p>Remote package configuration/scripting is now opt-in</p></li>
<li><p>Script helper <code class="docutils literal notranslate"><span class="pre">releng_mkdir</span></code> will now return the path</p></li>
<li><p>Support multiple path components in <code class="docutils literal notranslate"><span class="pre">releng_mkdir</span></code></p></li>
<li><p>Support variable expansion for <code class="docutils literal notranslate"><span class="pre">releng_execute</span></code> arguments</p></li>
<li><p>Unknown arguments will now generate an error by default</p></li>
<li><p>Update SPDX license database to v3.25</p></li>
</ul>
</section>
<section id="v1-2-2024-07-01">
<h3>1.2 (2024-07-01)<a class="headerlink" href="#v1-2-2024-07-01" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Introduce the <code class="docutils literal notranslate"><span class="pre">punch</span></code> action to support forced rebuild of packages</p></li>
<li><p>Support automatic package preparation for compatible local-sourced packages</p></li>
<li><p>Update SPDX license database to v3.24</p></li>
</ul>
</section>
<section id="v1-1-2024-03-29">
<h3>1.1 (2024-03-29)<a class="headerlink" href="#v1-1-2024-03-29" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Prevent SSH authentication prompts that may occur when using Git</p></li>
<li><p>Support SPDX license identifier field for custom licenses</p></li>
<li><p>Support environment output directory override (<code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR</span></code>)</p></li>
<li><p>Support global output containers (<code class="docutils literal notranslate"><span class="pre">RELENG_GLOBAL_OUTPUT_CONTAINER_DIR</span></code>)</p></li>
<li><p>Update SPDX license database to v3.23</p></li>
</ul>
</section>
<section id="v1-0-2023-12-22">
<h3>1.0 (2023-12-22)<a class="headerlink" href="#v1-0-2023-12-22" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT</span></code> and <code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT_DIR</span></code> variables</p></li>
<li><p>Update SPDX license database to v3.22</p></li>
</ul>
</section>
<section id="v0-17-2023-08-06">
<h3>0.17 (2023-08-06)<a class="headerlink" href="#v0-17-2023-08-06" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Fixed issue with CMake-generated export targets missing prefix overrides</p></li>
<li><p>Fixed issue with local-source configurations when provided relative paths</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code> to override CMake build types</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code> to apply environment variables on multiple stages</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">state</span></code> action for dumping configured releng-tool state</p></li>
<li><p>Introduce support for Perforce sites</p></li>
<li><p>Support Git repository interaction in output directories for Git-based sources</p></li>
<li><p>Support ability to unconfigure development/local-sources mode</p></li>
<li><p>Support the existence of a <code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code> environment variable</p></li>
<li><p>Update SPDX license database to v3.21</p></li>
</ul>
</section>
<section id="v0-16-2023-05-07">
<h3>0.16 (2023-05-07)<a class="headerlink" href="#v0-16-2023-05-07" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Enforce strict hash checking in development mode for external packages which
define a development revision</p></li>
<li><p>Fixed issue where <code class="docutils literal notranslate"><span class="pre">releng_copy</span></code> may fail when provided a single part
relative destination</p></li>
<li><p>Fixed issue where HTML-based software build of materials would be empty</p></li>
<li><p>Introduce support for Meson-based packages</p></li>
<li><p>Prevent processing packages when SBOM generation is explicitly requested</p></li>
<li><p>Support SPDX-tailored software build of materials</p></li>
<li><p>Support module-specific local-sources to accept <code class="docutils literal notranslate"><span class="pre">:</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>,
allowing certain shells to take advantage of path auto-completion</p></li>
</ul>
</section>
<section id="v0-15-2023-02-12">
<h3>0.15 (2023-02-12)<a class="headerlink" href="#v0-15-2023-02-12" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>CMake install events will now always skip dependency checks</p></li>
<li><p>Fixed issue where extension loading may cause issues in Python 2.7</p></li>
<li><p>Fixed issue where reconfiguration may not flag rebuild flags (and related)</p></li>
<li><p>Fixed issue where statistics (PDF) may fail on legacy matplotlib environments</p></li>
<li><p>Improve support for patching a root build directory and sub-directories</p></li>
<li><p>Introduce extension support for event listeners</p></li>
<li><p>Make projects will now be provided a <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code> override</p></li>
<li><p>Source distribution now includes completion scripts and tests</p></li>
<li><p>Support setting software build of materials format in project configuration</p></li>
</ul>
</section>
<section id="v0-14-2023-02-05">
<h3>0.14 (2023-02-05)<a class="headerlink" href="#v0-14-2023-02-05" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p><strong>(note)</strong> The deprecated <code class="docutils literal notranslate"><span class="pre">releng</span></code> namespace has been removed</p></li>
<li><p>CMake install events will now always force installs by default</p></li>
<li><p>Fixed issue where CMake projects with implicit target area installs have
issues finding includes/libraries with <code class="docutils literal notranslate"><span class="pre">find_&lt;x&gt;</span></code> calls</p></li>
<li><p>Fixed issue where <code class="docutils literal notranslate"><span class="pre">libfoo-exec</span></code> action with an <code class="docutils literal notranslate"><span class="pre">=</span></code> character would crash</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">*_BIN_DIR</span></code> environment/script variables</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_move_into</span></code> helper script function</p></li>
<li><p>Local VCS-type packages should now place sources inside a <code class="docutils literal notranslate"><span class="pre">local</span></code> folder</p></li>
<li><p>Promote the use of SPDX license identifiers in package license options</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">.releng</span></code> extensions for scripts</p></li>
<li><p>Support automatic include injection for CMake staging/target/host areas</p></li>
<li><p>Support for Poetry Python setup type</p></li>
<li><p>Support generating a software build of materials</p></li>
<li><p>Support treating releng-tool warnings as errors with <code class="docutils literal notranslate"><span class="pre">--werror</span></code> argument</p></li>
<li><p>Support user paths in package-specific local-sources overrides</p></li>
</ul>
</section>
<section id="v0-13-2022-08-10">
<h3>0.13 (2022-08-10)<a class="headerlink" href="#v0-13-2022-08-10" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Avoid interaction with target area when using CMake projects that only
uses the staging area</p></li>
<li><p>Downloaded files will now be stored in sub-directories under <code class="docutils literal notranslate"><span class="pre">dl/</span></code></p></li>
<li><p>Ensure clean-related environment/script variables are set for
package-specific clean requests</p></li>
<li><p>Fixed a rare chance that an explicit package run provided via command line
may be ignored</p></li>
<li><p>Fixed issue in older Python interpreters where the executed package order may
not be consistent</p></li>
<li><p>Fixed issue where select package-specific environment variables may leak into
other packages</p></li>
<li><p>Improve handling of <code class="docutils literal notranslate"><span class="pre">file://</span></code> sites in Windows</p></li>
<li><p>Improve support for host-built Python packages</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_HOST_PROVIDES</span></code> to help skip prerequisite checks</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">PKG_DEVMODE</span></code> environment/script variable</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">RELENG_TARGET_PKG</span></code> environment/script variable</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_copy_into</span></code> helper script function</p></li>
<li><p>Introduce support for Python setup types</p></li>
<li><p>Introduce support for SCons-based packages</p></li>
<li><p>Introduce support for development mode configurations, allowing users
to target specific revisions or sites for packages supporting alternative
source revisions</p></li>
<li><p>Introduce support for global and package-specific path overrides when
operating in local-sources mode</p></li>
<li><p>Introduce support for make-based packages</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">PKG_DEFDIR</span></code> usage inside a package‚Äôs definition</p></li>
<li><p>Support Bazaar quirk to utilize <code class="docutils literal notranslate"><span class="pre">certifi</span></code> certificates</p></li>
<li><p>Support users overriding a project‚Äôs configuration path from command line</p></li>
</ul>
</section>
<section id="v0-12-2022-05-02">
<h3>0.12 (2022-05-02)<a class="headerlink" href="#v0-12-2022-05-02" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Adding <code class="docutils literal notranslate"><span class="pre">dst_dir</span></code> to <code class="docutils literal notranslate"><span class="pre">releng_copy</span></code> for explicit copies to directories</p></li>
<li><p>Adjust automatic job detection to use physical cores instead of logical cores</p></li>
<li><p>Fixed an issue where forced Git-fetches with branch revisions may have stale
content on first extract</p></li>
<li><p>Fixed where package-specific prefixes/njobs would leak to other projects</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">*_[INCLUDE,LIB]_DIR</span></code> environment/script variables</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">PKG_BUILD_BASE_DIR</span></code> environment/script variable</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">PREFIXED_*_DIR</span></code> environment/script variables</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">libfoo-exec</span></code> action</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_include</span></code> helper script function</p></li>
<li><p>Support Make-styled environment injections via command line</p></li>
<li><p>Support package variable overrides via command line</p></li>
</ul>
</section>
<section id="v0-11-2022-02-26">
<h3>0.11 (2022-02-26)<a class="headerlink" href="#v0-11-2022-02-26" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Always pre-create install directory before package install scripts are invoked</p></li>
<li><p>Fixed an issue where nested zip files could not extract</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_cat</span></code> helper script function</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_ls</span></code> helper script function</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_require_version</span></code> helper script function</p></li>
<li><p>No longer extract with non-local-supported tar command if host format detected</p></li>
<li><p>No longer warn if hash file is empty for extracted contents check</p></li>
<li><p>Support removing cached assets through a forced fetch argument</p></li>
<li><p>Support triggering a reconfiguration of all packages through a force argument</p></li>
</ul>
</section>
<section id="v0-10-2021-12-31">
<h3>0.10 (2021-12-31)<a class="headerlink" href="#v0-10-2021-12-31" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Fixed an issue where a configured <code class="docutils literal notranslate"><span class="pre">sysroot_prefix</span></code> bin path would not be
registered in the script environment‚Äôs path</p></li>
<li><p>Fixed an issue where <code class="docutils literal notranslate"><span class="pre">releng_mkdir</span></code> reports success if the target path is a
file that already exists</p></li>
<li><p>Fixed an issue where extensions may not load on Python 2.7</p></li>
<li><p>Fixed an issue where post-processing may be invoked even if a package‚Äôs stage
would fail</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">&lt;PKG_NAME&gt;_DEFDIR</span></code> environment/script variable</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_NOINSTALL</span></code> for CMake packages with no install rule</p></li>
<li><p>Introduce support for rsync sites</p></li>
<li><p>Provide an option to suppress root warning (for zero-UID containers)</p></li>
<li><p>Remove the requirement to have a package version entry</p></li>
<li><p>Support configuring cache/download directories using environment variables</p></li>
<li><p>Support custom SSL context overrides via <code class="docutils literal notranslate"><span class="pre">urlopen_context</span></code></p></li>
<li><p>Support providing an assets container directory (for cache/download folders)</p></li>
</ul>
</section>
<section id="v0-9-2021-10-02">
<h3>0.9 (2021-10-02)<a class="headerlink" href="#v0-9-2021-10-02" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Fixed an import issue when running with Python 3.10</p></li>
<li><p>Fixed an issue where a cyclic package check provided a bad message</p></li>
<li><p>Fixed an issue where a Git submodule with a target branch may fail to extract</p></li>
<li><p>Post-processing script renamed to <code class="docutils literal notranslate"><span class="pre">releng-post-build</span></code></p></li>
<li><p>Support development mode relaxed branch fetching for Git sites</p></li>
<li><p>Support requiring a Git source‚Äôs revision to be GnuPG-signed (GPG)</p></li>
<li><p>Support using ASCII-armor (asc) files to package integrity checks</p></li>
</ul>
</section>
<section id="v0-8-2021-08-28">
<h3>0.8 (2021-08-28)<a class="headerlink" href="#v0-8-2021-08-28" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Allow DVCS packages to share caches (to minimize space/time fetching)</p></li>
<li><p>Fixed an issue where tools/<code class="docutils literal notranslate"><span class="pre">releng_execute</span></code> requests would fail on Python
2.7 with Unicode-defined environment variables</p></li>
<li><p>Fixed an issue where a diverged revision in Git would incorrectly populate a
package‚Äôs build directory with the cached revision instead of the remote
revision</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_SUBMODULES</span></code> for package Git-specific configurations</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_execute_rv</span></code> helper script function</p></li>
<li><p>Introduce statistic tracking (stage durations) which generate to into the
output folder after execution</p></li>
<li><p>Introduce support for package-specific distclean</p></li>
<li><p>Introduce support for package-specific license processing</p></li>
<li><p>Package-specific extraction/patching no longer requires dependency processing</p></li>
<li><p>Rework <code class="docutils literal notranslate"><span class="pre">LIBTOOL_GIT_REFSPECS</span></code> to provide more control over custom revisions
that can be fixed (i.e. no longer fixed on <code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/*/head</span></code>; instead, a
configured value-wildcard string should be used)</p></li>
<li><p>Support auto-detecting Python interpreter path overrides in windows</p></li>
<li><p>Support faster Git fetching</p></li>
<li><p>Support pruning any remote-tracked references in a Git-cached project when a
forced fetch request is made</p></li>
</ul>
</section>
<section id="v0-7-2021-08-08">
<h3>0.7 (2021-08-08)<a class="headerlink" href="#v0-7-2021-08-08" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Fetch from an already cached package‚Äôs site if the fetch is explicitly
requested</p></li>
<li><p>Fixed an issue with registry failing to import on Python 2.7</p></li>
<li><p>Fixed issue where build/install definitions where not used in in their
respective stages</p></li>
<li><p>Fixed issue where mercurial packages fetched using the version option instead
of the revision option</p></li>
<li><p>Fixed issue where the host directory was not registered in a stage‚Äôs path</p></li>
<li><p>Introduce clean, logging flags and releng-version into the script environments</p></li>
<li><p>Only fetch a single package if only said package is requested to be fetched</p></li>
<li><p>Package without a site will throw an error when VCS-type is set</p></li>
<li><p>Reconfigure/rebuild requests will now perform all trailing stages for the
package(s) being redone; rebuild/reconfigure-only actions have been introduced
to force re-invoking a specific stage</p></li>
<li><p>Support loading remote package configuration</p></li>
<li><p>Support loading remote package scripts</p></li>
<li><p>releng-tool will now full stop if external package definition fails to load</p></li>
</ul>
</section>
<section id="v0-6-2020-10-10">
<h3>0.6 (2020-10-10)<a class="headerlink" href="#v0-6-2020-10-10" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Always register optional flags inside scripts (allowing developers to use
flags like <code class="docutils literal notranslate"><span class="pre">RELENG_RECONFIGURE</span></code> without needing to check environment
variables)</p></li>
<li><p>Fixed issued when capturing with <code class="docutils literal notranslate"><span class="pre">releng_execute</span></code> which did not suppress
output by default</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">LIBTOOL_GIT_CONFIG</span></code> for package git-specific configurations</p></li>
<li><p>Introduce a <code class="docutils literal notranslate"><span class="pre">releng-tool</span> <span class="pre">init</span></code> action for a quick-sample project</p></li>
<li><p>Introduce support for distclean</p></li>
<li><p>Introduce support for prerequisites</p></li>
<li><p>Namespace moved from <code class="docutils literal notranslate"><span class="pre">releng</span></code> to <code class="docutils literal notranslate"><span class="pre">releng_tool</span></code> (<code class="docutils literal notranslate"><span class="pre">releng</span></code> deprecated for
an interim)</p></li>
</ul>
</section>
<section id="v0-5-2020-09-07">
<h3>0.5 (2020-09-07)<a class="headerlink" href="#v0-5-2020-09-07" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Fixed false error when verifying cached Git reference</p></li>
</ul>
</section>
<section id="v0-4-2020-09-07">
<h3>0.4 (2020-09-07)<a class="headerlink" href="#v0-4-2020-09-07" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Allow developers to fetch from addition Git refspecs (e.g. pull requests)</p></li>
<li><p>Allow setting quirks in command line</p></li>
<li><p>Fixed a scenario where a Git extraction stage could fetch sources</p></li>
<li><p>Fixed Git fetch/extraction if package is cached and site has changed</p></li>
<li><p>Improved handling of output files which may set the read-only attribute</p></li>
<li><p>Introduce support for local interim-development package content</p></li>
<li><p>Introduce support for shallow Git fetching</p></li>
</ul>
</section>
<section id="v0-3-2019-10-19">
<h3>0.3 (2019-10-19)<a class="headerlink" href="#v0-3-2019-10-19" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Allow packages to configure to ignore cache while in development mode</p></li>
<li><p>Allow packages to configure for no-extraction for sources</p></li>
<li><p>Fixed default interpreter detection for Python packages</p></li>
<li><p>Fixed fetching from Mercurial sources</p></li>
<li><p>Fixed fetching from newer Git hashes if repository was already cached</p></li>
<li><p>Introduce <code class="docutils literal notranslate"><span class="pre">releng_env</span></code> and <code class="docutils literal notranslate"><span class="pre">releng_mkdir</span></code> helper script functions</p></li>
<li><p>Introduce support for package-specific bootstrapping stage</p></li>
</ul>
</section>
<section id="v0-2-2019-03-15">
<h3>0.2 (2019-03-15)<a class="headerlink" href="#v0-2-2019-03-15" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>A project‚Äôs host directory will now be registered in the system‚Äôs path during
execution</p></li>
<li><p>Allow tracking project‚Äôs license files when found in multiple directories</p></li>
<li><p>Fixed loading configuration overrides script if one actually exists</p></li>
<li><p>Re-work various script names (e.g. <code class="docutils literal notranslate"><span class="pre">releng.py</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">releng</span></code>)</p></li>
</ul>
</section>
<section id="v0-1-2019-02-24">
<h3>0.1 (2019-02-24)<a class="headerlink" href="#v0-1-2019-02-24" title="Link to this heading">¬∂</a></h3>
<ul class="simple">
<li><p>Hello world</p></li>
</ul>
</section>
</section>
<span id="document-annex-a"></span><section id="annex-a-quick-reference">
<h2>ANHANG A ‚Äî Kurzreferenz<a class="headerlink" href="#annex-a-quick-reference" title="Link to this heading">¬∂</a></h2>
<p>A quick reference document listing available options to developers building a
releng-tool project.</p>
<section id="arguments">
<h3>Arguments<a class="headerlink" href="#arguments" title="Link to this heading">¬∂</a></h3>
<p>Arguments which are accepted by releng-tool from the command line:</p>
<pre class="literal-block"><a class="reference internal" href="#document-guides/arguments#action-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">clean</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">distclean</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-extract"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">extract</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-fetch-full"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">fetch-full</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-init"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">init</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-licenses"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">licenses</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-lint"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">lint</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">mrproper</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-patch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">patch</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-printvars"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">printvars</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-punch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">punch</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-sbom"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sbom</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-state"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">state</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-build"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-build</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-clean</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-configure"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-configure</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-distclean</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-exec"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-exec</span> <span class="pre">&quot;&lt;cmd&gt;&quot;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-extract"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-extract</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-fetch-full"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fetch-full</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-fresh"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-fresh</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-install"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-install</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-license"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-license</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-lint"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-lint</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-patch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-patch</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-printvars"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-printvars</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-rebuild"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-rebuild-only"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-rebuild-only</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-reconfigure"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-reconfigure-only"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reconfigure-only</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#action-pkg-reinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;pkg&gt;-reinstall</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-assets-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--assets-dir</span> <span class="pre">&lt;dir&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--cache-dir</span> <span class="pre">&lt;dir&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-config"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">&lt;file&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-debug"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--debug</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-debug-extended"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--debug-extended</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-development"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--development</span> <span class="pre">[&lt;mode&gt;]</span></code>, <code class="docutils literal notranslate"><span class="pre">-D</span> <span class="pre">[&lt;mode&gt;]</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--dl-dir</span> <span class="pre">&lt;dir&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-force"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--force</span></code>, <code class="docutils literal notranslate"><span class="pre">-F</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-help"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--help</span></code>, <code class="docutils literal notranslate"><span class="pre">-h</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--images-dir</span> <span class="pre">&lt;dir&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--jobs</span> <span class="pre">&lt;jobs&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">-j</span> <span class="pre">&lt;jobs&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-local-sources"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--local-sources</span> <span class="pre">[[&lt;pkg&gt;:]&lt;dir&gt;]</span></code>, <code class="docutils literal notranslate"><span class="pre">-L</span> <span class="pre">[[&lt;pkg&gt;:]&lt;dir&gt;]</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-nocolorout"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--nocolorout</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-only-mirror"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--only-mirror</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--out-dir</span> <span class="pre">&lt;dir&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-profile"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--profile</span> <span class="pre">[&lt;profile&gt;]</span></code>, <code class="docutils literal notranslate"><span class="pre">-P</span> <span class="pre">[&lt;profile&gt;]</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-relaxed-args"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--relaxed-args</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-root-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--root-dir</span> <span class="pre">&lt;dir&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">-R</span> <span class="pre">&lt;dir&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-sbom-format"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--sbom-format</span> <span class="pre">&lt;fmt&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-success-exit-code"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--success-exit-code</span> <span class="pre">&lt;code&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-quirk"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--quirk</span> <span class="pre">&lt;quirk-id&gt;</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-verbose"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--verbose</span></code>, <code class="docutils literal notranslate"><span class="pre">-V</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--version</span></code></span></a>
<a class="reference internal" href="#document-guides/arguments#arg-werror"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">--werror</span></code>, <code class="docutils literal notranslate"><span class="pre">-Werror</span></code></span></a></pre>
</section>
<section id="configuration-options">
<h3>Configuration options<a class="headerlink" href="#configuration-options" title="Link to this heading">¬∂</a></h3>
<p>Options which are read by releng-tool from a project‚Äôs configuration script
(<code class="docutils literal notranslate"><span class="pre">releng-tool.rt</span></code>):</p>
<pre class="literal-block"><a class="reference internal" href="#document-guides/configuration#conf-cache-ext"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">cache_ext</span></code></span></a> = &lt;callable&gt;
<a class="reference internal" href="#document-guides/configuration#conf-default-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">default_devmode_ignore_cache</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/configuration#conf-default-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">default_cmake_build_type</span></code></span></a> = str
<a class="reference internal" href="#document-guides/configuration#conf-default-meson-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">default_meson_build_type</span></code></span></a> = str
<a class="reference internal" href="#document-guides/configuration#conf-default-internal"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">default_internal</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/configuration#conf-environment"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">environment</span></code></span></a> = {'&lt;key&gt;': '&lt;val&gt;'}
<a class="reference internal" href="#document-guides/configuration#conf-extensions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">extensions</span></code></span></a> = ['&lt;extension&gt;', '&lt;extension&gt;']
<a class="reference internal" href="#document-guides/configuration#conf-external-packages"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">external_packages</span></code></span></a> = ['&lt;path&gt;', '&lt;path&gt;']
<a class="reference internal" href="#document-guides/configuration#conf-extra-license-exceptions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">extra_license_exceptions</span></code></span></a> = {'&lt;short-exception-id&gt;': '&lt;exception-name&gt;'}
<a class="reference internal" href="#document-guides/configuration#conf-extra-licenses"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">extra_licenses</span></code></span></a> = {'&lt;short-license-id&gt;': '&lt;license-name&gt;'}
<a class="reference internal" href="#document-guides/configuration#conf-license-header"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">license_header</span></code></span></a> = '&lt;data&gt;'
<a class="reference internal" href="#document-guides/configuration#conf-override-extract-tools"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">override_extract_tools</span></code></span></a> = {'&lt;tool&gt;': '&lt;tool-path&gt;'}
<a class="reference internal" href="#document-guides/configuration#conf-override-revisions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">override_revisions</span></code></span></a> = {'&lt;pkg&gt;': '&lt;revision&gt;'}   <em>(deprecated)</em>
<a class="reference internal" href="#document-guides/configuration#conf-override-sites"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">override_sites</span></code></span></a> = {'&lt;pkg&gt;': '&lt;site&gt;'}   <em>(deprecated)</em>
<a class="reference internal" href="#document-guides/configuration#conf-packages"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">packages</span></code></span></a> = ['&lt;pkg&gt;', '&lt;pkg&gt;', '&lt;pkg&gt;']
<a class="reference internal" href="#document-guides/configuration#conf-prerequisites"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">prerequisites</span></code></span></a> = ['&lt;tool&gt;', '&lt;tool&gt;', '&lt;tool&gt;']
<a class="reference internal" href="#document-guides/configuration#conf-quirks"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">quirks</span></code></span></a> = ['&lt;quirk-id&gt;']
<a class="reference internal" href="#document-guides/configuration#conf-revisions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">revisions</span></code></span></a> = {'&lt;pkg&gt;': '&lt;revision&gt;'}
<a class="reference internal" href="#document-guides/configuration#conf-sbom-format"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sbom_format</span></code></span></a> = '&lt;format&gt;'
¬†¬†‚îî‚îÄ‚îÄ csv, html, json, json-spdx, rdf-spdx, text, xml
<a class="reference internal" href="#document-guides/configuration#conf-sysroot-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">sysroot_prefix</span></code></span></a> = '&lt;path&gt;' # '/usr'
<a class="reference internal" href="#document-guides/configuration#conf-url-mirror"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">url_mirror</span></code></span></a> = '&lt;mirror-url&gt;'
<a class="reference internal" href="#document-guides/configuration#conf-urlopen-context"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">urlopen_context</span></code></span></a> = &lt;ssl.SSLContext&gt;
<a class="reference internal" href="#document-guides/configuration#conf-vsdevcmd"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd</span></code></span></a> = bool or str
<a class="reference internal" href="#document-guides/configuration#conf-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">vsdevcmd_products</span></code></span></a> = str</pre>
</section>
<section id="environment-variables">
<h3>Environment variables<a class="headerlink" href="#environment-variables" title="Link to this heading">¬∂</a></h3>
<p>Environment (and script) variables available to context‚Äôs invoked by
releng-tool (may vary per context):</p>
<pre class="literal-block"><a class="reference internal" href="#document-guides/environment#env-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">BUILD_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">CACHE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">DL_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-host-bin-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">HOST_BIN_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-host-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">HOST_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-host-include-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">HOST_INCLUDE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-host-lib-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">HOST_LIB_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-host-share-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">HOST_SHARE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">IMAGES_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-license-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LICENSE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-njobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">NJOBS</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-njobsconf"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">NJOBSCONF</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">OUTPUT_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-build-base-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_BASE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-build-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_BUILD_OUTPUT_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_CACHE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-cache-file"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_CACHE_FILE</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-defdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_DEFDIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-devmode"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_DEVMODE</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-internal"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_INTERNAL</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-localsrcs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_LOCALSRCS</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-name"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_NAME</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_REVISION</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-site"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_SITE</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PKG_VERSION</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PREFIX</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-prefixed-host-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PREFIXED_HOST_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-prefixed-staging-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PREFIXED_STAGING_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-prefixed-target-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">PREFIXED_TARGET_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-clean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_CLEAN</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-debug"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DEBUG</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-devmode"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DEVMODE</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-distclean"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DISTCLEAN</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-exec"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_EXEC</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-force"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_FORCE</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-generated-licenses"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_GENERATED_LICENSES</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-generated-sboms"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_GENERATED_SBOMS</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-localsrcs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_LOCALSRCS</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-mrproper"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_MRPROPER</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-profiles"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_PROFILES</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-rebuild"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_REBUILD</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-reconfigure"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_RECONFIGURE</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-reinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_REINSTALL</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-script"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-script-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_SCRIPT_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-target-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_TARGET_PKG</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-verbose"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_VERBOSE</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_VERSION</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-root-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">ROOT_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-staging-bin-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">STAGING_BIN_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-staging-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">STAGING_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-staging-include-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">STAGING_INCLUDE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-staging-lib-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">STAGING_LIB_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-staging-share-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">STAGING_SHARE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-symbols-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">SYMBOLS_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-target-bin-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">TARGET_BIN_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-target-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">TARGET_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-target-include-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">TARGET_INCLUDE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-target-lib-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">TARGET_LIB_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-target-share-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">TARGET_SHARE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-var-build-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;PKG_NAME&gt;_BUILD_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-var-output-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;PKG_NAME&gt;_BUILD_OUTPUT_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-var-defdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;PKG_NAME&gt;_DEFDIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-var-name"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;PKG_NAME&gt;_NAME</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-var-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;PKG_NAME&gt;_REVISION</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-pkg-var-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">&lt;PKG_NAME&gt;_VERSION</span></code></span></a></pre>
<p>Other environment variables accepted by releng-tool:</p>
<pre class="literal-block"><code class="docutils literal notranslate"><span class="pre">FORCE_COLOR</span></code>
<code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code>
<a class="reference internal" href="#document-guides/environment#env-releng-assets-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_ASSETS_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-cache-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_CACHE_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-dl-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_DL_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-global-out-container-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_GLOBAL_OUTPUT_CONTAINER_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-ignore-running-as-root"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_IGNORE_RUNNING_AS_ROOT</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-ignore-unknown-args"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_IGNORE_UNKNOWN_ARGS</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-images-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_IMAGES_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-out-dir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_OUTPUT_DIR</span></code></span></a>
<a class="reference internal" href="#document-guides/environment#env-releng-parallel-level"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">RELENG_PARALLEL_LEVEL</span></code></span></a></pre>
</section>
<section id="package-types">
<h3>Package types<a class="headerlink" href="#package-types" title="Link to this heading">¬∂</a></h3>
<p>Package types supported by releng-tool:</p>
<pre class="literal-block"><a class="reference internal" href="#document-guides/packages/pkg-type-autotools"><span class="doc std std-doc">Autotools</span></a>
<a class="reference internal" href="#document-guides/packages/pkg-type-cmake"><span class="doc std std-doc">CMake</span></a>
<a class="reference internal" href="#document-guides/packages/pkg-type-cargo"><span class="doc std std-doc">Cargo</span></a>
<a class="reference internal" href="#document-guides/packages/pkg-type-make"><span class="doc std std-doc">Make</span></a>
<a class="reference internal" href="#document-guides/packages/pkg-type-meson"><span class="doc std std-doc">Meson</span></a>
<a class="reference internal" href="#document-guides/packages/pkg-type-python"><span class="doc std std-doc">Python</span></a>
<a class="reference internal" href="#document-guides/packages/pkg-type-scons"><span class="doc std std-doc">SCons</span></a>
<a class="reference internal" href="#document-guides/packages/pkg-type-script"><span class="doc std std-doc">Script</span></a> <em>(default)</em>
<a class="reference internal" href="#document-guides/packages/pkg-type-waf"><span class="doc std std-doc">Waf</span></a></pre>
</section>
<section id="package-options">
<h3>Package options<a class="headerlink" href="#package-options" title="Link to this heading">¬∂</a></h3>
<p>Configuration options parsed by releng-tool for a package definition:</p>
<pre class="literal-block"><a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-autoreconf"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_AUTOTOOLS_AUTORECONF</span></code></span></a> = bool
<code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_DEFS</span></code> = {'FOO': 'BAR'}
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-build-defs"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-build-defs"><span class="std std-ref">Cargo</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-build-defs"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-build-defs"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-build-defs"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-build-defs"><span class="std std-ref">Python</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-build-defs"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-build-defs"><span class="std std-ref">Waf</span></a>)</em>
<code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_ENV</span></code> = {'FOO': 'BAR'}
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-build-env"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-build-env"><span class="std std-ref">Cargo</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-build-env"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-build-env"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-build-env"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-build-env"><span class="std std-ref">Python</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-build-env"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-build-env"><span class="std std-ref">Waf</span></a>)</em>
<code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_OPTS</span></code> = {'--option': 'value'} or ['--option', 'value']
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-build-opts"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-build-opts"><span class="std std-ref">Cargo</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-build-opts"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-build-opts"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-build-opts"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-build-opts"><span class="std std-ref">Python</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-build-opts"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-build-opts"><span class="std std-ref">Waf</span></a>)</em>
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-build-subdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_BUILD_SUBDIR</span></code></span></a> = '&lt;subdir&gt;'
<a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-name"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CARGO_NAME</span></code></span></a> = '&lt;name&gt;'
<a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CARGO_NOINSTALL</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_BUILD_TYPE</span></code></span></a> = '&lt;build-type&gt;'
¬†¬†‚îî‚îÄ‚îÄ Debug, Release, RelWithDebInfo (default), MinSizeRel
<a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_CMAKE_NOINSTALL</span></code></span></a> = bool
<code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_DEFS</span></code> = {'FOO': 'BAR'}
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-conf-defs"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-conf-defs"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-conf-defs"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-conf-defs"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-conf-defs"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-conf-defs"><span class="std std-ref">Waf</span></a>)</em>
<code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_ENV</span></code> = {'FOO': 'BAR'}
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-conf-env"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-conf-env"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-conf-env"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-conf-env"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-conf-env"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-conf-env"><span class="std std-ref">Waf</span></a>)</em>
<code class="docutils literal notranslate"><span class="pre">LIBFOO_CONF_OPTS</span></code> = {'--option': 'value'} or ['--option', 'value']
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-conf-opts"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-conf-opts"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-conf-opts"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-conf-opts"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-conf-opts"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-conf-opts"><span class="std std-ref">Waf</span></a>)</em>
<a class="reference internal" href="#document-guides/packages/deprecated-pkg-options#pkg-opt-dependencies"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEPENDENCIES</span></code></span></a> = ['&lt;pkg&gt;', '&lt;pkg&gt;']   <em>(deprecated)</em>
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_IGNORE_CACHE</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_PATCHES</span></code></span></a> = bool, '&lt;pattern&gt;', ['&lt;pattern&gt;'] or {'&lt;mode&gt;': bool or str}
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_REVISION</span></code></span></a> = '&lt;revision&gt;'
<code class="docutils literal notranslate"><span class="pre">LIBFOO_ENV</span></code> = {'FOO': 'BAR'}
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-env"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-env"><span class="std std-ref">Cargo</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-env"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-env"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-env"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-env"><span class="std std-ref">Python</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-env"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-env"><span class="std std-ref">Waf</span></a>)</em>
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-devmode-skip-integrity-check"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_DEVMODE_SKIP_INTEGRITY_CHECK</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-extension"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTENSION</span></code></span></a> = '&lt;extension&gt;'
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-external"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTERNAL</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-extopt"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTOPT</span></code></span></a> = {'FOO': 'BAR'}
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-extract-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_EXTRACT_TYPE</span></code></span></a> = 'ext-&lt;extraction-extension&gt;'
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fetch-opts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FETCH_OPTS</span></code></span></a> = {'--option': 'value'} or ['--option', 'value']
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-fixed-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_FIXED_JOBS</span></code></span></a> = int # &gt;= 1
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-git-config"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_CONFIG</span></code></span></a> = {'FOO': 'BAR'}
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-git-depth"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_DEPTH</span></code></span></a> = int # &gt;= 0
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-git-refspecs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_REFSPECS</span></code></span></a> = ['&lt;refspec&gt;'] # e.g. pull
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-git-submodules"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_SUBMODULES</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-git-verify-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_GIT_VERIFY_REVISION</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-host-provides"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_HOST_PROVIDES</span></code></span></a> = '&lt;tool&gt;' or ['&lt;tool-a&gt;', '&lt;tool-b&gt;']
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-ignore-patches"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_IGNORE_PATCHES</span></code></span></a> = bool, '&lt;pattern&gt;' or ['&lt;pattern&gt;']
<code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_DEFS</span></code> = {'FOO': 'BAR'}
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-install-defs"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-install-defs"><span class="std std-ref">Cargo</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-install-defs"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-install-defs"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-install-defs"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-install-defs"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-install-defs"><span class="std std-ref">Waf</span></a>)</em>
<code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_ENV</span></code> = {'FOO': 'BAR'}
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-install-env"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-install-env"><span class="std std-ref">Cargo</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-install-env"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-install-env"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-install-env"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-install-env"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-install-env"><span class="std std-ref">Waf</span></a>)</em>
<code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_OPTS</span></code> = {'--option': 'value'} or ['--option', 'value']
¬†¬†‚îî‚îÄ‚îÄ <em>(<a class="reference internal" href="#document-guides/packages/pkg-type-autotools#pkg-opt-autotools-install-opts"><span class="std std-ref">Autotools</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cargo#pkg-opt-cargo-install-opts"><span class="std std-ref">Cargo</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-cmake#pkg-opt-cmake-install-opts"><span class="std std-ref">CMake</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-install-opts"><span class="std std-ref">Make</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-install-opts"><span class="std std-ref">Meson</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-install-opts"><span class="std std-ref">SCons</span></a>, <a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-install-opts"><span class="std std-ref">Waf</span></a>)</em>
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-install-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INSTALL_TYPE</span></code></span></a> = '&lt;install-type&gt;'
¬†¬†‚îî‚îÄ‚îÄ host, images, staging, staging_and_target, target
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-internal"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_INTERNAL</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/pkg-type-make#pkg-opt-make-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAKE_NOINSTALL</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-max-jobs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MAX_JOBS</span></code></span></a> = int
<a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-build-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_BUILD_TYPE</span></code></span></a> = '&lt;build-type&gt;'
¬†¬†‚îî‚îÄ‚îÄ plain, debug, debugoptimized (default), release, minsize
<a class="reference internal" href="#document-guides/packages/pkg-type-meson#pkg-opt-meson-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_MESON_NOINSTALL</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-needs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_NEEDS</span></code></span></a> = ['&lt;pkg&gt;', '&lt;pkg&gt;']
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-no-extraction"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_NO_EXTRACTION</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-license"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE</span></code></span></a> = '&lt;license&gt;' or ['&lt;license&gt;', '&lt;license&gt;']
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-license-files"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_LICENSE_FILES</span></code></span></a> = '&lt;file&gt;' or ['&lt;file&gt;', '&lt;file&gt;']
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-only-devmode"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_ONLY_DEVMODE</span></code></span></a> = bool, '&lt;mode&gt;' or ['&lt;mode&gt;']
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-patch-subdir"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PATCH_SUBDIR</span></code></span></a> = '&lt;subdir&gt;'
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-preextract"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREEXTRACT</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-prefix"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PREFIX</span></code></span></a> = '&lt;path&gt;' # '/usr'
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-dist-path"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_DIST_PATH</span></code></span></a> = '&lt;path&gt;'  # e.g. 'dist/'
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-installer-interpreter"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_INTERPRETER</span></code></span></a> = '&lt;interpreter&gt;'
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-installer-launcher-kind"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_LAUNCHER_KIND</span></code></span></a> = '&lt;kind&gt;'
¬†¬†‚îî‚îÄ‚îÄ posix, win-amd64, win-arm64, win-arm, win-ia32
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-installer-scheme"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INSTALLER_SCHEME</span></code></span></a> = dict or str
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-interpreter"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_INTERPRETER</span></code></span></a> = '&lt;path&gt;'
<a class="reference internal" href="#document-guides/packages/pkg-type-python#pkg-opt-python-setup-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_PYTHON_SETUP_TYPE</span></code></span></a> = '&lt;setup-type&gt;'
¬†¬†‚îî‚îÄ‚îÄ distutils, setuptools, flit, hatch, pdm, pep517, poetry
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-remote-config"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REMOTE_CONFIG</span></code></span></a> = bool   <em>(deprecated)</em>
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-remote-scripts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REMOTE_SCRIPTS</span></code></span></a> = bool   <em>(deprecated)</em>
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-revision"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_REVISION</span></code></span></a> = '&lt;revision&gt;'
<a class="reference internal" href="#document-guides/packages/pkg-type-scons#pkg-opt-scons-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_SCONS_NOINSTALL</span></code></span></a> = bool
<a class="reference internal" href="#document-guides/packages/deprecated-pkg-options#pkg-opt-skip-remote-config"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_SKIP_REMOTE_CONFIG</span></code></span></a> = bool   <em>(deprecated)</em>
<a class="reference internal" href="#document-guides/packages/deprecated-pkg-options#pkg-opt-skip-remote-scripts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_SKIP_REMOTE_SCRIPTS</span></code></span></a> = bool   <em>(deprecated)</em>
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-site"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_SITE</span></code></span></a> = '&lt;site&gt;'
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-strip-count"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_STRIP_COUNT</span></code></span></a> = int # &gt;= 0
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_TYPE</span></code></span></a> = '&lt;type&gt;'
¬†¬†‚îî‚îÄ‚îÄ autotools, cargo, cmake, make, meson, python, scons, script, waf, ext-&lt;extension&gt;
<a class="reference internal" href="#document-guides/packages/advanced-pkg-options#pkg-opt-vcs-type"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VCS_TYPE</span></code></span></a> = '&lt;vcs-type&gt;'
¬†¬†‚îî‚îÄ‚îÄ brz, bzr, cvs, file, git, hg, local, none, perforce, rsync, scp, svn, url
<a class="reference internal" href="#document-guides/packages/common-pkg-options#pkg-opt-version"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VERSION</span></code></span></a> = '&lt;version&gt;'
<a class="reference internal" href="#document-guides/packages/system-pkg-options#pkg-opt-vsdevcmd"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD</span></code></span></a> = bool or str
<a class="reference internal" href="#document-guides/packages/system-pkg-options#pkg-opt-vsdevcmd-products"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_VSDEVCMD_PRODUCTS</span></code></span></a> = str
<a class="reference internal" href="#document-guides/packages/pkg-type-waf#pkg-opt-waf-noinstall"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">LIBFOO_WAF_NOINSTALL</span></code></span></a> = bool</pre>
</section>
<section id="script-helpers">
<h3>Script helpers<a class="headerlink" href="#script-helpers" title="Link to this heading">¬∂</a></h3>
<p>Functions available to scripts invoked by releng-tool or importable via
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">releng_tool</span> <span class="pre">import</span> <span class="pre">*</span></code>:</p>
<pre class="literal-block"><a class="reference internal" href="#document-guides/script-helpers#releng_tool.debug" title="releng_tool.debug"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">debug</span></code></span></a>(msg, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.err" title="releng_tool.err"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">err</span></code></span></a>(msg, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.hint" title="releng_tool.hint"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">hint</span></code></span></a>(msg, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.log" title="releng_tool.log"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">log</span></code></span></a>(msg, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.note" title="releng_tool.note"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">note</span></code></span></a>(msg, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_cat" title="releng_tool.releng_cat"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_cat</span></code></span></a>(file, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_copy" title="releng_tool.releng_copy"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_copy</span></code></span></a>(src, dst, quiet=False, critical=True, dst_dir=None, nested=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_copy_into" title="releng_tool.releng_copy_into"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_copy_into</span></code></span></a>(src, dst, quiet=False, critical=True, nested=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_define" title="releng_tool.releng_define"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_define</span></code></span></a>(var, default=None)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_env" title="releng_tool.releng_env"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_env</span></code></span></a>(key, value=None)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_execute" title="releng_tool.releng_execute"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_execute</span></code></span></a>(args, cwd=None, env=None, env_update=None, quiet=False, critical=True,
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†poll=False, capture=None, expand=None, args_native=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_execute_rv" title="releng_tool.releng_execute_rv"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_execute_rv</span></code></span></a>(command, args, cwd=None, env=None, env_update=None, args_native=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_exists" title="releng_tool.releng_exists"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_exists</span></code></span></a>(path, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_exit" title="releng_tool.releng_exit"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_exit</span></code></span></a>(msg=None, code=None)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_expand" title="releng_tool.releng_expand"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_expand</span></code></span></a>(obj, kv=None)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_include" title="releng_tool.releng_include"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_include</span></code></span></a>(file_path)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_join" title="releng_tool.releng_join"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">releng_join</span></code></span></a>(path, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_ls" title="releng_tool.releng_ls"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_ls</span></code></span></a>(dir_, recursive=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_mkdir" title="releng_tool.releng_mkdir"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_mkdir</span></code></span></a>(dir_, *args, quiet=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_move" title="releng_tool.releng_move"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_move</span></code></span></a>(src, dst, quiet=False, critical=True, dst_dir=None, nested=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_move_into" title="releng_tool.releng_move_into"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_move_into</span></code></span></a>(src, dst, quiet=False, critical=True, nested=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_path" title="releng_tool.releng_path"><span class="xref myst py py-meth"><code class="docutils literal notranslate"><span class="pre">releng_path</span></code></span></a>(*pathsegments)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_remove" title="releng_tool.releng_remove"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_remove</span></code></span></a>(path, quiet=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_require_version" title="releng_tool.releng_require_version"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_require_version</span></code></span></a>(minver, maxver=None, quiet=False, critical=True)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_symlink" title="releng_tool.releng_symlink"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_symlink</span></code></span></a>(target, link_path, quiet=False, critical=True, lpd=False, relative=True)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_tmpdir" title="releng_tool.releng_tmpdir"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_tmpdir</span></code></span></a>(dir_=None, *args, wd=False)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_touch" title="releng_tool.releng_touch"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_touch</span></code></span></a>(file, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.releng_wd" title="releng_tool.releng_wd"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">releng_wd</span></code></span></a>(dir_)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.success" title="releng_tool.success"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">success</span></code></span></a>(msg, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.verbose" title="releng_tool.verbose"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">verbose</span></code></span></a>(msg, *args)
<a class="reference internal" href="#document-guides/script-helpers#releng_tool.warn" title="releng_tool.warn"><span class="xref myst py py-func"><code class="docutils literal notranslate"><span class="pre">warn</span></code></span></a>(msg, *args)</pre>
</section>
<section id="quirks">
<h3>Quirks<a class="headerlink" href="#quirks" title="Link to this heading">¬∂</a></h3>
<p>Quirk options used by releng-tool:</p>
<pre class="literal-block"><a class="reference internal" href="#document-guides/quirks/quirk-bzr-certifi#quirk-releng-bzr-certifi"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.bzr.certifi</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-cmake-disable_direct_includes#quirk-releng-cmake-disable-direct-includes"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.cmake.disable_direct_includes</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-disable_devmode_ignore_cache#quirk-releng-disable-devmode-ignore-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_devmode_ignore_cache</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-disable_local_site_warn#quirk-releng-disable-local-site-warn"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_local_site_warn</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-disable_prerequisites_check#quirk-releng-disable-prerequisites-check"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_prerequisites_check</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-disable_remote_configs#quirk-releng-disable-remote-configs"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_remote_configs</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-disable_remote_scripts#quirk-releng-disable-remote-scripts"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_remote_scripts</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-disable_spdx_check#quirk-releng-disable-spdx-check"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_spdx_check</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-disable_verbose_patch#quirk-releng-disable-verbose-patch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.disable_verbose_patch</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-git-no_depth#quirk-releng-git-no-depth"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.git.no_depth</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-git-no_quick_fetch#quirk-releng-git-no-quick-fetch"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.git.no_quick_fetch</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-git-replicate_cache#quirk-releng-git-replicate-cache"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.git.replicate_cache</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-ignore_failed_extensions#quirk-releng-ignore-failed-extensions"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.ignore_failed_extensions</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-log-execute_args#quirk-releng-log-execute-args"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.log.execute_args</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-log-execute_env#quirk-releng-log-execute-env"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.log.execute_env</span></code></span></a>
<a class="reference internal" href="#document-guides/quirks/quirk-stats-no_pdf#quirk-releng-stats-no-pdf"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">releng.stats.no_pdf</span></code></span></a></pre>
</section>
</section>
</div>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/releng-tool/releng-tool" aria-label="GitHub">
<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
</svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=8467194e"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="_static/tabs.js?v=3ee01567"></script>
    <script src="_static/translations.js?v=9bf55d28"></script>
    </body>
</html>